/*
THIS IS A GENERATED/BUNDLED FILE BY ESBUILD
if you want to view the source, please visit the github repository of this plugin
*/

var __defProp = Object.defineProperty;
var __getOwnPropDesc = Object.getOwnPropertyDescriptor;
var __getOwnPropNames = Object.getOwnPropertyNames;
var __hasOwnProp = Object.prototype.hasOwnProperty;
var __export = (target, all) => {
  for (var name in all)
    __defProp(target, name, { get: all[name], enumerable: true });
};
var __copyProps = (to, from, except, desc) => {
  if (from && typeof from === "object" || typeof from === "function") {
    for (let key of __getOwnPropNames(from))
      if (!__hasOwnProp.call(to, key) && key !== except)
        __defProp(to, key, { get: () => from[key], enumerable: !(desc = __getOwnPropDesc(from, key)) || desc.enumerable });
  }
  return to;
};
var __toCommonJS = (mod) => __copyProps(__defProp({}, "__esModule", { value: true }), mod);

// main.ts
var main_exports = {};
__export(main_exports, {
  default: () => GenerateMarkdownPlugin
});
module.exports = __toCommonJS(main_exports);
var import_obsidian3 = require("obsidian");

// src/views/generate-markdown.ts
var import_obsidian2 = require("obsidian");

// src/utils.ts
var import_fs = require("fs");
var fixSpaceInName = (name) => {
  return name.replace(/[\u00A0\u1680\u180E\u2000-\u200B\u202F\u205F\u3000\uFEFF]/, " ").trim();
};
var getNoteByName = (name, loadedFiles) => {
  const loadedFile = loadedFiles.find((file) => file.basename === name);
  const fullPath = app.vault.adapter.getFullPath(name);
  if (!loadedFile)
    return "";
  const absolutePath = fullPath.replace(name, loadedFile.path.replace("/", "\\"));
  const note = (0, import_fs.readFileSync)(absolutePath, { encoding: "utf8" });
  return note;
};

// src/components/Button.ts
var Button = class {
  constructor(element, text, onClick, args) {
    this.btn = element.createEl("button", { text, ...args });
    this.btn.onclick = () => {
      onClick(this);
    };
    return this;
  }
};

// src/components/Link.ts
var BaseLink = class {
  constructor(context, element, name) {
    this.context = context;
    this.element = element;
    this.name = name;
    this.render();
  }
  render() {
    const hrefTitle = this.element.createEl("a", { text: this.name, cls: "cont__title" });
    hrefTitle.onclick = () => {
      this.context.workspace.openLinkText(this.name, "");
    };
  }
};
var Link = class {
  constructor(context, element, link, renderNow = true) {
    this.toggledState = false;
    this.link = link;
    this.context = context;
    this.element = element;
    if (renderNow)
      this.render(false);
    return this;
  }
  render(state) {
    this.a = this.element.createEl("a", { text: this.link.name, cls: "link" });
    !this.link.exists && this.a.addClass("cont__link-not-exist");
    this.link.inline && this.a.addClass("inline");
    this.a.onclick = () => {
      this.context.workspace.openLinkText(this.link.name, "");
      !this.link.exists && this.a.removeClass("cont__link-not-exist");
    };
    this.toggle(state);
  }
  toggle(state) {
    if (state)
      this.a.removeClass("strikethrough");
    else
      this.a.addClass("strikethrough");
  }
};

// src/components/SaveModal.ts
var import_obsidian = require("obsidian");
var SaveModal = class extends import_obsidian.Modal {
  constructor(app2, onSubmit) {
    super(app2);
    this.onSubmit = onSubmit;
  }
  onOpen() {
    const { contentEl } = this;
    contentEl.createEl("h1", { text: "Save As" });
    new import_obsidian.Setting(contentEl).setName("File name: ").addText((text) => text.onChange((value) => {
      this.result = value;
    }));
    new import_obsidian.Setting(contentEl).addButton((btn) => btn.setButtonText("Generate markdown note").setCta().onClick(() => {
      this.close();
      this.onSubmit(this.result);
    }));
  }
  onClose() {
    let { contentEl } = this;
    contentEl.empty();
  }
};

// src/components/TreeMenu.ts
function flattenChildren(link, children) {
  if ("children" in link) {
    const childrenLinkNames = link.children.map((l) => l.name);
    children.push(...childrenLinkNames);
    link.children.forEach((l) => {
      flattenChildren(l, children);
    });
  }
  return children;
}
var TreeMenu = class {
  constructor(app2, structure, linksTree, event) {
    this.ignoredLinks = [];
    this.linksTree = [];
    this.app = app2;
    let menu = structure.createEl("div", { cls: "tree-menu" });
    this.UL = menu.createEl("ul");
    this.linksTree = linksTree;
    this.render(this.linksTree, this.UL, [], event);
  }
  render(links, menuEl, childrenLinks, event) {
    if (!childrenLinks)
      childrenLinks = [];
    links.forEach((link) => {
      const li = menuEl.createEl("li");
      const linkEl = new Link(this.app, li, link, false);
      let state = !childrenLinks.includes(linkEl.link.name);
      if (!link.exists)
        state = false;
      new Checkbox(li, state, link.exists, () => {
        const children = [linkEl.link.name, ...flattenChildren(linkEl.link, [])];
        if (state == false) {
          childrenLinks = childrenLinks.filter((cl) => !children.includes(cl));
        } else {
          childrenLinks.push(...children);
          childrenLinks = [...new Set(childrenLinks)];
        }
        this.ignoredLinks = childrenLinks;
        this.UL.empty();
        this.render(this.linksTree, this.UL, childrenLinks, event);
      });
      linkEl.render(state);
      if ("children" in link) {
        const ul = li.createEl("ul");
        this.render(link.children, ul, childrenLinks, event);
      }
    });
    return event(this.ignoredLinks);
  }
};

// src/components/Checkbox.ts
var Checkbox = class {
  constructor(element, state, exists, onClick) {
    this.cb = element.createEl("input", {
      type: "checkbox",
      cls: "checkbox-btn"
    });
    this.cb.checked = state;
    if (!exists) {
      this.cb.disabled = true;
      this.cb.checked = false;
      this.cb.addClass("checkbox-btn-disabled");
    }
    this.cb.onclick = () => {
      onClick(this);
    };
    return this;
  }
};

// src/views/generate-markdown.ts
var VIEW_CONTENT_COMPOSE_NOTES = "view-generate-markdown";
var _GenerateMarkdown = class extends import_obsidian2.ItemView {
  constructor(leaf, settings) {
    super(leaf);
    this.linksTree = [];
    this.loadedFiles = [];
    this.maxLevel = 0;
    this.processed = [];
    this.mainNameLinks = [];
    this.markdown = "";
    this.ignoredLinks = [];
    this.images = [];
    this.settings = settings;
  }
  async onOpen() {
    const container = this.containerEl.children[1];
    this.container = container;
    container.empty();
    this.toolbar = container.createEl("div");
    this.generatePreviewParent = this.toolbar.createEl("span");
    this.generateMarkdownParent = this.toolbar.createEl("span");
    this.structure = this.container.createEl("div");
    new Button(this.generatePreviewParent, "Generate preview", () => {
      this.linksTree = [];
      this.maxLevel = 0;
      this.processed = [];
      this.mainNameLinks = [];
      this.ignoredLinks = [];
      this.markdown = "";
      this.structure.empty();
      this.generateMarkdownParent.empty();
      this.readSelectedNote();
    });
  }
  parseLinks(text, index = false) {
    const links = text.matchAll(/\[\[(.*?)\]\]/g);
    let cleanLinks = [...links].map((l) => l[1]);
    cleanLinks = [...new Set(cleanLinks)];
    cleanLinks = cleanLinks.filter((cl) => !cl.startsWith("#"));
    const existingNotes = cleanLinks.map((cl) => {
      cl = fixSpaceInName(cl);
      if (!!_GenerateMarkdown.imageTypes.filter((it) => cl.includes(it.toLowerCase())).length) {
        this.images.push(cl);
        return false;
      }
      let isInline = true;
      if (text.includes(this.settings.listOfLinksKeyword)) {
        let [inlineText, linksText] = text.split(this.settings.listOfLinksKeyword);
        if (!inlineText.includes(cl))
          isInline = false;
      }
      let isIndex = false;
      if (index) {
        isInline = false;
        isIndex = true;
      }
      const note = this.loadedFiles.find((f) => f["basename"] === cl);
      return {
        name: cl,
        exists: !!note,
        inline: isInline,
        index: isIndex
      };
    }).filter(Boolean);
    return existingNotes;
  }
  readSelectedNote() {
    this.loadedFiles = app.vault.getAllLoadedFiles();
    const activeNote = this.app.workspace.getActiveFile();
    if (!activeNote) {
      new import_obsidian2.Notice(`Selected note is invalid.`);
      throw new Error("Selected note is invalid.");
    }
    const activeNoteText = getNoteByName(activeNote.basename, this.loadedFiles);
    const mainContentLinks = this.parseLinks(activeNoteText, true);
    this.mainNameLinks = mainContentLinks.map((l) => l.name);
    this.linksTree = this.generateNotesHierarchy(mainContentLinks);
    const title = activeNote.basename;
    new BaseLink(this.app, this.structure, title);
    new TreeMenu(this.app, this.structure, this.linksTree, (ignoredLinks) => {
      this.ignoredLinks = ignoredLinks;
    });
    new Button(this.generateMarkdownParent, "Generate markdown", () => {
      this.markdown = "";
      this.generateMarkdownFile(this.linksTree, activeNoteText);
    }, { cls: "generate-markdown-btn" });
  }
  generateMarkdownFile(links, mainNote) {
    this.composeMarkdown(links);
    this.mainNameLinks.forEach((mnl) => {
      mainNote = mainNote.replaceAll(`[[${mnl}]]`, `[[#${mnl}]]`);
    });
    this.markdown = mainNote + this.markdown;
    new SaveModal(this.app, (fileName) => {
      this.app.vault.adapter.write(`${fileName}.md`, this.markdown).then(() => {
        new import_obsidian2.Notice(`Note ${fileName} created successfully`);
        this.app.workspace.openLinkText(`${fileName}.md`, "");
      });
    }).open();
  }
  composeMarkdown(links) {
    links.forEach((link) => {
      let note = getNoteByName(link.name, this.loadedFiles);
      const localLinks = this.parseLinks(note);
      if (this.ignoredLinks.includes(link.name))
        return;
      note = note.trim();
      if (note.length == 0)
        return;
      localLinks.forEach((localLink) => {
        if (localLink.inline && this.ignoredLinks.includes(localLink.name))
          note = note.replaceAll(`[[${localLink.name}]]`, localLink.name);
        else
          note = note.replaceAll(`[[${localLink.name}]]`, `[[#${localLink.name}]]`);
      });
      let noteRows = note.split("\n");
      let firstRow = fixSpaceInName(noteRows[0]);
      if (firstRow.includes(`# ${link.name}`)) {
        noteRows.shift();
        note = noteRows.join("\n").trim();
      }
      noteRows = note.split("\n");
      note = noteRows.map((noteRow) => {
        const match = noteRow.match(/# (\w+)/);
        if (match)
          return `**${match[1]}**`;
        return noteRow;
      }).join("\n");
      if (note.includes(this.settings.listOfLinksKeyword)) {
        let [importantPart, endPart] = note.split(this.settings.listOfLinksKeyword);
        note = importantPart.trim();
      }
      let title = "";
      if (link.inline) {
        title = `##### ${link.name}`;
      } else {
        const nestedLevel = Array(link.level).fill("#").join("");
        title = `${nestedLevel} ${link.name}`;
      }
      note = `

${title}
${note}`;
      this.markdown += note;
      if ("children" in link)
        this.composeMarkdown(link.children);
    });
  }
  generateNotesHierarchy(links) {
    const linksObj = this.dfs(links, 0);
    let linksArr = [];
    Object.keys(linksObj).forEach((key) => {
      var _a, _b;
      const { parentRef, ...rest } = linksObj[key];
      linksArr.push({ ...rest, parent: (_b = (_a = linksObj[key]) == null ? void 0 : _a.parentRef) == null ? void 0 : _b.name });
    });
    const getNestedChildren = (arr, parent) => {
      let children = [];
      for (let i = 0; i < arr.length; i++) {
        if (arr[i].parent == parent) {
          const grandChildren = getNestedChildren(arr, arr[i].name);
          if (grandChildren.length) {
            arr[i].children = grandChildren;
          }
          children.push(arr[i]);
        }
      }
      return children;
    };
    return getNestedChildren(linksArr, void 0);
  }
  dfs(links, level, parentRef, titleMapping) {
    titleMapping = titleMapping != null ? titleMapping : {};
    links.forEach((link, order) => {
      if (this.mainNameLinks.includes(link.name) && level != 0)
        return;
      if (this.processed.includes(link.name))
        return;
      this.processed.push(link.name);
      const note = getNoteByName(link.name, this.loadedFiles);
      const subLinks = this.parseLinks(note);
      this.maxLevel = level + 1;
      titleMapping[link.name] = { ...link, parentRef, level: this.maxLevel, order };
      if (links.length > 0) {
        this.dfs(subLinks, this.maxLevel, titleMapping[link.name], titleMapping);
      }
    });
    return titleMapping;
  }
  async onClose() {
  }
  getViewType() {
    return VIEW_CONTENT_COMPOSE_NOTES;
  }
  getDisplayText() {
    return "Notes Merger";
  }
};
var GenerateMarkdown = _GenerateMarkdown;
GenerateMarkdown.imageTypes = ["jpg", "jpeg", "png", "gif", "webp", "tiff", "bmp"].map((it) => `.${it}`);

// main.ts
var DEFAULT_SETTINGS = {
  listOfLinksKeyword: "Kam d\xE1l",
  literatureNote: "Literature"
};
var GenerateMarkdownPlugin = class extends import_obsidian3.Plugin {
  async onload() {
    await this.loadSettings();
    this.addSettingTab(new GenerateMarkdownPluginSettingTab(this.app, this));
    this.registerView(VIEW_CONTENT_COMPOSE_NOTES, (leaf) => new GenerateMarkdown(leaf, this.settings));
    this.addRibbonIcon("scroll", "NotesMerger", () => {
      this.activateGenerateMarkdownView();
    });
  }
  async activateGenerateMarkdownView() {
    this.app.workspace.detachLeavesOfType(VIEW_CONTENT_COMPOSE_NOTES);
    await this.app.workspace.getRightLeaf(false).setViewState({
      type: VIEW_CONTENT_COMPOSE_NOTES,
      active: true
    });
    this.app.workspace.revealLeaf(this.app.workspace.getLeavesOfType(VIEW_CONTENT_COMPOSE_NOTES)[0]);
  }
  onunload() {
    this.app.workspace.detachLeavesOfType(VIEW_CONTENT_COMPOSE_NOTES);
  }
  async loadSettings() {
    this.settings = Object.assign({}, DEFAULT_SETTINGS, await this.loadData());
  }
  async saveSettings() {
    await this.saveData(this.settings);
  }
};
var GenerateMarkdownPluginSettingTab = class extends import_obsidian3.PluginSettingTab {
  constructor(app2, plugin) {
    super(app2, plugin);
    this.plugin = plugin;
  }
  display() {
    const { containerEl } = this;
    containerEl.empty();
    containerEl.createEl("h2", { text: "Settings" });
    new import_obsidian3.Setting(containerEl).setName("List of links keyword").setDesc("Keyword to detect list of links at the end of note").addText((text) => text.setPlaceholder('Defaults to "Kam d\xE1l"').setValue(this.plugin.settings.listOfLinksKeyword).onChange(async (value) => {
      this.plugin.settings.listOfLinksKeyword = value;
      await this.plugin.saveSettings();
    }));
    new import_obsidian3.Setting(containerEl).setName("Literature note").setDesc("Name of note with citations").addText((text) => text.setPlaceholder('Defaults to "Literature"').setValue(this.plugin.settings.literatureNote).onChange(async (value) => {
      this.plugin.settings.literatureNote = value;
      await this.plugin.saveSettings();
    }));
  }
};
//# sourceMappingURL=data:application/json;base64,ewogICJ2ZXJzaW9uIjogMywKICAic291cmNlcyI6IFsibWFpbi50cyIsICJzcmMvdmlld3MvZ2VuZXJhdGUtbWFya2Rvd24udHMiLCAic3JjL3V0aWxzLnRzIiwgInNyYy9jb21wb25lbnRzL0J1dHRvbi50cyIsICJzcmMvY29tcG9uZW50cy9MaW5rLnRzIiwgInNyYy9jb21wb25lbnRzL1NhdmVNb2RhbC50cyIsICJzcmMvY29tcG9uZW50cy9UcmVlTWVudS50cyIsICJzcmMvY29tcG9uZW50cy9DaGVja2JveC50cyJdLAogICJzb3VyY2VzQ29udGVudCI6IFsiaW1wb3J0IHsgQXBwLCBQbHVnaW4sIFBsdWdpblNldHRpbmdUYWIsIFNldHRpbmcgfSBmcm9tICdvYnNpZGlhbic7XG5pbXBvcnQgeyBHZW5lcmF0ZU1hcmtkb3duLCBWSUVXX0NPTlRFTlRfQ09NUE9TRV9OT1RFUyB9IGZyb20gJy4vc3JjL3ZpZXdzL2dlbmVyYXRlLW1hcmtkb3duJztcblxuZXhwb3J0IGludGVyZmFjZSBHZW5lcmF0ZU1hcmtkb3duUGx1Z2luU2V0dGluZ3NUeXBlIHtcblx0bGlzdE9mTGlua3NLZXl3b3JkOiBzdHJpbmc7XG5cdGxpdGVyYXR1cmVOb3RlOiBzdHJpbmc7XG59XG5cbmNvbnN0IERFRkFVTFRfU0VUVElOR1M6IEdlbmVyYXRlTWFya2Rvd25QbHVnaW5TZXR0aW5nc1R5cGUgPSB7XG5cdGxpc3RPZkxpbmtzS2V5d29yZDogJ0thbSBkXHUwMEUxbCcsXG5cdGxpdGVyYXR1cmVOb3RlOiAnTGl0ZXJhdHVyZSdcbn1cblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgR2VuZXJhdGVNYXJrZG93blBsdWdpbiBleHRlbmRzIFBsdWdpbiB7XG5cdHNldHRpbmdzOiBHZW5lcmF0ZU1hcmtkb3duUGx1Z2luU2V0dGluZ3NUeXBlO1xuXG5cdGFzeW5jIG9ubG9hZCgpIHtcblx0XHRhd2FpdCB0aGlzLmxvYWRTZXR0aW5ncygpO1xuXG5cdFx0dGhpcy5hZGRTZXR0aW5nVGFiKG5ldyBHZW5lcmF0ZU1hcmtkb3duUGx1Z2luU2V0dGluZ1RhYih0aGlzLmFwcCwgdGhpcykpO1x0XG5cblx0XHR0aGlzLnJlZ2lzdGVyVmlldyhcblx0XHRcdFZJRVdfQ09OVEVOVF9DT01QT1NFX05PVEVTLFxuXHRcdFx0KGxlYWYpID0+IG5ldyBHZW5lcmF0ZU1hcmtkb3duKGxlYWYsIHRoaXMuc2V0dGluZ3MpXG5cdFx0KTtcblx0XHRcblx0XHR0aGlzLmFkZFJpYmJvbkljb24oXCJzY3JvbGxcIiwgXCJOb3Rlc01lcmdlclwiLCAoKSA9PiB7XG5cdFx0XHR0aGlzLmFjdGl2YXRlR2VuZXJhdGVNYXJrZG93blZpZXcoKTtcblx0XHR9KTtcblx0fVxuXG5cdGFzeW5jIGFjdGl2YXRlR2VuZXJhdGVNYXJrZG93blZpZXcoKSB7XG5cdFx0dGhpcy5hcHAud29ya3NwYWNlLmRldGFjaExlYXZlc09mVHlwZShWSUVXX0NPTlRFTlRfQ09NUE9TRV9OT1RFUyk7XG5cdFxuXHRcdGF3YWl0IHRoaXMuYXBwLndvcmtzcGFjZS5nZXRSaWdodExlYWYoZmFsc2UpLnNldFZpZXdTdGF0ZSh7XG5cdFx0ICB0eXBlOiBWSUVXX0NPTlRFTlRfQ09NUE9TRV9OT1RFUyxcblx0XHQgIGFjdGl2ZTogdHJ1ZSxcblx0XHR9KTtcblx0XG5cdFx0dGhpcy5hcHAud29ya3NwYWNlLnJldmVhbExlYWYoXG5cdFx0ICB0aGlzLmFwcC53b3Jrc3BhY2UuZ2V0TGVhdmVzT2ZUeXBlKFZJRVdfQ09OVEVOVF9DT01QT1NFX05PVEVTKVswXVxuXHRcdCk7XG5cdH1cblxuXHRvbnVubG9hZCgpIHtcblx0XHR0aGlzLmFwcC53b3Jrc3BhY2UuZGV0YWNoTGVhdmVzT2ZUeXBlKFZJRVdfQ09OVEVOVF9DT01QT1NFX05PVEVTKTtcblx0fVxuXG5cdGFzeW5jIGxvYWRTZXR0aW5ncygpIHtcblx0XHR0aGlzLnNldHRpbmdzID0gT2JqZWN0LmFzc2lnbih7fSwgREVGQVVMVF9TRVRUSU5HUywgYXdhaXQgdGhpcy5sb2FkRGF0YSgpKTtcblx0fVxuXG5cdGFzeW5jIHNhdmVTZXR0aW5ncygpIHtcblx0XHRhd2FpdCB0aGlzLnNhdmVEYXRhKHRoaXMuc2V0dGluZ3MpO1xuXHR9XG59XG5cbmNsYXNzIEdlbmVyYXRlTWFya2Rvd25QbHVnaW5TZXR0aW5nVGFiIGV4dGVuZHMgUGx1Z2luU2V0dGluZ1RhYiB7XG5cdHBsdWdpbjogR2VuZXJhdGVNYXJrZG93blBsdWdpbjtcblxuXHRjb25zdHJ1Y3RvcihhcHA6IEFwcCwgcGx1Z2luOiBHZW5lcmF0ZU1hcmtkb3duUGx1Z2luKSB7XG5cdFx0c3VwZXIoYXBwLCBwbHVnaW4pO1xuXHRcdHRoaXMucGx1Z2luID0gcGx1Z2luO1xuXHR9XG5cblx0ZGlzcGxheSgpOiB2b2lkIHtcblxuXHRcdGNvbnN0IHsgY29udGFpbmVyRWwgfSA9IHRoaXM7XG5cblx0XHRjb250YWluZXJFbC5lbXB0eSgpO1xuXG5cdFx0Y29udGFpbmVyRWwuY3JlYXRlRWwoJ2gyJywge3RleHQ6ICdTZXR0aW5ncyd9KTtcblx0XHRcblx0XHRuZXcgU2V0dGluZyhjb250YWluZXJFbClcblx0XHRcdC5zZXROYW1lKCdMaXN0IG9mIGxpbmtzIGtleXdvcmQnKVxuXHRcdFx0LnNldERlc2MoJ0tleXdvcmQgdG8gZGV0ZWN0IGxpc3Qgb2YgbGlua3MgYXQgdGhlIGVuZCBvZiBub3RlJylcblx0XHRcdC5hZGRUZXh0KHRleHQgPT4gdGV4dFxuXHRcdFx0XHQuc2V0UGxhY2Vob2xkZXIoJ0RlZmF1bHRzIHRvIFwiS2FtIGRcdTAwRTFsXCInKVxuXHRcdFx0XHQuc2V0VmFsdWUodGhpcy5wbHVnaW4uc2V0dGluZ3MubGlzdE9mTGlua3NLZXl3b3JkKVxuXHRcdFx0XHQub25DaGFuZ2UoYXN5bmMgKHZhbHVlKSA9PiB7XG5cdFx0XHRcdFx0dGhpcy5wbHVnaW4uc2V0dGluZ3MubGlzdE9mTGlua3NLZXl3b3JkID0gdmFsdWU7XG5cdFx0XHRcdFx0YXdhaXQgdGhpcy5wbHVnaW4uc2F2ZVNldHRpbmdzKCk7XG5cdFx0XHRcdH0pKTtcblxuXHRcdG5ldyBTZXR0aW5nKGNvbnRhaW5lckVsKVxuXHRcdC5zZXROYW1lKCdMaXRlcmF0dXJlIG5vdGUnKVxuXHRcdC5zZXREZXNjKCdOYW1lIG9mIG5vdGUgd2l0aCBjaXRhdGlvbnMnKVxuXHRcdC5hZGRUZXh0KHRleHQgPT4gdGV4dFxuXHRcdFx0LnNldFBsYWNlaG9sZGVyKCdEZWZhdWx0cyB0byBcIkxpdGVyYXR1cmVcIicpXG5cdFx0XHQuc2V0VmFsdWUodGhpcy5wbHVnaW4uc2V0dGluZ3MubGl0ZXJhdHVyZU5vdGUpXG5cdFx0XHQub25DaGFuZ2UoYXN5bmMgKHZhbHVlKSA9PiB7XG5cdFx0XHRcdHRoaXMucGx1Z2luLnNldHRpbmdzLmxpdGVyYXR1cmVOb3RlID0gdmFsdWU7XG5cdFx0XHRcdGF3YWl0IHRoaXMucGx1Z2luLnNhdmVTZXR0aW5ncygpO1xuXHRcdFx0fSkpO1xuXHR9XG59XG4iLCAiaW1wb3J0IHsgSXRlbVZpZXcsIFdvcmtzcGFjZUxlYWYsIE5vdGljZSwgVEFic3RyYWN0RmlsZSwgVEZpbGUsIEFwcCB9IGZyb20gXCJvYnNpZGlhblwiO1xuaW1wb3J0IHsgZml4U3BhY2VJbk5hbWUsIGdldE5vdGVCeU5hbWUgfSBmcm9tICcuLi91dGlscyc7XG5cbmltcG9ydCB7IEdlbmVyYXRlTWFya2Rvd25QbHVnaW5TZXR0aW5nc1R5cGUgfSBmcm9tICcuLi8uLi9tYWluJztcblxuaW1wb3J0IHtcblx0QnV0dG9uLCBcblx0QmFzZUxpbmssXG5cdFNhdmVNb2RhbCwgXG5cdFRyZWVNZW51LFxufSBmcm9tICcuLi9jb21wb25lbnRzL2luZGV4JztcblxuXG5leHBvcnQgY29uc3QgVklFV19DT05URU5UX0NPTVBPU0VfTk9URVMgPSBcInZpZXctZ2VuZXJhdGUtbWFya2Rvd25cIjtcblxuXG5leHBvcnQgaW50ZXJmYWNlIExpbmtUcmVlVHlwZSB7XG5cdG5hbWU6IHN0cmluZztcblx0cGFyZW50Pzogc3RyaW5nIHwgdW5kZWZpbmVkO1xuXHRjaGlsZHJlbjogTGlua1RyZWVUeXBlW107XG5cdGluZGV4OiBib29sZWFuO1xuXHRleGlzdHM6IGJvb2xlYW47XG5cdGlubGluZTogYm9vbGVhbjtcblx0bGV2ZWw/OiBudW1iZXI7XG5cdG9yZGVyPzogbnVtYmVyO1xufVxuXG5pbnRlcmZhY2UgQnVpbGRMaW5rVHJlZVR5cGUgZXh0ZW5kcyBMaW5rVHJlZVR5cGV7XG5cdHBhcmVudFJlZj86IEJ1aWxkTGlua1RyZWVUeXBlO1xufVxuXG5leHBvcnQgY2xhc3MgR2VuZXJhdGVNYXJrZG93biBleHRlbmRzIEl0ZW1WaWV3IHtcblx0XG5cdHNldHRpbmdzOiBHZW5lcmF0ZU1hcmtkb3duUGx1Z2luU2V0dGluZ3NUeXBlO1xuXG5cdGNvbnRhaW5lcjogRWxlbWVudDtcblx0dG9vbGJhcjogRWxlbWVudDtcblx0c3RydWN0dXJlOiBFbGVtZW50O1xuXHRnZW5lcmF0ZVByZXZpZXdQYXJlbnQ6IEVsZW1lbnQ7XG5cdGdlbmVyYXRlTWFya2Rvd25QYXJlbnQ6IEVsZW1lbnQ7XG5cblx0bGlua3NUcmVlOiBMaW5rVHJlZVR5cGVbXSA9IFtdO1xuXHRsb2FkZWRGaWxlczogVEFic3RyYWN0RmlsZVtdID0gW107XG5cdG1heExldmVsOiBudW1iZXIgPSAwO1xuXHRwcm9jZXNzZWQ6IHN0cmluZ1tdID0gW107XG5cdG1haW5OYW1lTGlua3M6IHN0cmluZ1tdID0gW107XG5cblx0bWFya2Rvd246IHN0cmluZyA9IFwiXCI7XG5cdGlnbm9yZWRMaW5rczogc3RyaW5nW10gPSBbXTtcblx0aW1hZ2VzOiBzdHJpbmdbXSA9IFtdO1xuXG5cdHN0YXRpYyBpbWFnZVR5cGVzID0gWydqcGcnLCAnanBlZycsICdwbmcnLCAnZ2lmJywgJ3dlYnAnLCAndGlmZicsICdibXAnXS5tYXAoKGl0OiBzdHJpbmcpID0+IGAuJHtpdH1gKTtcblxuXHRjb25zdHJ1Y3RvcihsZWFmOiBXb3Jrc3BhY2VMZWFmLCBzZXR0aW5nczogR2VuZXJhdGVNYXJrZG93blBsdWdpblNldHRpbmdzVHlwZSkge1xuXHRcdHN1cGVyKGxlYWYpO1xuXHRcdHRoaXMuc2V0dGluZ3MgPSBzZXR0aW5ncztcblx0fVxuXG5cdGFzeW5jIG9uT3BlbigpIHtcblx0XHRjb25zdCBjb250YWluZXIgPSB0aGlzLmNvbnRhaW5lckVsLmNoaWxkcmVuWzFdO1xuXG5cdFx0dGhpcy5jb250YWluZXIgPSBjb250YWluZXI7XG5cdFx0Y29udGFpbmVyLmVtcHR5KCk7XG5cblx0XHR0aGlzLnRvb2xiYXIgPSBjb250YWluZXIuY3JlYXRlRWwoXCJkaXZcIik7XG5cdFx0dGhpcy5nZW5lcmF0ZVByZXZpZXdQYXJlbnQgPSB0aGlzLnRvb2xiYXIuY3JlYXRlRWwoJ3NwYW4nKTtcblx0XHR0aGlzLmdlbmVyYXRlTWFya2Rvd25QYXJlbnQgPSB0aGlzLnRvb2xiYXIuY3JlYXRlRWwoJ3NwYW4nKTtcblx0XHR0aGlzLnN0cnVjdHVyZSA9IHRoaXMuY29udGFpbmVyLmNyZWF0ZUVsKFwiZGl2XCIpO1xuXG5cdFx0bmV3IEJ1dHRvbih0aGlzLmdlbmVyYXRlUHJldmlld1BhcmVudCwgJ0dlbmVyYXRlIHByZXZpZXcnLCAoKSA9PiB7XG5cdFx0XHQvLyBlbXB0eSBzdGF0ZVxuXHRcdFx0dGhpcy5saW5rc1RyZWUgPSBbXTtcblx0XHRcdHRoaXMubWF4TGV2ZWwgPSAwO1xuXHRcdFx0dGhpcy5wcm9jZXNzZWQgPSBbXTtcblx0XHRcdHRoaXMubWFpbk5hbWVMaW5rcyA9IFtdO1xuXHRcdFx0dGhpcy5pZ25vcmVkTGlua3MgPSBbXTtcblx0XHRcdHRoaXMubWFya2Rvd24gPSBcIlwiO1xuXHRcdFx0XG5cdFx0XHR0aGlzLnN0cnVjdHVyZS5lbXB0eSgpO1xuXHRcdFx0dGhpcy5nZW5lcmF0ZU1hcmtkb3duUGFyZW50LmVtcHR5KCk7XG5cdFx0XHR0aGlzLnJlYWRTZWxlY3RlZE5vdGUoKTtcblx0XHR9KTtcblx0fVxuXG5cdHBhcnNlTGlua3ModGV4dDogc3RyaW5nLCBpbmRleDogYm9vbGVhbiA9IGZhbHNlKSB7XG5cdFx0Y29uc3QgbGlua3MgPSB0ZXh0Lm1hdGNoQWxsKC9cXFtcXFsoLio/KVxcXVxcXS9nKTtcblx0XHRsZXQgY2xlYW5MaW5rcyA9IFsuLi5saW5rc10ubWFwKGwgPT4gbFsxXSk7XG5cblx0XHRjbGVhbkxpbmtzID0gWy4uLm5ldyBTZXQoY2xlYW5MaW5rcyldO1xuXG5cdFx0Ly8gZmlsdGVyIG91dCBhbmNob3IgbGlua3MgKFtbI2Zvb2Jhcl1dKVxuXHRcdGNsZWFuTGlua3MgPSBjbGVhbkxpbmtzLmZpbHRlcihjbCA9PiAhY2wuc3RhcnRzV2l0aCgnIycpKTtcblxuXHRcdGNvbnN0IGV4aXN0aW5nTm90ZXMgPSBjbGVhbkxpbmtzLm1hcCgoY2w6IHN0cmluZykgPT4ge1xuXHRcdFx0Y2wgPSBmaXhTcGFjZUluTmFtZShjbCk7XG5cblx0XHRcdGlmICghIUdlbmVyYXRlTWFya2Rvd24uaW1hZ2VUeXBlcy5maWx0ZXIoKGl0OiBzdHJpbmcpID0+IGNsLmluY2x1ZGVzKGl0LnRvTG93ZXJDYXNlKCkpKS5sZW5ndGgpIHtcblx0XHRcdFx0dGhpcy5pbWFnZXMucHVzaChjbClcblx0XHRcdFx0cmV0dXJuIGZhbHNlO1xuXHRcdFx0fVxuXG5cdFx0XHRsZXQgaXNJbmxpbmUgPSB0cnVlO1x0XHRcdFxuXHRcdFx0aWYgKHRleHQuaW5jbHVkZXModGhpcy5zZXR0aW5ncy5saXN0T2ZMaW5rc0tleXdvcmQpKSB7XG5cdFx0XHRcdGxldCBbaW5saW5lVGV4dCwgbGlua3NUZXh0XSA9IHRleHQuc3BsaXQodGhpcy5zZXR0aW5ncy5saXN0T2ZMaW5rc0tleXdvcmQpO1xuXHRcdFx0XHRpZiAoIWlubGluZVRleHQuaW5jbHVkZXMoY2wpKVxuXHRcdFx0XHRcdGlzSW5saW5lID0gZmFsc2U7XG5cdFx0XHR9XG5cblx0XHRcdGxldCBpc0luZGV4ID0gZmFsc2U7XG5cdFx0XHRpZiAoaW5kZXgpIHtcblx0XHRcdFx0aXNJbmxpbmUgPSBmYWxzZTtcblx0XHRcdFx0aXNJbmRleCA9IHRydWU7XG5cdFx0XHR9XG5cblx0XHRcdGNvbnN0IG5vdGUgPSB0aGlzLmxvYWRlZEZpbGVzLmZpbmQoKGY6IFRGaWxlKSA9PiBmWydiYXNlbmFtZSddID09PSBjbCk7XG5cdFx0XHRyZXR1cm4ge1xuXHRcdFx0XHRuYW1lOiBjbCxcblx0XHRcdFx0ZXhpc3RzOiAhIW5vdGUsXHRcblx0XHRcdFx0aW5saW5lOiBpc0lubGluZSxcblx0XHRcdFx0aW5kZXg6IGlzSW5kZXhcblx0XHRcdH07XG5cdFx0fSkuZmlsdGVyKEJvb2xlYW4pO1xuXG5cdFx0cmV0dXJuIGV4aXN0aW5nTm90ZXMgYXMgTGlua1RyZWVUeXBlW107XG5cdH1cblxuXHRyZWFkU2VsZWN0ZWROb3RlKCkge1xuXHRcdHRoaXMubG9hZGVkRmlsZXMgPSBhcHAudmF1bHQuZ2V0QWxsTG9hZGVkRmlsZXMoKTtcblxuXHRcdGNvbnN0IGFjdGl2ZU5vdGUgPSB0aGlzLmFwcC53b3Jrc3BhY2UuZ2V0QWN0aXZlRmlsZSgpO1xuXG5cdFx0aWYgKCFhY3RpdmVOb3RlKSB7XG5cdFx0XHRuZXcgTm90aWNlKGBTZWxlY3RlZCBub3RlIGlzIGludmFsaWQuYCk7XG5cdFx0XHR0aHJvdyBuZXcgRXJyb3IoXCJTZWxlY3RlZCBub3RlIGlzIGludmFsaWQuXCIpO1xuXHRcdH1cblxuXHRcdGNvbnN0IGFjdGl2ZU5vdGVUZXh0ID0gZ2V0Tm90ZUJ5TmFtZShhY3RpdmVOb3RlLmJhc2VuYW1lLCB0aGlzLmxvYWRlZEZpbGVzKTtcblxuXHRcdGNvbnN0IG1haW5Db250ZW50TGlua3MgPSB0aGlzLnBhcnNlTGlua3MoYWN0aXZlTm90ZVRleHQsIHRydWUpO1xuXG5cdFx0dGhpcy5tYWluTmFtZUxpbmtzID0gbWFpbkNvbnRlbnRMaW5rcy5tYXAoKGw6IExpbmtUcmVlVHlwZSkgPT4gbC5uYW1lKTtcblxuXHRcdHRoaXMubGlua3NUcmVlID0gdGhpcy5nZW5lcmF0ZU5vdGVzSGllcmFyY2h5KG1haW5Db250ZW50TGlua3MpO1xuXG5cdFx0Y29uc3QgdGl0bGUgPSBhY3RpdmVOb3RlLmJhc2VuYW1lO1xuXHRcdG5ldyBCYXNlTGluayh0aGlzLmFwcCwgdGhpcy5zdHJ1Y3R1cmUsIHRpdGxlKTtcblxuXHRcdG5ldyBUcmVlTWVudSh0aGlzLmFwcCwgdGhpcy5zdHJ1Y3R1cmUsIHRoaXMubGlua3NUcmVlLCAoaWdub3JlZExpbmtzOiBzdHJpbmdbXSkgPT4ge1xuXHRcdFx0dGhpcy5pZ25vcmVkTGlua3MgPSBpZ25vcmVkTGlua3M7XG5cdFx0fSk7XG5cblx0XHRuZXcgQnV0dG9uKHRoaXMuZ2VuZXJhdGVNYXJrZG93blBhcmVudCwgJ0dlbmVyYXRlIG1hcmtkb3duJywgKCkgPT4ge1xuXHRcdFx0XG5cdFx0XHQvLyBjbGVhbnVwXG5cdFx0XHR0aGlzLm1hcmtkb3duID0gXCJcIjtcblxuXHRcdFx0dGhpcy5nZW5lcmF0ZU1hcmtkb3duRmlsZSh0aGlzLmxpbmtzVHJlZSwgYWN0aXZlTm90ZVRleHQpO1xuXHRcdH0sIHsgY2xzOiAnZ2VuZXJhdGUtbWFya2Rvd24tYnRuJyB9KTtcblx0fVxuXG5cdGdlbmVyYXRlTWFya2Rvd25GaWxlKGxpbmtzOiBMaW5rVHJlZVR5cGVbXSwgbWFpbk5vdGU6IHN0cmluZykge1xuXHRcdHRoaXMuY29tcG9zZU1hcmtkb3duKGxpbmtzKTtcblxuXHRcdC8vIHRyYW5zZm9ybSBsaW5rcyB0byBhbmNob3IgaW4gaW5kZXggbm90ZSBcblx0XHR0aGlzLm1haW5OYW1lTGlua3MuZm9yRWFjaCgobW5sOiBzdHJpbmcpID0+IHtcblx0XHRcdFxuXHRcdFx0bWFpbk5vdGUgPSBtYWluTm90ZS5yZXBsYWNlQWxsKGBbWyR7bW5sfV1dYCwgYFtbIyR7bW5sfV1dYClcblx0XHR9KTtcblxuXHRcdHRoaXMubWFya2Rvd24gPSBtYWluTm90ZSArIHRoaXMubWFya2Rvd247XG5cblx0XHRuZXcgU2F2ZU1vZGFsKHRoaXMuYXBwLCAoZmlsZU5hbWUpID0+IHtcblx0XHRcdHRoaXMuYXBwLnZhdWx0LmFkYXB0ZXIud3JpdGUoYCR7ZmlsZU5hbWV9Lm1kYCwgdGhpcy5tYXJrZG93bikudGhlbigoKSA9PiB7XG5cdFx0XHRcdG5ldyBOb3RpY2UoYE5vdGUgJHtmaWxlTmFtZX0gY3JlYXRlZCBzdWNjZXNzZnVsbHlgKTtcblx0XHRcdFx0dGhpcy5hcHAud29ya3NwYWNlLm9wZW5MaW5rVGV4dChgJHtmaWxlTmFtZX0ubWRgLCBcIlwiKVxuXHRcdFx0fSk7XG5cdFx0fSkub3BlbigpO1xuXHRcdFxuXHR9XG5cblx0Y29tcG9zZU1hcmtkb3duKGxpbmtzOiBMaW5rVHJlZVR5cGVbXSkge1xuXHRcdGxpbmtzLmZvckVhY2goKGxpbms6IExpbmtUcmVlVHlwZSkgPT4ge1xuXHRcdFx0bGV0IG5vdGUgPSBnZXROb3RlQnlOYW1lKGxpbmsubmFtZSwgdGhpcy5sb2FkZWRGaWxlcyk7XG5cdFx0XHRjb25zdCBsb2NhbExpbmtzID0gdGhpcy5wYXJzZUxpbmtzKG5vdGUpO1xuXG5cdFx0XHRpZiAodGhpcy5pZ25vcmVkTGlua3MuaW5jbHVkZXMobGluay5uYW1lKSlcblx0XHRcdFx0cmV0dXJuO1xuXG5cdFx0XHQvLyB0cmltIGVudGVycyBhbmQgc3BhY2VzXG5cdFx0XHRub3RlID0gbm90ZS50cmltKCk7XG5cblx0XHRcdGlmIChub3RlLmxlbmd0aCA9PSAwKVxuXHRcdFx0XHRyZXR1cm47XG5cblx0XHRcdC8vIHRyYW5zZm9ybSBsaW5rcyB0byBhbmNob3JzXG5cdFx0XHRsb2NhbExpbmtzLmZvckVhY2goKGxvY2FsTGluazogTGlua1RyZWVUeXBlKSA9PiB7XG5cdFx0XHRcdGlmIChsb2NhbExpbmsuaW5saW5lICYmIHRoaXMuaWdub3JlZExpbmtzLmluY2x1ZGVzKGxvY2FsTGluay5uYW1lKSlcblx0XHRcdFx0XHRub3RlID0gbm90ZS5yZXBsYWNlQWxsKGBbWyR7bG9jYWxMaW5rLm5hbWV9XV1gLCBsb2NhbExpbmsubmFtZSk7XG5cdFx0XHRcdGVsc2Vcblx0XHRcdFx0XHRub3RlID0gbm90ZS5yZXBsYWNlQWxsKGBbWyR7bG9jYWxMaW5rLm5hbWV9XV1gLCBgW1sjJHtsb2NhbExpbmsubmFtZX1dXWApXG5cdFx0XHR9KVxuXG5cdFx0XHQvLyByZW1vdmUgdGl0bGUgb24gYSBmaXJzdCBsaW5lXG5cdFx0XHRsZXQgbm90ZVJvd3MgPSBub3RlLnNwbGl0KCdcXG4nKTtcblx0XHRcdGxldCBmaXJzdFJvdyA9IGZpeFNwYWNlSW5OYW1lKG5vdGVSb3dzWzBdKTtcblx0XHRcdGlmIChmaXJzdFJvdy5pbmNsdWRlcyhgIyAke2xpbmsubmFtZX1gKSkge1xuXHRcdFx0XHRub3RlUm93cy5zaGlmdCgpO1xuXHRcdFx0XHRub3RlID0gbm90ZVJvd3Muam9pbihcIlxcblwiKS50cmltKCk7XG5cdFx0XHR9XG5cblx0XHRcdC8vIHJlcGxhY2UgdGl0bGVzIHdpdGgganVzdCBib2xkIHRleHRcblx0XHRcdG5vdGVSb3dzID0gbm90ZS5zcGxpdCgnXFxuJyk7XG5cdFx0XHRub3RlID0gbm90ZVJvd3MubWFwKChub3RlUm93OiBzdHJpbmcpID0+IHtcblx0XHRcdFx0Y29uc3QgbWF0Y2ggPSBub3RlUm93Lm1hdGNoKC8jIChcXHcrKS8pO1xuXHRcdFx0XHRcblx0XHRcdFx0aWYgKG1hdGNoKVxuXHRcdFx0XHRcdHJldHVybiBgKioke21hdGNoWzFdfSoqYDtcblxuXHRcdFx0XHRyZXR1cm4gbm90ZVJvdztcblx0XHRcdH0pLmpvaW4oXCJcXG5cIik7XG5cdFx0XHRcblx0XHRcdC8vIHJlbW92ZSAnS2FtIGRcdTAwRTFsJyBwYXJ0XG5cdFx0XHRpZiAobm90ZS5pbmNsdWRlcyh0aGlzLnNldHRpbmdzLmxpc3RPZkxpbmtzS2V5d29yZCkpIHtcblx0XHRcdFx0bGV0IFtpbXBvcnRhbnRQYXJ0LCBlbmRQYXJ0XSA9IG5vdGUuc3BsaXQodGhpcy5zZXR0aW5ncy5saXN0T2ZMaW5rc0tleXdvcmQpO1xuXHRcdFx0XHRub3RlID0gaW1wb3J0YW50UGFydC50cmltKCk7XG5cdFx0XHR9XG5cdFx0XHRcblx0XHRcdC8vIGdlbmVyYXRlIG5lc3RlZCB0aXRsZSBlLmcuIGgzIC0+ICMjIyB0aXRsZTNcblx0XHRcdGxldCB0aXRsZSA9IFwiXCI7XG5cdFx0XHRpZiAobGluay5pbmxpbmUpIHtcblx0XHRcdFx0Ly8gaDVcblx0XHRcdFx0dGl0bGUgPSBgIyMjIyMgJHtsaW5rLm5hbWV9YDtcblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdGNvbnN0IG5lc3RlZExldmVsID0gQXJyYXkobGluay5sZXZlbCkuZmlsbCgnIycpLmpvaW4oJycpO1xuXHRcdFx0XHR0aXRsZSA9IGAke25lc3RlZExldmVsfSAke2xpbmsubmFtZX1gO1xuXHRcdFx0fVxuXG5cdFx0XHRub3RlID0gYFxcblxcbiR7dGl0bGV9XFxuJHtub3RlfWA7XG5cblx0XHRcdC8vIHNob3VsZCBiZSBsYXN0XG5cdFx0XHR0aGlzLm1hcmtkb3duICs9IG5vdGU7XG5cblx0XHRcdGlmICgnY2hpbGRyZW4nIGluIGxpbmspXG5cdFx0XHRcdHRoaXMuY29tcG9zZU1hcmtkb3duKGxpbmsuY2hpbGRyZW4pO1xuXHRcdH0pO1xuXHR9XG5cblx0Z2VuZXJhdGVOb3Rlc0hpZXJhcmNoeShsaW5rczogTGlua1RyZWVUeXBlW10pIHtcblx0XHRjb25zdCBsaW5rc09iajogQnVpbGRMaW5rVHJlZVR5cGUgPSB0aGlzLmRmcyhsaW5rcywgMCk7XG5cdFx0bGV0IGxpbmtzQXJyOiBMaW5rVHJlZVR5cGVbXSA9IFtdO1xuXHRcdFxuXHRcdE9iamVjdC5rZXlzKGxpbmtzT2JqKS5mb3JFYWNoKGtleSA9PiB7XG5cdFx0XHRjb25zdCB7cGFyZW50UmVmLCAuLi5yZXN0fSA9IGxpbmtzT2JqW2tleSBhcyBrZXlvZiBCdWlsZExpbmtUcmVlVHlwZV0gYXMgQnVpbGRMaW5rVHJlZVR5cGU7IFxuXHRcdFx0bGlua3NBcnIucHVzaCh7Li4ucmVzdCwgcGFyZW50OiAobGlua3NPYmpba2V5IGFzIGtleW9mIEJ1aWxkTGlua1RyZWVUeXBlXSBhcyBCdWlsZExpbmtUcmVlVHlwZSk/LnBhcmVudFJlZiA/Lm5hbWV9KTtcblx0XHR9KTtcblxuXHRcdGNvbnN0IGdldE5lc3RlZENoaWxkcmVuID0gKGFycjogTGlua1RyZWVUeXBlW10sIHBhcmVudDogc3RyaW5nIHwgdW5kZWZpbmVkKSA9PiB7XG5cdFx0XHRsZXQgY2hpbGRyZW4gPSBbXTtcblx0XHRcdGZvcihsZXQgaSA9IDA7IGkgPCBhcnIubGVuZ3RoOyBpKyspIHtcblx0XHRcdFx0aWYoYXJyW2ldLnBhcmVudCA9PSBwYXJlbnQpIHtcblx0XHRcdFx0XHRjb25zdCBncmFuZENoaWxkcmVuID0gZ2V0TmVzdGVkQ2hpbGRyZW4oYXJyLCBhcnJbaV0ubmFtZSk7XG5cdFx0XHRcdFx0aWYoZ3JhbmRDaGlsZHJlbi5sZW5ndGgpIHtcblx0XHRcdFx0XHRcdGFycltpXS5jaGlsZHJlbiA9IGdyYW5kQ2hpbGRyZW47XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHRcdGNoaWxkcmVuLnB1c2goYXJyW2ldKTtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdFx0cmV0dXJuIGNoaWxkcmVuO1xuXHRcdH1cblx0XHRyZXR1cm4gZ2V0TmVzdGVkQ2hpbGRyZW4obGlua3NBcnIsIHVuZGVmaW5lZCk7XG5cdH1cblxuXHRkZnMobGlua3M6IEJ1aWxkTGlua1RyZWVUeXBlW10sIGxldmVsOiBudW1iZXIsIHBhcmVudFJlZj86IG9iamVjdCwgdGl0bGVNYXBwaW5nPzogb2JqZWN0KSB7XG5cblx0XHR0aXRsZU1hcHBpbmcgPSAodGl0bGVNYXBwaW5nIGFzIEJ1aWxkTGlua1RyZWVUeXBlKSA/PyB7fTsgXG5cdFx0bGlua3MuZm9yRWFjaCgobGluazogQnVpbGRMaW5rVHJlZVR5cGUsIG9yZGVyOiBudW1iZXIpID0+IHtcblxuXHRcdFx0Ly8gc2tpcCBsaW5rIGZyb20gbWFpbkNvbnRlbnRcblx0XHRcdGlmICh0aGlzLm1haW5OYW1lTGlua3MuaW5jbHVkZXMobGluay5uYW1lKSAmJiBsZXZlbCAhPSAwKVxuXHRcdFx0XHRyZXR1cm47XG5cblx0XHRcdC8vIHNraXAgaWYgbGluayBpcyBhbHJlYWR5IHByb2Nlc3NlZFxuXHRcdFx0aWYgKHRoaXMucHJvY2Vzc2VkLmluY2x1ZGVzKGxpbmsubmFtZSkpXG5cdFx0XHRcdHJldHVybjtcblxuXHRcdFx0dGhpcy5wcm9jZXNzZWQucHVzaChsaW5rLm5hbWUpO1xuXG5cdFx0XHRjb25zdCBub3RlID0gZ2V0Tm90ZUJ5TmFtZShsaW5rLm5hbWUsIHRoaXMubG9hZGVkRmlsZXMpO1xuXHRcdFx0Y29uc3Qgc3ViTGlua3MgPSB0aGlzLnBhcnNlTGlua3Mobm90ZSk7XG5cblx0XHRcdHRoaXMubWF4TGV2ZWwgPSBsZXZlbCArIDE7XG5cblx0XHRcdCh0aXRsZU1hcHBpbmcgYXMgYW55KVtsaW5rLm5hbWVdID0geyAuLi5saW5rLCBwYXJlbnRSZWYsIGxldmVsOiB0aGlzLm1heExldmVsLCBvcmRlcn07XG5cblx0XHQgIGlmIChsaW5rcy5sZW5ndGggPiAwKSB7XG5cdFx0XHR0aGlzLmRmcyhzdWJMaW5rcywgdGhpcy5tYXhMZXZlbCwgKHRpdGxlTWFwcGluZyBhcyBhbnkpW2xpbmsubmFtZV0sIHRpdGxlTWFwcGluZyk7XG5cdFx0ICB9XG5cdFx0fSk7XG5cdFx0cmV0dXJuIHRpdGxlTWFwcGluZyBhcyBCdWlsZExpbmtUcmVlVHlwZTtcblx0fVxuXG5cdGFzeW5jIG9uQ2xvc2UoKSB7XG5cdFx0Ly8gTm90aGluZyB0byBjbGVhbiB1cC5cblx0fVxuXG5cdGdldFZpZXdUeXBlKCkge1xuXHRcdHJldHVybiBWSUVXX0NPTlRFTlRfQ09NUE9TRV9OT1RFUztcblx0fVxuXG5cdGdldERpc3BsYXlUZXh0KCkge1xuXHRcdHJldHVybiBcIk5vdGVzIE1lcmdlclwiO1xuXHR9XG59XG4iLCAiaW1wb3J0IHsgcmVhZEZpbGVTeW5jIH0gZnJvbSAnZnMnO1xuaW1wb3J0IHsgRmlsZVN5c3RlbUFkYXB0ZXIsIFRBYnN0cmFjdEZpbGUsIFRGaWxlIH0gZnJvbSAnb2JzaWRpYW4nO1xuXG5leHBvcnQgY29uc3QgZml4U3BhY2VJbk5hbWUgPSAobmFtZTogc3RyaW5nKSA9PiB7XG5cdHJldHVybiBuYW1lLnJlcGxhY2UoL1tcXHUwMEEwXFx1MTY4MFxcdTE4MEVcXHUyMDAwLVxcdTIwMEJcXHUyMDJGXFx1MjA1RlxcdTMwMDBcXHVGRUZGXS8sIFwiIFwiKS50cmltKCk7XG59XG5cbmV4cG9ydCBjb25zdCBnZXROb3RlQnlOYW1lID0gKG5hbWU6IHN0cmluZywgbG9hZGVkRmlsZXM6IFRBYnN0cmFjdEZpbGVbXSkgPT4ge1xuXHRjb25zdCBsb2FkZWRGaWxlID0gbG9hZGVkRmlsZXMuZmluZCgoZmlsZTogVEZpbGUpID0+IGZpbGUuYmFzZW5hbWUgPT09IG5hbWUpO1xuXHQgXG5cdGNvbnN0IGZ1bGxQYXRoID0gKGFwcC52YXVsdC5hZGFwdGVyIGFzIEZpbGVTeXN0ZW1BZGFwdGVyKS5nZXRGdWxsUGF0aChuYW1lKTtcblxuXHRpZiAoIWxvYWRlZEZpbGUpXG5cdFx0cmV0dXJuIFwiXCI7XG5cblx0Y29uc3QgYWJzb2x1dGVQYXRoID0gZnVsbFBhdGgucmVwbGFjZShuYW1lLCBsb2FkZWRGaWxlLnBhdGgucmVwbGFjZSgnLycsICdcXFxcJykpXG5cdGNvbnN0IG5vdGUgPSByZWFkRmlsZVN5bmMoYWJzb2x1dGVQYXRoLCB7IGVuY29kaW5nOiAndXRmOCcgfSk7XG5cdHJldHVybiBub3RlOyAvLyB0ZXh0IG9mIG5vdGVcbn1cbiIsICJleHBvcnQgY2xhc3MgQnV0dG9uIHtcblx0YnRuOiBIVE1MQnV0dG9uRWxlbWVudDtcblxuXHRjb25zdHJ1Y3RvcihlbGVtZW50OiBFbGVtZW50LCB0ZXh0OiBzdHJpbmcsIG9uQ2xpY2s6IChjb250ZXh0OiBCdXR0b24pID0+IHZvaWQsIGFyZ3M/OiBvYmplY3QpIHtcblx0XHR0aGlzLmJ0biA9IGVsZW1lbnQuY3JlYXRlRWwoJ2J1dHRvbicsIHsgdGV4dCwgLi4uYXJncyB9KTtcblx0XHR0aGlzLmJ0bi5vbmNsaWNrID0gKCkgPT4ge1xuXHRcdFx0b25DbGljayh0aGlzKTtcblx0XHR9O1x0XG5cdFx0cmV0dXJuIHRoaXM7XG5cdH1cbn1cbiIsICJpbXBvcnQgeyBBcHAgfSBmcm9tIFwib2JzaWRpYW5cIjtcbmltcG9ydCB7IExpbmtUcmVlVHlwZSB9IGZyb20gXCJzcmMvdmlld3MvZ2VuZXJhdGUtbWFya2Rvd25cIjtcblxuZXhwb3J0IGNsYXNzIEJhc2VMaW5rIHtcblx0Y29udGV4dDogQXBwO1xuXHRlbGVtZW50OiBFbGVtZW50O1xuXHRuYW1lOiBzdHJpbmc7XG5cblx0Y29uc3RydWN0b3IoY29udGV4dDogQXBwLCBlbGVtZW50OiBFbGVtZW50LCBuYW1lOiBzdHJpbmcpIHtcblx0XHR0aGlzLmNvbnRleHQgPSBjb250ZXh0O1xuXHRcdHRoaXMuZWxlbWVudCA9IGVsZW1lbnQ7XG5cdFx0dGhpcy5uYW1lID0gbmFtZTtcblxuXHRcdHRoaXMucmVuZGVyKCk7XG5cdH1cblxuXHRyZW5kZXIoKSB7XG5cdFx0Y29uc3QgaHJlZlRpdGxlID0gdGhpcy5lbGVtZW50LmNyZWF0ZUVsKCdhJywgeyB0ZXh0OiB0aGlzLm5hbWUsIGNsczogJ2NvbnRfX3RpdGxlJyB9KTtcblx0XHRocmVmVGl0bGUub25jbGljayA9ICgpID0+IHtcblx0XHRcdHRoaXMuY29udGV4dC53b3Jrc3BhY2Uub3BlbkxpbmtUZXh0KHRoaXMubmFtZSwgXCJcIik7XG5cdFx0fVxuXHR9XG5cbn1cblxuLy8gTGluayB3aXRoIGlubmVyIHN0YXRlIGFuZCBoZWxwZXIgZm5jc1xuZXhwb3J0IGNsYXNzIExpbmsge1xuXG5cdGNvbnRleHQ6IEFwcDtcblx0YTogSFRNTEVsZW1lbnQ7XG5cdGxpbms6IExpbmtUcmVlVHlwZTtcblx0ZWxlbWVudDogRWxlbWVudDtcblx0dG9nZ2xlZFN0YXRlOiBib29sZWFuID0gZmFsc2U7XG5cblx0Y29uc3RydWN0b3IoY29udGV4dDogQXBwLCBlbGVtZW50OiBFbGVtZW50LCBsaW5rOiBMaW5rVHJlZVR5cGUsIHJlbmRlck5vdzogYm9vbGVhbiA9IHRydWUpIHtcblx0XHR0aGlzLmxpbmsgPSBsaW5rO1xuXHRcdHRoaXMuY29udGV4dCA9IGNvbnRleHQ7XG5cdFx0dGhpcy5lbGVtZW50ID0gZWxlbWVudDtcblxuXHRcdGlmIChyZW5kZXJOb3cpXG5cdFx0XHR0aGlzLnJlbmRlcihmYWxzZSk7XG5cblx0XHRyZXR1cm4gdGhpcztcblx0fVxuXG5cdHJlbmRlcihzdGF0ZTogYm9vbGVhbikge1xuXHRcdHRoaXMuYSA9IHRoaXMuZWxlbWVudC5jcmVhdGVFbCgnYScsIHsgdGV4dDogdGhpcy5saW5rLm5hbWUsIGNsczogXCJsaW5rXCIgfSk7XG5cdFx0IXRoaXMubGluay5leGlzdHMgJiYgdGhpcy5hLmFkZENsYXNzKFwiY29udF9fbGluay1ub3QtZXhpc3RcIik7XG5cdFx0dGhpcy5saW5rLmlubGluZSAmJiB0aGlzLmEuYWRkQ2xhc3MoXCJpbmxpbmVcIik7XG5cdFx0dGhpcy5hLm9uY2xpY2sgPSAoKSA9PiB7XG5cdFx0XHR0aGlzLmNvbnRleHQud29ya3NwYWNlLm9wZW5MaW5rVGV4dCh0aGlzLmxpbmsubmFtZSwgXCJcIik7XG5cdFx0XHQhdGhpcy5saW5rLmV4aXN0cyAmJiB0aGlzLmEucmVtb3ZlQ2xhc3MoXCJjb250X19saW5rLW5vdC1leGlzdFwiKTtcblx0XHR9O1xuXG5cdFx0dGhpcy50b2dnbGUoc3RhdGUpO1xuXHR9XG5cblx0dG9nZ2xlKHN0YXRlOiBib29sZWFuKSB7XG5cdFx0aWYgKHN0YXRlKVxuXHRcdFx0dGhpcy5hLnJlbW92ZUNsYXNzKCdzdHJpa2V0aHJvdWdoJyk7XG5cdFx0ZWxzZVxuXHRcdFx0dGhpcy5hLmFkZENsYXNzKCdzdHJpa2V0aHJvdWdoJyk7XG5cdH1cbn1cbiIsICJpbXBvcnQgeyBBcHAsIE1vZGFsLCBTZXR0aW5nIH0gZnJvbSBcIm9ic2lkaWFuXCI7XG5cbmV4cG9ydCBjbGFzcyBTYXZlTW9kYWwgZXh0ZW5kcyBNb2RhbCB7XG4gIHJlc3VsdDogc3RyaW5nO1xuICBvblN1Ym1pdDogKHJlc3VsdDogc3RyaW5nKSA9PiB2b2lkO1xuXG4gIGNvbnN0cnVjdG9yKGFwcDogQXBwLCBvblN1Ym1pdDogKHJlc3VsdDogc3RyaW5nKSA9PiB2b2lkKSB7XG4gICAgc3VwZXIoYXBwKTtcbiAgICB0aGlzLm9uU3VibWl0ID0gb25TdWJtaXQ7XG4gIH1cblxuICBvbk9wZW4oKSB7XG4gICAgY29uc3QgeyBjb250ZW50RWwgfSA9IHRoaXM7XG5cbiAgICBjb250ZW50RWwuY3JlYXRlRWwoXCJoMVwiLCB7IHRleHQ6IFwiU2F2ZSBBc1wiIH0pO1xuXG4gICAgbmV3IFNldHRpbmcoY29udGVudEVsKVxuICAgICAgLnNldE5hbWUoXCJGaWxlIG5hbWU6IFwiKVxuICAgICAgLmFkZFRleHQoKHRleHQpID0+XG4gICAgICAgIHRleHQub25DaGFuZ2UoKHZhbHVlKSA9PiB7XG4gICAgICAgICAgdGhpcy5yZXN1bHQgPSB2YWx1ZVxuICAgICAgICB9KSk7XG5cbiAgICBuZXcgU2V0dGluZyhjb250ZW50RWwpXG4gICAgICAuYWRkQnV0dG9uKChidG4pID0+XG4gICAgICAgIGJ0blxuICAgICAgICAgIC5zZXRCdXR0b25UZXh0KFwiR2VuZXJhdGUgbWFya2Rvd24gbm90ZVwiKVxuICAgICAgICAgIC5zZXRDdGEoKVxuICAgICAgICAgIC5vbkNsaWNrKCgpID0+IHtcbiAgICAgICAgICAgIHRoaXMuY2xvc2UoKTtcbiAgICAgICAgICAgIHRoaXMub25TdWJtaXQodGhpcy5yZXN1bHQpO1xuICAgICAgICAgIH0pKTtcbiAgfVxuXG4gIG9uQ2xvc2UoKSB7XG4gICAgbGV0IHsgY29udGVudEVsIH0gPSB0aGlzO1xuICAgIGNvbnRlbnRFbC5lbXB0eSgpO1xuICB9XG59XG4iLCAiaW1wb3J0IHsgQXBwIH0gZnJvbSAnb2JzaWRpYW4nO1xuaW1wb3J0IHsgTGlua1RyZWVUeXBlIH0gZnJvbSAnLi4vdmlld3MvZ2VuZXJhdGUtbWFya2Rvd24nO1xuaW1wb3J0IHtcblx0TGluaywgQ2hlY2tib3hcbn0gZnJvbSAnLi9pbmRleCc7XG5cblxuZnVuY3Rpb24gZmxhdHRlbkNoaWxkcmVuKGxpbms6IExpbmtUcmVlVHlwZSwgY2hpbGRyZW46IHN0cmluZ1tdKSB7XG5cdGlmICgnY2hpbGRyZW4nIGluIGxpbmspIHtcblx0XHRjb25zdCBjaGlsZHJlbkxpbmtOYW1lcyA9IGxpbmsuY2hpbGRyZW4ubWFwKChsOiBMaW5rVHJlZVR5cGUpID0+IGwubmFtZSk7IFxuXHRcdGNoaWxkcmVuLnB1c2goLi4uY2hpbGRyZW5MaW5rTmFtZXMpO1xuXHRcdGxpbmsuY2hpbGRyZW4uZm9yRWFjaCgobDogTGlua1RyZWVUeXBlKSA9PiB7XG5cdFx0XHRmbGF0dGVuQ2hpbGRyZW4obCwgY2hpbGRyZW4pO1xuXHRcdH0pXG5cdH1cblx0cmV0dXJuIGNoaWxkcmVuO1xufVxuXG5leHBvcnQgY2xhc3MgVHJlZU1lbnUge1xuXHRhcHA6IEFwcDtcblx0VUw6IEVsZW1lbnQ7XG5cblx0aWdub3JlZExpbmtzOiBzdHJpbmdbXSA9IFtdO1xuXHRsaW5rc1RyZWU6IExpbmtUcmVlVHlwZVtdID0gW107XG5cblx0Y29uc3RydWN0b3IoYXBwOiBBcHAsIHN0cnVjdHVyZTogRWxlbWVudCwgbGlua3NUcmVlOiBMaW5rVHJlZVR5cGVbXSwgZXZlbnQ6IChpZ25vcmVkTGlua3M6IHN0cmluZ1tdKSA9PiB2b2lkKSB7XG5cdFx0dGhpcy5hcHAgPSBhcHA7XG5cdFx0bGV0IG1lbnUgPSBzdHJ1Y3R1cmUuY3JlYXRlRWwoJ2RpdicsIHsgY2xzOiAndHJlZS1tZW51J30pO1xuXHRcdHRoaXMuVUwgPSBtZW51LmNyZWF0ZUVsKCd1bCcpO1xuXHRcdHRoaXMubGlua3NUcmVlID0gbGlua3NUcmVlO1xuXG5cdFx0dGhpcy5yZW5kZXIodGhpcy5saW5rc1RyZWUsIHRoaXMuVUwsIFtdLCBldmVudCk7XG5cdH1cblxuXHRyZW5kZXIobGlua3M6IExpbmtUcmVlVHlwZVtdLCBtZW51RWw6IEVsZW1lbnQsIGNoaWxkcmVuTGlua3M6IHN0cmluZ1tdLCBldmVudDogKGxpbmtzOiBzdHJpbmdbXSkgPT4gdm9pZCkge1xuXHRcdGlmICghY2hpbGRyZW5MaW5rcykgXG5cdFx0XHRjaGlsZHJlbkxpbmtzID0gW107XG5cblx0XHRsaW5rcy5mb3JFYWNoKChsaW5rOiBMaW5rVHJlZVR5cGUpID0+IHtcblx0XHRcdGNvbnN0IGxpID0gbWVudUVsLmNyZWF0ZUVsKCdsaScpO1xuXHRcdFx0Y29uc3QgbGlua0VsID0gbmV3IExpbmsodGhpcy5hcHAsIGxpLCBsaW5rLCBmYWxzZSk7XG5cblx0XHRcdGxldCBzdGF0ZTogYm9vbGVhbiA9ICFjaGlsZHJlbkxpbmtzLmluY2x1ZGVzKGxpbmtFbC5saW5rLm5hbWUpO1xuXG5cdFx0XHRpZiAoIWxpbmsuZXhpc3RzKVxuXHRcdFx0XHRzdGF0ZSA9IGZhbHNlOyBcblxuXHRcdFx0bmV3IENoZWNrYm94KGxpLCBzdGF0ZSwgbGluay5leGlzdHMsICgpID0+IHtcblx0XHRcdFx0Y29uc3QgY2hpbGRyZW4gPSBbbGlua0VsLmxpbmsubmFtZSwgLi4uZmxhdHRlbkNoaWxkcmVuKGxpbmtFbC5saW5rLCBbXSldO1xuXG5cdFx0XHRcdGlmIChzdGF0ZSA9PSBmYWxzZSkgeyBcblx0XHRcdFx0XHQvLyByZW1vdmUgY2hpbGRyZW4gZnJvbSBjaGlsZHJlbkxpbmtzXG5cdFx0XHRcdFx0Y2hpbGRyZW5MaW5rcyA9IGNoaWxkcmVuTGlua3MuZmlsdGVyKChjbDogc3RyaW5nKSA9PiAhY2hpbGRyZW4uaW5jbHVkZXMoY2wpKTtcblx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHRjaGlsZHJlbkxpbmtzLnB1c2goLi4uY2hpbGRyZW4pO1xuXHRcdFx0XHRcdFxuXHRcdFx0XHRcdC8vIHJlbW92ZSBkdXBlc1xuXHRcdFx0XHRcdGNoaWxkcmVuTGlua3MgPSBbLi4ubmV3IFNldChjaGlsZHJlbkxpbmtzKV1cblx0XHRcdFx0fVxuXG5cdFx0XHRcdHRoaXMuaWdub3JlZExpbmtzID0gY2hpbGRyZW5MaW5rcztcblx0XHRcdFx0XG5cdFx0XHRcdC8vIGNsZWFudXAgYW5kIHJlcmVuZGVyXG5cdFx0XHRcdHRoaXMuVUwuZW1wdHkoKVxuXHRcdFx0XHR0aGlzLnJlbmRlcih0aGlzLmxpbmtzVHJlZSwgdGhpcy5VTCwgY2hpbGRyZW5MaW5rcywgZXZlbnQpO1xuXHRcdFx0fSk7XG5cblx0XHRcdGxpbmtFbC5yZW5kZXIoc3RhdGUpO1xuXG5cdFx0XHRpZiAoJ2NoaWxkcmVuJyBpbiBsaW5rKSB7XG5cdFx0XHRcdGNvbnN0IHVsID0gbGkuY3JlYXRlRWwoJ3VsJyk7XG5cdFx0XHRcdHRoaXMucmVuZGVyKGxpbmsuY2hpbGRyZW4sIHVsLCBjaGlsZHJlbkxpbmtzLCBldmVudCk7XG5cdFx0XHR9XG5cdFx0fSk7XG5cblx0XHRyZXR1cm4gZXZlbnQodGhpcy5pZ25vcmVkTGlua3MpO1xuXHR9XG59XG4iLCAiZXhwb3J0IGNsYXNzIENoZWNrYm94IHtcblxuXHRjYjogSFRNTElucHV0RWxlbWVudDtcblx0Y29uc3RydWN0b3IoZWxlbWVudDogRWxlbWVudCwgc3RhdGU6IGJvb2xlYW4sIGV4aXN0czogYm9vbGVhbiwgb25DbGljazogKGNvbnRleHQ6IENoZWNrYm94KSA9PiB2b2lkKSB7XG5cdFx0dGhpcy5jYiA9IGVsZW1lbnQuY3JlYXRlRWwoXCJpbnB1dFwiLCB7XG5cdFx0XHR0eXBlOiAnY2hlY2tib3gnLFxuXHRcdFx0Y2xzOiAnY2hlY2tib3gtYnRuJ1xuXHRcdH0pO1xuXG5cdFx0dGhpcy5jYi5jaGVja2VkID0gc3RhdGU7XG5cblx0XHRpZiAoIWV4aXN0cykge1xuXHRcdFx0dGhpcy5jYi5kaXNhYmxlZCA9IHRydWU7XG5cdFx0XHR0aGlzLmNiLmNoZWNrZWQgPSBmYWxzZTtcblx0XHRcdHRoaXMuY2IuYWRkQ2xhc3MoJ2NoZWNrYm94LWJ0bi1kaXNhYmxlZCcpO1xuXHRcdH1cblx0XHR0aGlzLmNiLm9uY2xpY2sgPSAoKSA9PiB7XG5cdFx0XHRvbkNsaWNrKHRoaXMpO1xuXHRcdH07XHRcblx0XHRyZXR1cm4gdGhpcztcblx0fVxufVxuIl0sCiAgIm1hcHBpbmdzIjogIjs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBLHVCQUF1RDs7O0FDQXZELHVCQUEyRTs7O0FDQTNFLGdCQUE2QjtBQUd0QixJQUFNLGlCQUFpQixDQUFDLFNBQWlCO0FBQy9DLFNBQU8sS0FBSyxRQUFRLDZEQUE2RCxHQUFHLEVBQUUsS0FBSztBQUM1RjtBQUVPLElBQU0s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
