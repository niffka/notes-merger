/*
THIS IS A GENERATED/BUNDLED FILE BY ESBUILD
if you want to view the source, please visit the github repository of this plugin
*/

var __defProp = Object.defineProperty;
var __getOwnPropDesc = Object.getOwnPropertyDescriptor;
var __getOwnPropNames = Object.getOwnPropertyNames;
var __hasOwnProp = Object.prototype.hasOwnProperty;
var __export = (target, all) => {
  for (var name in all)
    __defProp(target, name, { get: all[name], enumerable: true });
};
var __copyProps = (to, from, except, desc) => {
  if (from && typeof from === "object" || typeof from === "function") {
    for (let key of __getOwnPropNames(from))
      if (!__hasOwnProp.call(to, key) && key !== except)
        __defProp(to, key, { get: () => from[key], enumerable: !(desc = __getOwnPropDesc(from, key)) || desc.enumerable });
  }
  return to;
};
var __toCommonJS = (mod) => __copyProps(__defProp({}, "__esModule", { value: true }), mod);

// main.ts
var main_exports = {};
__export(main_exports, {
  default: () => GenerateMarkdownPlugin
});
module.exports = __toCommonJS(main_exports);
var import_obsidian4 = require("obsidian");

// src/views/generate-markdown.ts
var import_obsidian3 = require("obsidian");

// src/utils.ts
var import_obsidian = require("obsidian");
var fixSpaceInName = (name) => {
  return name.replace(/[\u00A0\u1680\u180E\u2000-\u200B\u202F\u205F\u3000\uFEFF]/, " ").trim();
};
var getNoteByName = async (app2, path) => {
  const file = app2.vault.getAbstractFileByPath(path);
  if (!(file instanceof import_obsidian.TFile))
    return "";
  return await app2.vault.cachedRead(file);
};

// src/views/generate-slides-markdown.ts
var generateSlidesMarkdown = (links) => {
  console.log(links);
};

// src/components/Button.ts
var Button = class {
  constructor(element, text, onClick, args) {
    this.btn = element.createEl("button", { text, ...args });
    this.btn.onclick = () => {
      onClick(this);
    };
    return this;
  }
};

// src/components/Link.ts
var BaseLink = class {
  constructor(context, element, name) {
    this.context = context;
    this.element = element;
    this.name = name;
    this.render();
  }
  render() {
    const hrefTitle = this.element.createEl("a", { text: this.name, cls: "cont__title" });
    hrefTitle.onclick = () => {
      this.context.workspace.openLinkText(this.name, "");
    };
  }
};
var Link = class {
  constructor(context, element, link, renderNow = true) {
    this.toggledState = false;
    this.link = link;
    this.context = context;
    this.element = element;
    if (renderNow)
      this.render(false);
    return this;
  }
  render(state) {
    this.a = this.element.createEl("a", { text: this.link.name, cls: "link" });
    !this.link.exists && this.a.addClass("cont__link-not-exist");
    this.link.inline && this.a.addClass("inline");
    this.a.onclick = () => {
      this.context.workspace.openLinkText(this.link.name, "");
      !this.link.exists && this.a.removeClass("cont__link-not-exist");
    };
    this.toggle(state);
  }
  toggle(state) {
    if (state)
      this.a.removeClass("strikethrough");
    else
      this.a.addClass("strikethrough");
  }
};

// src/components/SaveModal.ts
var import_obsidian2 = require("obsidian");
var SaveModal = class extends import_obsidian2.Modal {
  constructor(app2, onSubmit) {
    super(app2);
    this.onSubmit = onSubmit;
  }
  onOpen() {
    const { contentEl } = this;
    contentEl.createEl("h1", { text: "Save as" });
    new import_obsidian2.Setting(contentEl).setName("File name: ").addText((text) => text.onChange((value) => {
      this.result = value;
    }));
    new import_obsidian2.Setting(contentEl).addButton((btn) => btn.setButtonText("Generate markdown note").setCta().onClick(() => {
      this.close();
      this.onSubmit(this.result);
    }));
  }
  onClose() {
    let { contentEl } = this;
    contentEl.empty();
  }
};

// src/components/TreeMenu.ts
function flattenChildren(link, children) {
  if ("children" in link) {
    const childrenLinkNames = link.children.map((l) => l.name);
    children.push(...childrenLinkNames);
    link.children.forEach((l) => {
      flattenChildren(l, children);
    });
  }
  return children;
}
var TreeMenu = class {
  constructor(app2, structure, linksTree, event) {
    this.ignoredLinks = [];
    this.linksTree = [];
    this.app = app2;
    let menu = structure.createEl("div", { cls: "tree-menu" });
    this.UL = menu.createEl("ul");
    this.linksTree = linksTree;
    this.render(this.linksTree, this.UL, [], event);
  }
  render(links, menuEl, childrenLinks, event) {
    if (!childrenLinks)
      childrenLinks = [];
    links.forEach((link) => {
      const li = menuEl.createEl("li");
      const linkEl = new Link(this.app, li, link, false);
      let state = !childrenLinks.includes(linkEl.link.name);
      if (!link.exists)
        state = false;
      new Checkbox(li, state, link.exists, () => {
        const ignoredChildren = [linkEl.link.name, ...flattenChildren(linkEl.link, [])];
        if (state == false) {
          childrenLinks = childrenLinks.filter((cl) => !ignoredChildren.includes(cl));
        } else {
          childrenLinks.push(...ignoredChildren);
          childrenLinks = [...new Set(childrenLinks)];
        }
        this.ignoredLinks = childrenLinks;
        this.UL.empty();
        this.render(this.linksTree, this.UL, childrenLinks, event);
      });
      linkEl.render(state);
      if ("children" in link) {
        const ul = li.createEl("ul");
        this.render(link.children, ul, childrenLinks, event);
      }
    });
    return event(this.ignoredLinks);
  }
};

// src/components/Checkbox.ts
var Checkbox = class {
  constructor(element, state, exists, onClick) {
    this.cb = element.createEl("input", {
      type: "checkbox",
      cls: "checkbox-btn"
    });
    this.cb.checked = state;
    if (!exists) {
      this.cb.disabled = true;
      this.cb.checked = false;
      this.cb.addClass("checkbox-btn-disabled");
    }
    this.cb.onclick = () => {
      onClick(this);
    };
    return this;
  }
};

// src/views/generate-markdown.ts
var VIEW_CONTENT_COMPOSE_NOTES = "view-generate-markdown";
var _GenerateMarkdown = class extends import_obsidian3.ItemView {
  constructor(leaf, settings) {
    super(leaf);
    this.linksTree = [];
    this.loadedFiles = [];
    this.maxLevel = 0;
    this.processed = [];
    this.mainNameLinks = [];
    this.markdown = "";
    this.ignoredLinks = [];
    this.images = [];
    this.settings = settings;
  }
  async onOpen() {
    const container = this.containerEl.children[1];
    this.container = container;
    container.empty();
    this.toolbar = container.createEl("div");
    this.generatePreviewParent = this.toolbar.createEl("span");
    this.generateMarkdownParent = this.toolbar.createEl("span");
    this.generateSlidesParent = this.toolbar.createEl("span");
    this.structure = this.container.createEl("div");
    new Button(this.generatePreviewParent, "Generate preview", () => {
      this.linksTree = [];
      this.maxLevel = 0;
      this.processed = [];
      this.mainNameLinks = [];
      this.ignoredLinks = [];
      this.markdown = "";
      this.structure.empty();
      this.generateMarkdownParent.empty();
      this.generateSlidesParent.empty();
      this.readSelectedNote();
    });
  }
  parseLinks(text, index = false) {
    const links = text.matchAll(/\[\[(.*?)\]\]/g);
    let cleanLinks = [...links].map((l) => l[1]);
    cleanLinks = [...new Set(cleanLinks)];
    cleanLinks = cleanLinks.filter((cl) => !cl.startsWith("#"));
    cleanLinks = cleanLinks.filter((cl) => !cl.startsWith(`${this.settings.literatureNote}#`));
    const existingNotes = cleanLinks.map((cl) => {
      cl = fixSpaceInName(cl);
      if (!!_GenerateMarkdown.imageTypes.filter((it) => cl.includes(it.toLowerCase())).length) {
        this.images.push(cl);
        return false;
      }
      let isInline = true;
      if (text.includes(this.settings.listOfLinksKeyword)) {
        let [inlineText, linksText] = text.split(this.settings.listOfLinksKeyword);
        if (!inlineText.includes(cl))
          isInline = false;
      }
      let isIndex = false;
      if (index) {
        isInline = false;
        isIndex = true;
      }
      const note = this.loadedFiles.find((f) => f["basename"] === cl);
      return {
        name: cl,
        exists: !!note,
        inline: isInline,
        index: isIndex,
        path: note == null ? void 0 : note.path
      };
    }).filter(Boolean);
    return existingNotes;
  }
  async readSelectedNote() {
    this.loadedFiles = app.vault.getMarkdownFiles();
    const activeNote = this.app.workspace.getActiveFile();
    if (!activeNote) {
      new import_obsidian3.Notice(`Selected note is invalid.`);
      throw new Error("Selected note is invalid.");
    }
    const activeNoteText = await getNoteByName(this.app, activeNote.path);
    const mainContentLinks = this.parseLinks(activeNoteText, true);
    this.mainNameLinks = mainContentLinks.map((l) => l.name);
    this.linksTree = await this.generateNotesHierarchy(mainContentLinks);
    const title = activeNote.basename;
    new BaseLink(this.app, this.structure, title);
    new TreeMenu(this.app, this.structure, this.linksTree, (ignoredLinks) => {
      this.ignoredLinks = ignoredLinks;
    });
    new Button(this.generateMarkdownParent, "Generate markdown", () => {
      this.markdown = "";
      this.generateMarkdownFile(this.linksTree, activeNoteText);
    }, { cls: "generate-markdown-btn" });
    new Button(this.generateSlidesParent, "Generate slides", () => {
      generateSlidesMarkdown(this.linksTree);
    }, { cls: "generate-markdown-btn" });
  }
  generateMarkdownFile(links, mainNote) {
    this.composeMarkdown(links);
    this.mainNameLinks.forEach((mnl) => {
      mnl = fixSpaceInName(mnl);
      mainNote = mainNote.replaceAll(`[[${mnl}]]`, `[[#${mnl}]]`);
    });
    this.markdown = mainNote + this.markdown;
    new SaveModal(this.app, async (fileName) => {
      await this.app.vault.adapter.write(`${fileName}.md`, this.markdown);
      new import_obsidian3.Notice(`Note ${fileName} created successfully`);
      this.app.workspace.openLinkText(`${fileName}.md`, "");
    }).open();
  }
  composeMarkdown(links) {
    links.forEach(async (link) => {
      let note = await getNoteByName(this.app, link.path);
      const localLinks = this.parseLinks(note);
      if (this.ignoredLinks.includes(link.name))
        return;
      note = note.trim();
      if (note.length == 0)
        return;
      localLinks.forEach((localLink) => {
        if (localLink.inline && this.ignoredLinks.includes(localLink.name))
          note = note.replaceAll(`[[${localLink.name}]]`, localLink.name);
        else
          note = note.replaceAll(`[[${localLink.name}]]`, `[[#${localLink.name}]]`);
      });
      let noteRows = note.split("\n");
      let firstRow = fixSpaceInName(noteRows[0]);
      if (firstRow.includes(`# ${link.name}`)) {
        noteRows.shift();
        note = noteRows.join("\n").trim();
      }
      if (note.includes(this.settings.listOfLinksKeyword)) {
        let [importantPart, endPart] = note.split(this.settings.listOfLinksKeyword);
        note = importantPart.trim();
      }
      let title = "";
      if (link.inline) {
        title = `##### ${link.name}`;
      } else {
        const nestedLevel = Array(link.level).fill("#").join("");
        title = `${nestedLevel} ${link.name}`;
      }
      note = `

${title}
${note}`;
      this.markdown += note;
      if ("children" in link)
        this.composeMarkdown(link.children);
    });
  }
  async generateNotesHierarchy(links) {
    const linksObj = await this.dfs(links, 0, []);
    let linksArr = [];
    Object.keys(linksObj).forEach((key) => {
      var _a, _b;
      const { parentRef, ...rest } = linksObj[key];
      linksArr.push({ ...rest, parent: (_b = (_a = linksObj[key]) == null ? void 0 : _a.parentRef) == null ? void 0 : _b.name });
    });
    const getNestedChildren = (arr, parent) => {
      let children = [];
      for (let i = 0; i < arr.length; i++) {
        if (arr[i].parent == parent) {
          const grandChildren = getNestedChildren(arr, arr[i].name);
          if (grandChildren.length) {
            arr[i].children = grandChildren;
          }
          children.push(arr[i]);
        }
      }
      return children;
    };
    return getNestedChildren(linksArr, void 0);
  }
  async dfs(links, level, processed, parentRef, titleMapping) {
    titleMapping = titleMapping != null ? titleMapping : {};
    for await (const [order, link] of links.entries()) {
      if (this.mainNameLinks.includes(link.name) && level != 0)
        continue;
      if (processed.includes(link.name)) {
        continue;
      }
      processed.push(link.name);
      const note = await getNoteByName(this.app, link.path);
      const subLinks = this.parseLinks(note);
      this.maxLevel = level + 1;
      titleMapping[link.name] = { ...link, parentRef, level: this.maxLevel, order };
      if (links.length > 0)
        await this.dfs(subLinks, this.maxLevel, processed, titleMapping[link.name], titleMapping);
    }
    return titleMapping;
  }
  async onClose() {
  }
  getViewType() {
    return VIEW_CONTENT_COMPOSE_NOTES;
  }
  getDisplayText() {
    return "Notes Merger";
  }
};
var GenerateMarkdown = _GenerateMarkdown;
GenerateMarkdown.imageTypes = ["jpg", "jpeg", "png", "gif", "webp", "tiff", "bmp"].map((it) => `.${it}`);

// main.ts
var DEFAULT_SETTINGS = {
  listOfLinksKeyword: "Kam d\xE1l",
  literatureNote: "Literature"
};
var GenerateMarkdownPlugin = class extends import_obsidian4.Plugin {
  async onload() {
    await this.loadSettings();
    this.addSettingTab(new GenerateMarkdownPluginSettingTab(this.app, this));
    this.registerView(VIEW_CONTENT_COMPOSE_NOTES, (leaf) => new GenerateMarkdown(leaf, this.settings));
    this.addRibbonIcon("scroll", "NotesMerger", () => {
      this.activateGenerateMarkdownView();
    });
  }
  async activateGenerateMarkdownView() {
    await this.app.workspace.getRightLeaf(false).setViewState({
      type: VIEW_CONTENT_COMPOSE_NOTES,
      active: true
    });
    this.app.workspace.revealLeaf(this.app.workspace.getLeavesOfType(VIEW_CONTENT_COMPOSE_NOTES)[0]);
  }
  onunload() {
  }
  async loadSettings() {
    this.settings = Object.assign({}, DEFAULT_SETTINGS, await this.loadData());
  }
  async saveSettings() {
    await this.saveData(this.settings);
  }
};
var GenerateMarkdownPluginSettingTab = class extends import_obsidian4.PluginSettingTab {
  constructor(app2, plugin) {
    super(app2, plugin);
    this.plugin = plugin;
  }
  display() {
    const { containerEl } = this;
    containerEl.empty();
    new import_obsidian4.Setting(containerEl).setName("List of links keyword").setDesc("Keyword to detect list of links at the end of note").addText((text) => text.setPlaceholder('Defaults to "Kam d\xE1l"').setValue(this.plugin.settings.listOfLinksKeyword).onChange(async (value) => {
      this.plugin.settings.listOfLinksKeyword = value;
      await this.plugin.saveSettings();
    }));
    new import_obsidian4.Setting(containerEl).setName("Literature note").setDesc("Name of note with citations").addText((text) => text.setPlaceholder('Defaults to "Literature"').setValue(this.plugin.settings.literatureNote).onChange(async (value) => {
      this.plugin.settings.literatureNote = value;
      await this.plugin.saveSettings();
    }));
  }
};
//# sourceMappingURL=data:application/json;base64,ewogICJ2ZXJzaW9uIjogMywKICAic291cmNlcyI6IFsibWFpbi50cyIsICJzcmMvdmlld3MvZ2VuZXJhdGUtbWFya2Rvd24udHMiLCAic3JjL3V0aWxzLnRzIiwgInNyYy92aWV3cy9nZW5lcmF0ZS1zbGlkZXMtbWFya2Rvd24udHMiLCAic3JjL2NvbXBvbmVudHMvQnV0dG9uLnRzIiwgInNyYy9jb21wb25lbnRzL0xpbmsudHMiLCAic3JjL2NvbXBvbmVudHMvU2F2ZU1vZGFsLnRzIiwgInNyYy9jb21wb25lbnRzL1RyZWVNZW51LnRzIiwgInNyYy9jb21wb25lbnRzL0NoZWNrYm94LnRzIl0sCiAgInNvdXJjZXNDb250ZW50IjogWyJpbXBvcnQgeyBBcHAsIFBsdWdpbiwgUGx1Z2luU2V0dGluZ1RhYiwgU2V0dGluZyB9IGZyb20gJ29ic2lkaWFuJztcclxuaW1wb3J0IHsgR2VuZXJhdGVNYXJrZG93biwgVklFV19DT05URU5UX0NPTVBPU0VfTk9URVMgfSBmcm9tICcuL3NyYy92aWV3cy9nZW5lcmF0ZS1tYXJrZG93bic7XHJcblxyXG5leHBvcnQgaW50ZXJmYWNlIEdlbmVyYXRlTWFya2Rvd25QbHVnaW5TZXR0aW5nc1R5cGUge1xyXG5cdGxpc3RPZkxpbmtzS2V5d29yZDogc3RyaW5nO1xyXG5cdGxpdGVyYXR1cmVOb3RlOiBzdHJpbmc7XHJcbn1cclxuXHJcbmNvbnN0IERFRkFVTFRfU0VUVElOR1M6IEdlbmVyYXRlTWFya2Rvd25QbHVnaW5TZXR0aW5nc1R5cGUgPSB7XHJcblx0bGlzdE9mTGlua3NLZXl3b3JkOiAnS2FtIGRcdTAwRTFsJyxcclxuXHRsaXRlcmF0dXJlTm90ZTogJ0xpdGVyYXR1cmUnXHJcbn1cclxuXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIEdlbmVyYXRlTWFya2Rvd25QbHVnaW4gZXh0ZW5kcyBQbHVnaW4ge1xyXG5cdHNldHRpbmdzOiBHZW5lcmF0ZU1hcmtkb3duUGx1Z2luU2V0dGluZ3NUeXBlO1xyXG5cclxuXHRhc3luYyBvbmxvYWQoKSB7XHJcblx0XHRhd2FpdCB0aGlzLmxvYWRTZXR0aW5ncygpO1xyXG5cclxuXHRcdHRoaXMuYWRkU2V0dGluZ1RhYihuZXcgR2VuZXJhdGVNYXJrZG93blBsdWdpblNldHRpbmdUYWIodGhpcy5hcHAsIHRoaXMpKTtcdFxyXG5cclxuXHRcdHRoaXMucmVnaXN0ZXJWaWV3KFxyXG5cdFx0XHRWSUVXX0NPTlRFTlRfQ09NUE9TRV9OT1RFUyxcclxuXHRcdFx0KGxlYWYpID0+IG5ldyBHZW5lcmF0ZU1hcmtkb3duKGxlYWYsIHRoaXMuc2V0dGluZ3MpXHJcblx0XHQpO1xyXG5cdFx0XHJcblx0XHR0aGlzLmFkZFJpYmJvbkljb24oXCJzY3JvbGxcIiwgXCJOb3Rlc01lcmdlclwiLCAoKSA9PiB7XHJcblx0XHRcdHRoaXMuYWN0aXZhdGVHZW5lcmF0ZU1hcmtkb3duVmlldygpO1xyXG5cdFx0fSk7XHJcblx0fVxyXG5cclxuXHRhc3luYyBhY3RpdmF0ZUdlbmVyYXRlTWFya2Rvd25WaWV3KCkge1xyXG5cdFx0YXdhaXQgdGhpcy5hcHAud29ya3NwYWNlLmdldFJpZ2h0TGVhZihmYWxzZSkuc2V0Vmlld1N0YXRlKHtcclxuXHRcdCAgdHlwZTogVklFV19DT05URU5UX0NPTVBPU0VfTk9URVMsXHJcblx0XHQgIGFjdGl2ZTogdHJ1ZSxcclxuXHRcdH0pO1xyXG5cdFxyXG5cdFx0dGhpcy5hcHAud29ya3NwYWNlLnJldmVhbExlYWYoXHJcblx0XHQgIHRoaXMuYXBwLndvcmtzcGFjZS5nZXRMZWF2ZXNPZlR5cGUoVklFV19DT05URU5UX0NPTVBPU0VfTk9URVMpWzBdXHJcblx0XHQpO1xyXG5cdH1cclxuXHJcblx0b251bmxvYWQoKSB7XHJcblx0fVxyXG5cclxuXHRhc3luYyBsb2FkU2V0dGluZ3MoKSB7XHJcblx0XHR0aGlzLnNldHRpbmdzID0gT2JqZWN0LmFzc2lnbih7fSwgREVGQVVMVF9TRVRUSU5HUywgYXdhaXQgdGhpcy5sb2FkRGF0YSgpKTtcclxuXHR9XHJcblxyXG5cdGFzeW5jIHNhdmVTZXR0aW5ncygpIHtcclxuXHRcdGF3YWl0IHRoaXMuc2F2ZURhdGEodGhpcy5zZXR0aW5ncyk7XHJcblx0fVxyXG59XHJcblxyXG5jbGFzcyBHZW5lcmF0ZU1hcmtkb3duUGx1Z2luU2V0dGluZ1RhYiBleHRlbmRzIFBsdWdpblNldHRpbmdUYWIge1xyXG5cdHBsdWdpbjogR2VuZXJhdGVNYXJrZG93blBsdWdpbjtcclxuXHJcblx0Y29uc3RydWN0b3IoYXBwOiBBcHAsIHBsdWdpbjogR2VuZXJhdGVNYXJrZG93blBsdWdpbikge1xyXG5cdFx0c3VwZXIoYXBwLCBwbHVnaW4pO1xyXG5cdFx0dGhpcy5wbHVnaW4gPSBwbHVnaW47XHJcblx0fVxyXG5cclxuXHRkaXNwbGF5KCk6IHZvaWQge1xyXG5cclxuXHRcdGNvbnN0IHsgY29udGFpbmVyRWwgfSA9IHRoaXM7XHJcblxyXG5cdFx0Y29udGFpbmVyRWwuZW1wdHkoKTtcclxuXHRcdFxyXG5cdFx0bmV3IFNldHRpbmcoY29udGFpbmVyRWwpXHJcblx0XHRcdC5zZXROYW1lKCdMaXN0IG9mIGxpbmtzIGtleXdvcmQnKVxyXG5cdFx0XHQuc2V0RGVzYygnS2V5d29yZCB0byBkZXRlY3QgbGlzdCBvZiBsaW5rcyBhdCB0aGUgZW5kIG9mIG5vdGUnKVxyXG5cdFx0XHQuYWRkVGV4dCh0ZXh0ID0+IHRleHRcclxuXHRcdFx0XHQuc2V0UGxhY2Vob2xkZXIoJ0RlZmF1bHRzIHRvIFwiS2FtIGRcdTAwRTFsXCInKVxyXG5cdFx0XHRcdC5zZXRWYWx1ZSh0aGlzLnBsdWdpbi5zZXR0aW5ncy5saXN0T2ZMaW5rc0tleXdvcmQpXHJcblx0XHRcdFx0Lm9uQ2hhbmdlKGFzeW5jICh2YWx1ZSkgPT4ge1xyXG5cdFx0XHRcdFx0dGhpcy5wbHVnaW4uc2V0dGluZ3MubGlzdE9mTGlua3NLZXl3b3JkID0gdmFsdWU7XHJcblx0XHRcdFx0XHRhd2FpdCB0aGlzLnBsdWdpbi5zYXZlU2V0dGluZ3MoKTtcclxuXHRcdFx0XHR9KSk7XHJcblxyXG5cdFx0bmV3IFNldHRpbmcoY29udGFpbmVyRWwpXHJcblx0XHQuc2V0TmFtZSgnTGl0ZXJhdHVyZSBub3RlJylcclxuXHRcdC5zZXREZXNjKCdOYW1lIG9mIG5vdGUgd2l0aCBjaXRhdGlvbnMnKVxyXG5cdFx0LmFkZFRleHQodGV4dCA9PiB0ZXh0XHJcblx0XHRcdC5zZXRQbGFjZWhvbGRlcignRGVmYXVsdHMgdG8gXCJMaXRlcmF0dXJlXCInKVxyXG5cdFx0XHQuc2V0VmFsdWUodGhpcy5wbHVnaW4uc2V0dGluZ3MubGl0ZXJhdHVyZU5vdGUpXHJcblx0XHRcdC5vbkNoYW5nZShhc3luYyAodmFsdWUpID0+IHtcclxuXHRcdFx0XHR0aGlzLnBsdWdpbi5zZXR0aW5ncy5saXRlcmF0dXJlTm90ZSA9IHZhbHVlO1xyXG5cdFx0XHRcdGF3YWl0IHRoaXMucGx1Z2luLnNhdmVTZXR0aW5ncygpO1xyXG5cdFx0XHR9KSk7XHJcblx0fVxyXG59XHJcbiIsICJpbXBvcnQgeyBJdGVtVmlldywgV29ya3NwYWNlTGVhZiwgTm90aWNlLCBUQWJzdHJhY3RGaWxlLCBURmlsZSwgQXBwIH0gZnJvbSBcIm9ic2lkaWFuXCI7XG5pbXBvcnQgeyBmaXhTcGFjZUluTmFtZSwgZ2V0Tm90ZUJ5TmFtZSB9IGZyb20gJy4uL3V0aWxzJztcblxuaW1wb3J0IHsgR2VuZXJhdGVNYXJrZG93blBsdWdpblNldHRpbmdzVHlwZSB9IGZyb20gJy4uLy4uL21haW4nO1xuaW1wb3J0IHsgZ2VuZXJhdGVTbGlkZXNNYXJrZG93biB9IGZyb20gJy4vZ2VuZXJhdGUtc2xpZGVzLW1hcmtkb3duJztcblxuaW1wb3J0IHtcblx0QnV0dG9uLCBcblx0QmFzZUxpbmssXG5cdFNhdmVNb2RhbCwgXG5cdFRyZWVNZW51LFxufSBmcm9tICcuLi9jb21wb25lbnRzL2luZGV4JztcblxuXG5leHBvcnQgY29uc3QgVklFV19DT05URU5UX0NPTVBPU0VfTk9URVMgPSBcInZpZXctZ2VuZXJhdGUtbWFya2Rvd25cIjtcblxuXG5leHBvcnQgaW50ZXJmYWNlIExpbmtUcmVlVHlwZSB7XG5cdG5hbWU6IHN0cmluZztcblx0cGFyZW50Pzogc3RyaW5nIHwgdW5kZWZpbmVkO1xuXHRjaGlsZHJlbjogTGlua1RyZWVUeXBlW107XG5cdGluZGV4OiBib29sZWFuO1xuXHRleGlzdHM6IGJvb2xlYW47XG5cdGlubGluZTogYm9vbGVhbjtcblx0bGV2ZWw/OiBudW1iZXI7XG5cdG9yZGVyPzogbnVtYmVyO1xuXHRwYXRoOiBzdHJpbmc7XG59XG5cbmludGVyZmFjZSBCdWlsZExpbmtUcmVlVHlwZSBleHRlbmRzIExpbmtUcmVlVHlwZXtcblx0cGFyZW50UmVmPzogQnVpbGRMaW5rVHJlZVR5cGU7XG59XG5cbmV4cG9ydCBjbGFzcyBHZW5lcmF0ZU1hcmtkb3duIGV4dGVuZHMgSXRlbVZpZXcge1xuXHRcblx0c2V0dGluZ3M6IEdlbmVyYXRlTWFya2Rvd25QbHVnaW5TZXR0aW5nc1R5cGU7XG5cblx0Y29udGFpbmVyOiBFbGVtZW50O1xuXHR0b29sYmFyOiBFbGVtZW50O1xuXHRzdHJ1Y3R1cmU6IEVsZW1lbnQ7XG5cdGdlbmVyYXRlUHJldmlld1BhcmVudDogRWxlbWVudDtcblx0Z2VuZXJhdGVNYXJrZG93blBhcmVudDogRWxlbWVudDtcblx0Z2VuZXJhdGVTbGlkZXNQYXJlbnQ6IEVsZW1lbnQ7XG5cblx0bGlua3NUcmVlOiBMaW5rVHJlZVR5cGVbXSA9IFtdO1xuXHRsb2FkZWRGaWxlczogVEFic3RyYWN0RmlsZVtdID0gW107XG5cdG1heExldmVsOiBudW1iZXIgPSAwO1xuXHRwcm9jZXNzZWQ6IHN0cmluZ1tdID0gW107XG5cdG1haW5OYW1lTGlua3M6IHN0cmluZ1tdID0gW107XG5cblx0bWFya2Rvd246IHN0cmluZyA9IFwiXCI7XG5cdGlnbm9yZWRMaW5rczogc3RyaW5nW10gPSBbXTtcblx0aW1hZ2VzOiBzdHJpbmdbXSA9IFtdO1xuXG5cdHN0YXRpYyBpbWFnZVR5cGVzID0gWydqcGcnLCAnanBlZycsICdwbmcnLCAnZ2lmJywgJ3dlYnAnLCAndGlmZicsICdibXAnXS5tYXAoKGl0OiBzdHJpbmcpID0+IGAuJHtpdH1gKTtcblxuXHRjb25zdHJ1Y3RvcihsZWFmOiBXb3Jrc3BhY2VMZWFmLCBzZXR0aW5nczogR2VuZXJhdGVNYXJrZG93blBsdWdpblNldHRpbmdzVHlwZSkge1xuXHRcdHN1cGVyKGxlYWYpO1xuXHRcdHRoaXMuc2V0dGluZ3MgPSBzZXR0aW5ncztcblx0fVxuXG5cdGFzeW5jIG9uT3BlbigpIHtcblx0XHRjb25zdCBjb250YWluZXIgPSB0aGlzLmNvbnRhaW5lckVsLmNoaWxkcmVuWzFdO1xuXG5cdFx0dGhpcy5jb250YWluZXIgPSBjb250YWluZXI7XG5cdFx0Y29udGFpbmVyLmVtcHR5KCk7XG5cblx0XHR0aGlzLnRvb2xiYXIgPSBjb250YWluZXIuY3JlYXRlRWwoXCJkaXZcIik7XG5cdFx0dGhpcy5nZW5lcmF0ZVByZXZpZXdQYXJlbnQgPSB0aGlzLnRvb2xiYXIuY3JlYXRlRWwoJ3NwYW4nKTtcblx0XHR0aGlzLmdlbmVyYXRlTWFya2Rvd25QYXJlbnQgPSB0aGlzLnRvb2xiYXIuY3JlYXRlRWwoJ3NwYW4nKTtcblx0XHR0aGlzLmdlbmVyYXRlU2xpZGVzUGFyZW50ID0gdGhpcy50b29sYmFyLmNyZWF0ZUVsKCdzcGFuJyk7XG5cdFx0dGhpcy5zdHJ1Y3R1cmUgPSB0aGlzLmNvbnRhaW5lci5jcmVhdGVFbChcImRpdlwiKTtcblxuXHRcdG5ldyBCdXR0b24odGhpcy5nZW5lcmF0ZVByZXZpZXdQYXJlbnQsICdHZW5lcmF0ZSBwcmV2aWV3JywgKCkgPT4ge1xuXHRcdFx0Ly8gZW1wdHkgc3RhdGVcblx0XHRcdHRoaXMubGlua3NUcmVlID0gW107XG5cdFx0XHR0aGlzLm1heExldmVsID0gMDtcblx0XHRcdHRoaXMucHJvY2Vzc2VkID0gW107XG5cdFx0XHR0aGlzLm1haW5OYW1lTGlua3MgPSBbXTtcblx0XHRcdHRoaXMuaWdub3JlZExpbmtzID0gW107XG5cdFx0XHR0aGlzLm1hcmtkb3duID0gXCJcIjtcblx0XHRcdFxuXHRcdFx0dGhpcy5zdHJ1Y3R1cmUuZW1wdHkoKTtcblx0XHRcdHRoaXMuZ2VuZXJhdGVNYXJrZG93blBhcmVudC5lbXB0eSgpO1xuXHRcdFx0dGhpcy5nZW5lcmF0ZVNsaWRlc1BhcmVudC5lbXB0eSgpO1xuXHRcdFx0dGhpcy5yZWFkU2VsZWN0ZWROb3RlKCk7XG5cdFx0fSk7XG5cdH1cblxuXHRwYXJzZUxpbmtzKHRleHQ6IHN0cmluZywgaW5kZXg6IGJvb2xlYW4gPSBmYWxzZSkge1xuXHRcdGNvbnN0IGxpbmtzID0gdGV4dC5tYXRjaEFsbCgvXFxbXFxbKC4qPylcXF1cXF0vZyk7XG5cdFx0bGV0IGNsZWFuTGlua3MgPSBbLi4ubGlua3NdLm1hcChsID0+IGxbMV0pO1xuXG5cdFx0Y2xlYW5MaW5rcyA9IFsuLi5uZXcgU2V0KGNsZWFuTGlua3MpXTtcblxuXHRcdC8vIGZpbHRlciBvdXQgYW5jaG9yIGxpbmtzIChbWyNmb29iYXJdXSlcblx0XHRjbGVhbkxpbmtzID0gY2xlYW5MaW5rcy5maWx0ZXIoY2wgPT4gIWNsLnN0YXJ0c1dpdGgoJyMnKSk7XG5cdFx0XG5cdFx0Y2xlYW5MaW5rcyA9IGNsZWFuTGlua3MuZmlsdGVyKGNsID0+ICFjbC5zdGFydHNXaXRoKGAke3RoaXMuc2V0dGluZ3MubGl0ZXJhdHVyZU5vdGV9I2ApKTtcblxuXHRcdGNvbnN0IGV4aXN0aW5nTm90ZXMgPSBjbGVhbkxpbmtzLm1hcCgoY2w6IHN0cmluZykgPT4ge1xuXHRcdFx0Y2wgPSBmaXhTcGFjZUluTmFtZShjbCk7XG5cblx0XHRcdGlmICghIUdlbmVyYXRlTWFya2Rvd24uaW1hZ2VUeXBlcy5maWx0ZXIoKGl0OiBzdHJpbmcpID0+IGNsLmluY2x1ZGVzKGl0LnRvTG93ZXJDYXNlKCkpKS5sZW5ndGgpIHtcblx0XHRcdFx0dGhpcy5pbWFnZXMucHVzaChjbClcblx0XHRcdFx0cmV0dXJuIGZhbHNlO1xuXHRcdFx0fVxuXG5cdFx0XHRsZXQgaXNJbmxpbmUgPSB0cnVlO1x0XHRcdFxuXHRcdFx0aWYgKHRleHQuaW5jbHVkZXModGhpcy5zZXR0aW5ncy5saXN0T2ZMaW5rc0tleXdvcmQpKSB7XG5cdFx0XHRcdGxldCBbaW5saW5lVGV4dCwgbGlua3NUZXh0XSA9IHRleHQuc3BsaXQodGhpcy5zZXR0aW5ncy5saXN0T2ZMaW5rc0tleXdvcmQpO1xuXHRcdFx0XHRpZiAoIWlubGluZVRleHQuaW5jbHVkZXMoY2wpKVxuXHRcdFx0XHRcdGlzSW5saW5lID0gZmFsc2U7XG5cdFx0XHR9XG5cblx0XHRcdGxldCBpc0luZGV4ID0gZmFsc2U7XG5cdFx0XHRpZiAoaW5kZXgpIHtcblx0XHRcdFx0aXNJbmxpbmUgPSBmYWxzZTtcblx0XHRcdFx0aXNJbmRleCA9IHRydWU7XG5cdFx0XHR9XG5cblx0XHRcdGNvbnN0IG5vdGUgPSB0aGlzLmxvYWRlZEZpbGVzLmZpbmQoKGY6IFRGaWxlKSA9PiBmWydiYXNlbmFtZSddID09PSBjbCk7XG5cblx0XHRcdHJldHVybiB7XG5cdFx0XHRcdG5hbWU6IGNsLFxuXHRcdFx0XHRleGlzdHM6ICEhbm90ZSxcdFxuXHRcdFx0XHRpbmxpbmU6IGlzSW5saW5lLFxuXHRcdFx0XHRpbmRleDogaXNJbmRleCxcblx0XHRcdFx0cGF0aDogbm90ZT8ucGF0aFxuXHRcdFx0fTtcblx0XHR9KS5maWx0ZXIoQm9vbGVhbik7XG5cblx0XHRyZXR1cm4gZXhpc3RpbmdOb3RlcyBhcyBMaW5rVHJlZVR5cGVbXTtcblx0fVxuXG5cdGFzeW5jIHJlYWRTZWxlY3RlZE5vdGUoKSB7XG5cdFx0dGhpcy5sb2FkZWRGaWxlcyA9IGFwcC52YXVsdC5nZXRNYXJrZG93bkZpbGVzKCk7XG5cblx0XHRjb25zdCBhY3RpdmVOb3RlID0gdGhpcy5hcHAud29ya3NwYWNlLmdldEFjdGl2ZUZpbGUoKTtcblxuXHRcdGlmICghYWN0aXZlTm90ZSkge1xuXHRcdFx0bmV3IE5vdGljZShgU2VsZWN0ZWQgbm90ZSBpcyBpbnZhbGlkLmApO1xuXHRcdFx0dGhyb3cgbmV3IEVycm9yKFwiU2VsZWN0ZWQgbm90ZSBpcyBpbnZhbGlkLlwiKTtcblx0XHR9XG5cdFx0Y29uc3QgYWN0aXZlTm90ZVRleHQgPSBhd2FpdCBnZXROb3RlQnlOYW1lKHRoaXMuYXBwLCBhY3RpdmVOb3RlLnBhdGgpO1xuXG5cdFx0Y29uc3QgbWFpbkNvbnRlbnRMaW5rcyA9IHRoaXMucGFyc2VMaW5rcyhhY3RpdmVOb3RlVGV4dCwgdHJ1ZSk7XG5cdFx0XG5cdFx0dGhpcy5tYWluTmFtZUxpbmtzID0gbWFpbkNvbnRlbnRMaW5rcy5tYXAoKGw6IExpbmtUcmVlVHlwZSkgPT4gbC5uYW1lKTtcblxuXHRcdHRoaXMubGlua3NUcmVlID0gYXdhaXQgdGhpcy5nZW5lcmF0ZU5vdGVzSGllcmFyY2h5KG1haW5Db250ZW50TGlua3MpO1xuXG5cdFx0Y29uc3QgdGl0bGUgPSBhY3RpdmVOb3RlLmJhc2VuYW1lO1xuXHRcdG5ldyBCYXNlTGluayh0aGlzLmFwcCwgdGhpcy5zdHJ1Y3R1cmUsIHRpdGxlKTtcblxuXHRcdG5ldyBUcmVlTWVudSh0aGlzLmFwcCwgdGhpcy5zdHJ1Y3R1cmUsIHRoaXMubGlua3NUcmVlLCAoaWdub3JlZExpbmtzOiBzdHJpbmdbXSkgPT4ge1xuXHRcdFx0dGhpcy5pZ25vcmVkTGlua3MgPSBpZ25vcmVkTGlua3M7XG5cdFx0fSk7XG5cblx0XHRuZXcgQnV0dG9uKHRoaXMuZ2VuZXJhdGVNYXJrZG93blBhcmVudCwgJ0dlbmVyYXRlIG1hcmtkb3duJywgKCkgPT4ge1xuXHRcdFx0XG5cdFx0XHQvLyBjbGVhbnVwXG5cdFx0XHR0aGlzLm1hcmtkb3duID0gXCJcIjtcblxuXHRcdFx0dGhpcy5nZW5lcmF0ZU1hcmtkb3duRmlsZSh0aGlzLmxpbmtzVHJlZSwgYWN0aXZlTm90ZVRleHQpO1xuXHRcdH0sIHsgY2xzOiAnZ2VuZXJhdGUtbWFya2Rvd24tYnRuJyB9KTtcblxuXHRcdG5ldyBCdXR0b24odGhpcy5nZW5lcmF0ZVNsaWRlc1BhcmVudCwgJ0dlbmVyYXRlIHNsaWRlcycsICgpID0+IHtcblx0XHRcdGdlbmVyYXRlU2xpZGVzTWFya2Rvd24odGhpcy5saW5rc1RyZWUpO1xuXHRcdH0sIHsgY2xzOiAnZ2VuZXJhdGUtbWFya2Rvd24tYnRuJyB9KVxuXHR9XG5cblx0Z2VuZXJhdGVNYXJrZG93bkZpbGUobGlua3M6IExpbmtUcmVlVHlwZVtdLCBtYWluTm90ZTogc3RyaW5nKSB7XG5cdFx0dGhpcy5jb21wb3NlTWFya2Rvd24obGlua3MpO1xuXG5cdFx0Ly8gdHJhbnNmb3JtIGxpbmtzIHRvIGFuY2hvciBpbiBpbmRleCBub3RlIFxuXHRcdHRoaXMubWFpbk5hbWVMaW5rcy5mb3JFYWNoKChtbmw6IHN0cmluZykgPT4ge1xuXG5cdFx0XHRtbmwgPSBmaXhTcGFjZUluTmFtZShtbmwpO1xuXHRcdFx0bWFpbk5vdGUgPSBtYWluTm90ZS5yZXBsYWNlQWxsKGBbWyR7bW5sfV1dYCwgYFtbIyR7bW5sfV1dYClcblx0XHR9KTtcblxuXHRcdHRoaXMubWFya2Rvd24gPSBtYWluTm90ZSArIHRoaXMubWFya2Rvd247XG5cblx0XHRuZXcgU2F2ZU1vZGFsKHRoaXMuYXBwLCBhc3luYyAoZmlsZU5hbWUpID0+IHtcblx0XHRcdGF3YWl0IHRoaXMuYXBwLnZhdWx0LmFkYXB0ZXIud3JpdGUoYCR7ZmlsZU5hbWV9Lm1kYCwgdGhpcy5tYXJrZG93bilcblx0XHRcdG5ldyBOb3RpY2UoYE5vdGUgJHtmaWxlTmFtZX0gY3JlYXRlZCBzdWNjZXNzZnVsbHlgKTtcblx0XHRcdHRoaXMuYXBwLndvcmtzcGFjZS5vcGVuTGlua1RleHQoYCR7ZmlsZU5hbWV9Lm1kYCwgXCJcIilcblx0XHRcdFxuXHRcdH0pLm9wZW4oKTtcblx0XHRcblx0fVxuXG5cdGNvbXBvc2VNYXJrZG93bihsaW5rczogTGlua1RyZWVUeXBlW10pIHtcblx0XHRsaW5rcy5mb3JFYWNoKGFzeW5jIChsaW5rOiBMaW5rVHJlZVR5cGUpID0+IHtcblx0XHRcdGxldCBub3RlID0gYXdhaXQgZ2V0Tm90ZUJ5TmFtZSh0aGlzLmFwcCwgbGluay5wYXRoKTtcblx0XHRcdGNvbnN0IGxvY2FsTGlua3MgPSB0aGlzLnBhcnNlTGlua3Mobm90ZSk7XG5cblx0XHRcdGlmICh0aGlzLmlnbm9yZWRMaW5rcy5pbmNsdWRlcyhsaW5rLm5hbWUpKVxuXHRcdFx0XHRyZXR1cm47XG5cblx0XHRcdC8vIHRyaW0gZW50ZXJzIGFuZCBzcGFjZXNcblx0XHRcdG5vdGUgPSBub3RlLnRyaW0oKTtcblxuXHRcdFx0aWYgKG5vdGUubGVuZ3RoID09IDApXG5cdFx0XHRcdHJldHVybjtcblxuXHRcdFx0Ly8gdHJhbnNmb3JtIGxpbmtzIHRvIGFuY2hvcnNcblx0XHRcdGxvY2FsTGlua3MuZm9yRWFjaCgobG9jYWxMaW5rOiBMaW5rVHJlZVR5cGUpID0+IHtcblx0XHRcdFx0aWYgKGxvY2FsTGluay5pbmxpbmUgJiYgdGhpcy5pZ25vcmVkTGlua3MuaW5jbHVkZXMobG9jYWxMaW5rLm5hbWUpKVxuXHRcdFx0XHRcdG5vdGUgPSBub3RlLnJlcGxhY2VBbGwoYFtbJHtsb2NhbExpbmsubmFtZX1dXWAsIGxvY2FsTGluay5uYW1lKTtcblx0XHRcdFx0ZWxzZVxuXHRcdFx0XHRcdG5vdGUgPSBub3RlLnJlcGxhY2VBbGwoYFtbJHtsb2NhbExpbmsubmFtZX1dXWAsIGBbWyMke2xvY2FsTGluay5uYW1lfV1dYClcblx0XHRcdH0pXG5cblx0XHRcdC8vIHJlbW92ZSB0aXRsZSBvbiBhIGZpcnN0IGxpbmVcblx0XHRcdGxldCBub3RlUm93cyA9IG5vdGUuc3BsaXQoJ1xcbicpO1xuXHRcdFx0bGV0IGZpcnN0Um93ID0gZml4U3BhY2VJbk5hbWUobm90ZVJvd3NbMF0pO1xuXHRcdFx0aWYgKGZpcnN0Um93LmluY2x1ZGVzKGAjICR7bGluay5uYW1lfWApKSB7XG5cdFx0XHRcdG5vdGVSb3dzLnNoaWZ0KCk7XG5cdFx0XHRcdG5vdGUgPSBub3RlUm93cy5qb2luKFwiXFxuXCIpLnRyaW0oKTtcblx0XHRcdH1cblx0XHRcdFxuXHRcdFx0Ly8gcmVtb3ZlICdLYW0gZFx1MDBFMWwnIHBhcnRcblx0XHRcdGlmIChub3RlLmluY2x1ZGVzKHRoaXMuc2V0dGluZ3MubGlzdE9mTGlua3NLZXl3b3JkKSkge1xuXHRcdFx0XHRsZXQgW2ltcG9ydGFudFBhcnQsIGVuZFBhcnRdID0gbm90ZS5zcGxpdCh0aGlzLnNldHRpbmdzLmxpc3RPZkxpbmtzS2V5d29yZCk7XG5cdFx0XHRcdG5vdGUgPSBpbXBvcnRhbnRQYXJ0LnRyaW0oKTtcblx0XHRcdH1cblx0XHRcdFxuXHRcdFx0Ly8gZ2VuZXJhdGUgbmVzdGVkIHRpdGxlIGUuZy4gaDMgLT4gIyMjIHRpdGxlM1xuXHRcdFx0bGV0IHRpdGxlID0gXCJcIjtcblx0XHRcdGlmIChsaW5rLmlubGluZSkge1xuXHRcdFx0XHQvLyBoNVxuXHRcdFx0XHR0aXRsZSA9IGAjIyMjIyAke2xpbmsubmFtZX1gO1xuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0Y29uc3QgbmVzdGVkTGV2ZWwgPSBBcnJheShsaW5rLmxldmVsKS5maWxsKCcjJykuam9pbignJyk7XG5cdFx0XHRcdHRpdGxlID0gYCR7bmVzdGVkTGV2ZWx9ICR7bGluay5uYW1lfWA7XG5cdFx0XHR9XG5cblx0XHRcdG5vdGUgPSBgXFxuXFxuJHt0aXRsZX1cXG4ke25vdGV9YDtcblxuXHRcdFx0Ly8gc2hvdWxkIGJlIGxhc3Rcblx0XHRcdHRoaXMubWFya2Rvd24gKz0gbm90ZTtcblxuXHRcdFx0aWYgKCdjaGlsZHJlbicgaW4gbGluaylcblx0XHRcdFx0dGhpcy5jb21wb3NlTWFya2Rvd24obGluay5jaGlsZHJlbik7XG5cdFx0fSk7XG5cdH1cblxuXHRhc3luYyBnZW5lcmF0ZU5vdGVzSGllcmFyY2h5KGxpbmtzOiBMaW5rVHJlZVR5cGVbXSkge1xuXHRcdGNvbnN0IGxpbmtzT2JqOiBCdWlsZExpbmtUcmVlVHlwZSA9IGF3YWl0IHRoaXMuZGZzKGxpbmtzLCAwLCBbXSk7XG5cdFx0bGV0IGxpbmtzQXJyOiBMaW5rVHJlZVR5cGVbXSA9IFtdO1xuXHRcdFxuXHRcdE9iamVjdC5rZXlzKGxpbmtzT2JqKS5mb3JFYWNoKGtleSA9PiB7XG5cdFx0XHRjb25zdCB7cGFyZW50UmVmLCAuLi5yZXN0fSA9IGxpbmtzT2JqW2tleSBhcyBrZXlvZiBCdWlsZExpbmtUcmVlVHlwZV0gYXMgQnVpbGRMaW5rVHJlZVR5cGU7IFxuXHRcdFx0bGlua3NBcnIucHVzaCh7Li4ucmVzdCwgcGFyZW50OiAobGlua3NPYmpba2V5IGFzIGtleW9mIEJ1aWxkTGlua1RyZWVUeXBlXSBhcyBCdWlsZExpbmtUcmVlVHlwZSk/LnBhcmVudFJlZj8ubmFtZX0pO1xuXHRcdH0pO1xuXG5cdFx0Y29uc3QgZ2V0TmVzdGVkQ2hpbGRyZW4gPSAoYXJyOiBMaW5rVHJlZVR5cGVbXSwgcGFyZW50OiBzdHJpbmcgfCB1bmRlZmluZWQpID0+IHtcblx0XHRcdGxldCBjaGlsZHJlbiA9IFtdO1xuXHRcdFx0Zm9yKGxldCBpID0gMDsgaSA8IGFyci5sZW5ndGg7IGkrKykge1xuXHRcdFx0XHRpZihhcnJbaV0ucGFyZW50ID09IHBhcmVudCkge1xuXHRcdFx0XHRcdGNvbnN0IGdyYW5kQ2hpbGRyZW4gPSBnZXROZXN0ZWRDaGlsZHJlbihhcnIsIGFycltpXS5uYW1lKTtcblx0XHRcdFx0XHRpZihncmFuZENoaWxkcmVuLmxlbmd0aCkge1xuXHRcdFx0XHRcdFx0YXJyW2ldLmNoaWxkcmVuID0gZ3JhbmRDaGlsZHJlbjtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0Y2hpbGRyZW4ucHVzaChhcnJbaV0pO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0XHRyZXR1cm4gY2hpbGRyZW47XG5cdFx0fVxuXHRcdHJldHVybiBnZXROZXN0ZWRDaGlsZHJlbihsaW5rc0FyciwgdW5kZWZpbmVkKTtcblx0fVxuXG5cdGFzeW5jIGRmcyhsaW5rczogQnVpbGRMaW5rVHJlZVR5cGVbXSwgbGV2ZWw6IG51bWJlciwgcHJvY2Vzc2VkOiBzdHJpbmdbXSwgcGFyZW50UmVmPzogb2JqZWN0LCB0aXRsZU1hcHBpbmc/OiBvYmplY3QpIHtcblx0XHR0aXRsZU1hcHBpbmcgPSAodGl0bGVNYXBwaW5nIGFzIEJ1aWxkTGlua1RyZWVUeXBlKSA/PyB7fTsgXG5cblx0XHRmb3IgYXdhaXQgKGNvbnN0IFtvcmRlciwgbGlua10gb2YgbGlua3MuZW50cmllcygpKSB7XG5cblx0XHRcdC8vIHNraXAgbGluayBmcm9tIG1haW5Db250ZW50XG5cdFx0XHRpZiAodGhpcy5tYWluTmFtZUxpbmtzLmluY2x1ZGVzKGxpbmsubmFtZSkgJiYgbGV2ZWwgIT0gMClcblx0XHRcdFx0Y29udGludWU7XG5cblx0XHRcdC8vIHNraXAgaWYgbGluayBpcyBhbHJlYWR5IHByb2Nlc3NlZFxuXHRcdFx0aWYgKHByb2Nlc3NlZC5pbmNsdWRlcyhsaW5rLm5hbWUpKSB7XG5cdFx0XHRcdGNvbnRpbnVlO1xuXHRcdFx0fVxuXHRcdFx0cHJvY2Vzc2VkLnB1c2gobGluay5uYW1lKTtcblxuXHRcdFx0Y29uc3Qgbm90ZSA9IGF3YWl0IGdldE5vdGVCeU5hbWUodGhpcy5hcHAsIGxpbmsucGF0aClcblx0XHRcdGNvbnN0IHN1YkxpbmtzID0gdGhpcy5wYXJzZUxpbmtzKG5vdGUpO1xuXHRcdFxuXHRcdFx0dGhpcy5tYXhMZXZlbCA9IGxldmVsICsgMTtcblxuXHRcdFx0KHRpdGxlTWFwcGluZyBhcyBhbnkpW2xpbmsubmFtZV0gPSB7IC4uLmxpbmssIHBhcmVudFJlZiwgbGV2ZWw6IHRoaXMubWF4TGV2ZWwsIG9yZGVyfTtcblxuXHRcdFx0aWYgKGxpbmtzLmxlbmd0aCA+IDApXG5cdFx0XHRcdGF3YWl0IHRoaXMuZGZzKHN1YkxpbmtzLCB0aGlzLm1heExldmVsLCBwcm9jZXNzZWQsICh0aXRsZU1hcHBpbmcgYXMgYW55KVtsaW5rLm5hbWVdLCB0aXRsZU1hcHBpbmcpO1xuXHRcdH1cblxuXHRcdHJldHVybiB0aXRsZU1hcHBpbmcgYXMgQnVpbGRMaW5rVHJlZVR5cGU7XG5cdH1cblxuXHRhc3luYyBvbkNsb3NlKCkge1xuXHRcdC8vIE5vdGhpbmcgdG8gY2xlYW4gdXAuXG5cdH1cblxuXHRnZXRWaWV3VHlwZSgpIHtcblx0XHRyZXR1cm4gVklFV19DT05URU5UX0NPTVBPU0VfTk9URVM7XG5cdH1cblxuXHRnZXREaXNwbGF5VGV4dCgpIHtcblx0XHRyZXR1cm4gXCJOb3RlcyBNZXJnZXJcIjtcblx0fVxufVxuIiwgImltcG9ydCB7IFRGaWxlLCBBcHAgfSBmcm9tICdvYnNpZGlhbic7XG5cbmV4cG9ydCBjb25zdCBmaXhTcGFjZUluTmFtZSA9IChuYW1lOiBzdHJpbmcpID0+IHtcblx0cmV0dXJuIG5hbWUucmVwbGFjZSgvW1xcdTAwQTBcXHUxNjgwXFx1MTgwRVxcdTIwMDAtXFx1MjAwQlxcdTIwMkZcXHUyMDVGXFx1MzAwMFxcdUZFRkZdLywgXCIgXCIpLnRyaW0oKTtcbn1cblxuZXhwb3J0IGNvbnN0IGdldE5vdGVCeU5hbWUgPSBhc3luYyAoYXBwOiBBcHAsIHBhdGg6IHN0cmluZykgPT4ge1xuXHRjb25zdCBmaWxlID0gYXBwLnZhdWx0LmdldEFic3RyYWN0RmlsZUJ5UGF0aChwYXRoKTtcblxuXHRpZiAoIShmaWxlIGluc3RhbmNlb2YgVEZpbGUpKVxuXHRcdHJldHVybiBcIlwiO1x0XG5cblx0cmV0dXJuIGF3YWl0IGFwcC52YXVsdC5jYWNoZWRSZWFkKGZpbGUpO1xufVxuIiwgImltcG9ydCB7IExpbmtUcmVlVHlwZSB9IGZyb20gXCIuL2dlbmVyYXRlLW1hcmtkb3duXCI7XG5cbmV4cG9ydCBjb25zdCBnZW5lcmF0ZVNsaWRlc01hcmtkb3duID0gKGxpbmtzOiBMaW5rVHJlZVR5cGVbXSkgPT4ge1xuXHRjb25zb2xlLmxvZyhsaW5rcylcbn1cbiIsICJleHBvcnQgY2xhc3MgQnV0dG9uIHtcclxuXHRidG46IEhUTUxCdXR0b25FbGVtZW50O1xyXG5cclxuXHRjb25zdHJ1Y3RvcihlbGVtZW50OiBFbGVtZW50LCB0ZXh0OiBzdHJpbmcsIG9uQ2xpY2s6IChjb250ZXh0OiBCdXR0b24pID0+IHZvaWQsIGFyZ3M/OiBvYmplY3QpIHtcclxuXHRcdHRoaXMuYnRuID0gZWxlbWVudC5jcmVhdGVFbCgnYnV0dG9uJywgeyB0ZXh0LCAuLi5hcmdzIH0pO1xyXG5cdFx0dGhpcy5idG4ub25jbGljayA9ICgpID0+IHtcclxuXHRcdFx0b25DbGljayh0aGlzKTtcclxuXHRcdH07XHRcclxuXHRcdHJldHVybiB0aGlzO1xyXG5cdH1cclxufVxyXG4iLCAiaW1wb3J0IHsgQXBwIH0gZnJvbSBcIm9ic2lkaWFuXCI7XHJcbmltcG9ydCB7IExpbmtUcmVlVHlwZSB9IGZyb20gXCJzcmMvdmlld3MvZ2VuZXJhdGUtbWFya2Rvd25cIjtcclxuXHJcbmV4cG9ydCBjbGFzcyBCYXNlTGluayB7XHJcblx0Y29udGV4dDogQXBwO1xyXG5cdGVsZW1lbnQ6IEVsZW1lbnQ7XHJcblx0bmFtZTogc3RyaW5nO1xyXG5cclxuXHRjb25zdHJ1Y3Rvcihjb250ZXh0OiBBcHAsIGVsZW1lbnQ6IEVsZW1lbnQsIG5hbWU6IHN0cmluZykge1xyXG5cdFx0dGhpcy5jb250ZXh0ID0gY29udGV4dDtcclxuXHRcdHRoaXMuZWxlbWVudCA9IGVsZW1lbnQ7XHJcblx0XHR0aGlzLm5hbWUgPSBuYW1lO1xyXG5cclxuXHRcdHRoaXMucmVuZGVyKCk7XHJcblx0fVxyXG5cclxuXHRyZW5kZXIoKSB7XHJcblx0XHRjb25zdCBocmVmVGl0bGUgPSB0aGlzLmVsZW1lbnQuY3JlYXRlRWwoJ2EnLCB7IHRleHQ6IHRoaXMubmFtZSwgY2xzOiAnY29udF9fdGl0bGUnIH0pO1xyXG5cdFx0aHJlZlRpdGxlLm9uY2xpY2sgPSAoKSA9PiB7XHJcblx0XHRcdHRoaXMuY29udGV4dC53b3Jrc3BhY2Uub3BlbkxpbmtUZXh0KHRoaXMubmFtZSwgXCJcIik7XHJcblx0XHR9XHJcblx0fVxyXG5cclxufVxyXG5cclxuLy8gTGluayB3aXRoIGlubmVyIHN0YXRlIGFuZCBoZWxwZXIgZm5jc1xyXG5leHBvcnQgY2xhc3MgTGluayB7XHJcblxyXG5cdGNvbnRleHQ6IEFwcDtcclxuXHRhOiBIVE1MRWxlbWVudDtcclxuXHRsaW5rOiBMaW5rVHJlZVR5cGU7XHJcblx0ZWxlbWVudDogRWxlbWVudDtcclxuXHR0b2dnbGVkU3RhdGU6IGJvb2xlYW4gPSBmYWxzZTtcclxuXHJcblx0Y29uc3RydWN0b3IoY29udGV4dDogQXBwLCBlbGVtZW50OiBFbGVtZW50LCBsaW5rOiBMaW5rVHJlZVR5cGUsIHJlbmRlck5vdzogYm9vbGVhbiA9IHRydWUpIHtcclxuXHRcdHRoaXMubGluayA9IGxpbms7XHJcblx0XHR0aGlzLmNvbnRleHQgPSBjb250ZXh0O1xyXG5cdFx0dGhpcy5lbGVtZW50ID0gZWxlbWVudDtcclxuXHJcblx0XHRpZiAocmVuZGVyTm93KVxyXG5cdFx0XHR0aGlzLnJlbmRlcihmYWxzZSk7XHJcblxyXG5cdFx0cmV0dXJuIHRoaXM7XHJcblx0fVxyXG5cclxuXHRyZW5kZXIoc3RhdGU6IGJvb2xlYW4pIHtcclxuXHRcdHRoaXMuYSA9IHRoaXMuZWxlbWVudC5jcmVhdGVFbCgnYScsIHsgdGV4dDogdGhpcy5saW5rLm5hbWUsIGNsczogXCJsaW5rXCIgfSk7XHJcblx0XHQhdGhpcy5saW5rLmV4aXN0cyAmJiB0aGlzLmEuYWRkQ2xhc3MoXCJjb250X19saW5rLW5vdC1leGlzdFwiKTtcclxuXHRcdHRoaXMubGluay5pbmxpbmUgJiYgdGhpcy5hLmFkZENsYXNzKFwiaW5saW5lXCIpO1xyXG5cdFx0dGhpcy5hLm9uY2xpY2sgPSAoKSA9PiB7XHJcblx0XHRcdHRoaXMuY29udGV4dC53b3Jrc3BhY2Uub3BlbkxpbmtUZXh0KHRoaXMubGluay5uYW1lLCBcIlwiKTtcclxuXHRcdFx0IXRoaXMubGluay5leGlzdHMgJiYgdGhpcy5hLnJlbW92ZUNsYXNzKFwiY29udF9fbGluay1ub3QtZXhpc3RcIik7XHJcblx0XHR9O1xyXG5cclxuXHRcdHRoaXMudG9nZ2xlKHN0YXRlKTtcclxuXHR9XHJcblxyXG5cdHRvZ2dsZShzdGF0ZTogYm9vbGVhbikge1xyXG5cdFx0aWYgKHN0YXRlKVxyXG5cdFx0XHR0aGlzLmEucmVtb3ZlQ2xhc3MoJ3N0cmlrZXRocm91Z2gnKTtcclxuXHRcdGVsc2VcclxuXHRcdFx0dGhpcy5hLmFkZENsYXNzKCdzdHJpa2V0aHJvdWdoJyk7XHJcblx0fVxyXG59XHJcbiIsICJpbXBvcnQgeyBBcHAsIE1vZGFsLCBTZXR0aW5nIH0gZnJvbSBcIm9ic2lkaWFuXCI7XHJcblxyXG5leHBvcnQgY2xhc3MgU2F2ZU1vZGFsIGV4dGVuZHMgTW9kYWwge1xyXG4gIHJlc3VsdDogc3RyaW5nO1xyXG4gIG9uU3VibWl0OiAocmVzdWx0OiBzdHJpbmcpID0+IHZvaWQ7XHJcblxyXG4gIGNvbnN0cnVjdG9yKGFwcDogQXBwLCBvblN1Ym1pdDogKHJlc3VsdDogc3RyaW5nKSA9PiB2b2lkKSB7XHJcbiAgICBzdXBlcihhcHApO1xyXG4gICAgdGhpcy5vblN1Ym1pdCA9IG9uU3VibWl0O1xyXG4gIH1cclxuXHJcbiAgb25PcGVuKCkge1xyXG4gICAgY29uc3QgeyBjb250ZW50RWwgfSA9IHRoaXM7XHJcblxyXG4gICAgY29udGVudEVsLmNyZWF0ZUVsKFwiaDFcIiwgeyB0ZXh0OiBcIlNhdmUgYXNcIiB9KTtcclxuXHJcbiAgICBuZXcgU2V0dGluZyhjb250ZW50RWwpXHJcbiAgICAgIC5zZXROYW1lKFwiRmlsZSBuYW1lOiBcIilcclxuICAgICAgLmFkZFRleHQoKHRleHQpID0+XHJcbiAgICAgICAgdGV4dC5vbkNoYW5nZSgodmFsdWUpID0+IHtcclxuICAgICAgICAgIHRoaXMucmVzdWx0ID0gdmFsdWVcclxuICAgICAgICB9KSk7XHJcblxyXG4gICAgbmV3IFNldHRpbmcoY29udGVudEVsKVxyXG4gICAgICAuYWRkQnV0dG9uKChidG4pID0+XHJcbiAgICAgICAgYnRuXHJcbiAgICAgICAgICAuc2V0QnV0dG9uVGV4dChcIkdlbmVyYXRlIG1hcmtkb3duIG5vdGVcIilcclxuICAgICAgICAgIC5zZXRDdGEoKVxyXG4gICAgICAgICAgLm9uQ2xpY2soKCkgPT4ge1xyXG4gICAgICAgICAgICB0aGlzLmNsb3NlKCk7XHJcbiAgICAgICAgICAgIHRoaXMub25TdWJtaXQodGhpcy5yZXN1bHQpO1xyXG4gICAgICAgICAgfSkpO1xyXG4gIH1cclxuXHJcbiAgb25DbG9zZSgpIHtcclxuICAgIGxldCB7IGNvbnRlbnRFbCB9ID0gdGhpcztcclxuICAgIGNvbnRlbnRFbC5lbXB0eSgpO1xyXG4gIH1cclxufVxyXG4iLCAiaW1wb3J0IHsgQXBwIH0gZnJvbSAnb2JzaWRpYW4nO1xuaW1wb3J0IHsgTGlua1RyZWVUeXBlIH0gZnJvbSAnLi4vdmlld3MvZ2VuZXJhdGUtbWFya2Rvd24nO1xuaW1wb3J0IHtcblx0TGluaywgQ2hlY2tib3hcbn0gZnJvbSAnLi9pbmRleCc7XG5cblxuZnVuY3Rpb24gZmxhdHRlbkNoaWxkcmVuKGxpbms6IExpbmtUcmVlVHlwZSwgY2hpbGRyZW46IHN0cmluZ1tdKSB7XG5cdGlmICgnY2hpbGRyZW4nIGluIGxpbmspIHtcblx0XHRjb25zdCBjaGlsZHJlbkxpbmtOYW1lcyA9IGxpbmsuY2hpbGRyZW4ubWFwKChsOiBMaW5rVHJlZVR5cGUpID0+IGwubmFtZSk7IFxuXHRcdGNoaWxkcmVuLnB1c2goLi4uY2hpbGRyZW5MaW5rTmFtZXMpO1xuXHRcdGxpbmsuY2hpbGRyZW4uZm9yRWFjaCgobDogTGlua1RyZWVUeXBlKSA9PiB7XG5cdFx0XHRmbGF0dGVuQ2hpbGRyZW4obCwgY2hpbGRyZW4pO1xuXHRcdH0pXG5cdH1cblx0cmV0dXJuIGNoaWxkcmVuO1xufVxuXG5leHBvcnQgY2xhc3MgVHJlZU1lbnUge1xuXHRhcHA6IEFwcDtcblx0VUw6IEVsZW1lbnQ7XG5cblx0aWdub3JlZExpbmtzOiBzdHJpbmdbXSA9IFtdO1xuXHRsaW5rc1RyZWU6IExpbmtUcmVlVHlwZVtdID0gW107XG5cblx0Y29uc3RydWN0b3IoYXBwOiBBcHAsIHN0cnVjdHVyZTogRWxlbWVudCwgbGlua3NUcmVlOiBMaW5rVHJlZVR5cGVbXSwgZXZlbnQ6IChpZ25vcmVkTGlua3M6IHN0cmluZ1tdKSA9PiB2b2lkKSB7XG5cdFx0dGhpcy5hcHAgPSBhcHA7XG5cdFx0bGV0IG1lbnUgPSBzdHJ1Y3R1cmUuY3JlYXRlRWwoJ2RpdicsIHsgY2xzOiAndHJlZS1tZW51J30pO1xuXHRcdHRoaXMuVUwgPSBtZW51LmNyZWF0ZUVsKCd1bCcpO1xuXHRcdHRoaXMubGlua3NUcmVlID0gbGlua3NUcmVlO1xuXG5cdFx0dGhpcy5yZW5kZXIodGhpcy5saW5rc1RyZWUsIHRoaXMuVUwsIFtdLCBldmVudCk7XG5cdH1cblxuXHRyZW5kZXIobGlua3M6IExpbmtUcmVlVHlwZVtdLCBtZW51RWw6IEVsZW1lbnQsIGNoaWxkcmVuTGlua3M6IHN0cmluZ1tdLCBldmVudDogKGxpbmtzOiBzdHJpbmdbXSkgPT4gdm9pZCkge1xuXHRcdGlmICghY2hpbGRyZW5MaW5rcykgXG5cdFx0XHRjaGlsZHJlbkxpbmtzID0gW107XG5cblx0XHRsaW5rcy5mb3JFYWNoKChsaW5rOiBMaW5rVHJlZVR5cGUpID0+IHtcblx0XHRcdGNvbnN0IGxpID0gbWVudUVsLmNyZWF0ZUVsKCdsaScpO1xuXHRcdFx0Y29uc3QgbGlua0VsID0gbmV3IExpbmsodGhpcy5hcHAsIGxpLCBsaW5rLCBmYWxzZSk7XG5cblx0XHRcdGxldCBzdGF0ZTogYm9vbGVhbiA9ICFjaGlsZHJlbkxpbmtzLmluY2x1ZGVzKGxpbmtFbC5saW5rLm5hbWUpO1xuXG5cdFx0XHRpZiAoIWxpbmsuZXhpc3RzKVxuXHRcdFx0XHRzdGF0ZSA9IGZhbHNlOyBcblxuXHRcdFx0bmV3IENoZWNrYm94KGxpLCBzdGF0ZSwgbGluay5leGlzdHMsICgpID0+IHtcblx0XHRcdFx0Y29uc3QgaWdub3JlZENoaWxkcmVuID0gW2xpbmtFbC5saW5rLm5hbWUsIC4uLmZsYXR0ZW5DaGlsZHJlbihsaW5rRWwubGluaywgW10pXTtcblxuXHRcdFx0XHRpZiAoc3RhdGUgPT0gZmFsc2UpIHsgXG5cdFx0XHRcdFx0Ly8gcmVtb3ZlIGNoaWxkcmVuIGZyb20gY2hpbGRyZW5MaW5rc1xuXHRcdFx0XHRcdGNoaWxkcmVuTGlua3MgPSBjaGlsZHJlbkxpbmtzLmZpbHRlcigoY2w6IHN0cmluZykgPT4gIWlnbm9yZWRDaGlsZHJlbi5pbmNsdWRlcyhjbCkpO1xuXHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdGNoaWxkcmVuTGlua3MucHVzaCguLi5pZ25vcmVkQ2hpbGRyZW4pO1xuXHRcdFx0XHRcdFxuXHRcdFx0XHRcdC8vIHJlbW92ZSBkdXBlc1xuXHRcdFx0XHRcdGNoaWxkcmVuTGlua3MgPSBbLi4ubmV3IFNldChjaGlsZHJlbkxpbmtzKV1cblx0XHRcdFx0fVxuXG5cdFx0XHRcdHRoaXMuaWdub3JlZExpbmtzID0gY2hpbGRyZW5MaW5rcztcblx0XHRcdFx0XG5cdFx0XHRcdC8vIGNsZWFudXAgYW5kIHJlcmVuZGVyXG5cdFx0XHRcdHRoaXMuVUwuZW1wdHkoKVxuXHRcdFx0XHR0aGlzLnJlbmRlcih0aGlzLmxpbmtzVHJlZSwgdGhpcy5VTCwgY2hpbGRyZW5MaW5rcywgZXZlbnQpO1xuXHRcdFx0fSk7XG5cblx0XHRcdGxpbmtFbC5yZW5kZXIoc3RhdGUpO1xuXG5cdFx0XHRpZiAoJ2NoaWxkcmVuJyBpbiBsaW5rKSB7XG5cdFx0XHRcdGNvbnN0IHVsID0gbGkuY3JlYXRlRWwoJ3VsJyk7XG5cdFx0XHRcdHRoaXMucmVuZGVyKGxpbmsuY2hpbGRyZW4sIHVsLCBjaGlsZHJlbkxpbmtzLCBldmVudCk7XG5cdFx0XHR9XG5cdFx0fSk7XG5cblx0XHRyZXR1cm4gZXZlbnQodGhpcy5pZ25vcmVkTGlua3MpO1xuXHR9XG59XG4iLCAiZXhwb3J0IGNsYXNzIENoZWNrYm94IHtcclxuXHJcblx0Y2I6IEhUTUxJbnB1dEVsZW1lbnQ7XHJcblx0Y29uc3RydWN0b3IoZWxlbWVudDogRWxlbWVudCwgc3RhdGU6IGJvb2xlYW4sIGV4aXN0czogYm9vbGVhbiwgb25DbGljazogKGNvbnRleHQ6IENoZWNrYm94KSA9PiB2b2lkKSB7XHJcblx0XHR0aGlzLmNiID0gZWxlbWVudC5jcmVhdGVFbChcImlucHV0XCIsIHtcclxuXHRcdFx0dHlwZTogJ2NoZWNrYm94JyxcclxuXHRcdFx0Y2xzOiAnY2hlY2tib3gtYnRuJ1xyXG5cdFx0fSk7XHJcblxyXG5cdFx0dGhpcy5jYi5jaGVja2VkID0gc3RhdGU7XHJcblxyXG5cdFx0aWYgKCFleGlzdHMpIHtcclxuXHRcdFx0dGhpcy5jYi5kaXNhYmxlZCA9IHRydWU7XHJcblx0XHRcdHRoaXMuY2IuY2hlY2tlZCA9IGZhbHNlO1xyXG5cdFx0XHR0aGlzLmNiLmFkZENsYXNzKCdjaGVja2JveC1idG4tZGlzYWJsZWQnKTtcclxuXHRcdH1cclxuXHRcdHRoaXMuY2Iub25jbGljayA9ICgpID0+IHtcclxuXHRcdFx0b25DbGljayh0aGlzKTtcclxuXHRcdH07XHRcclxuXHRcdHJldHVybiB0aGlzO1xyXG5cdH1cclxufVxyXG4iXSwKICAibWFwcGluZ3MiOiAiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUEsdUJBQXVEOzs7QUNBdkQsdUJBQTJFOzs7QUNBM0Usc0JBQTJCO0FBRXBCLElBQU0saUJBQWlCLENBQUMsU0FBaUI7QUFDL0MsU0FBTyxLQUFLLFFBQVEsNkRBQTZELEdBQUcsRUFBRSxLQUFLO0FBQzVGO0FBRU8sSUFBTSxnQkFBZ0IsT0FBTyxNQUFVLFNBQWlCO0FBQzlELFFBQU0sT0FBTyxLQUFJLE1BQU0sc0JBQXNCLElBQUk7QUFFakQsTUFBSSxDQUFFLGlCQUFnQjtBQUNyQixXQUFPO0FBRVIsU0FBTyxNQUFNLEtBQUksTUFBTSxXQUFXLElBQUk7QUFDdkM7OztBQ1hPLElBQU0seUJBQXlCLENBQUMsVUFBMEI7QUFDaEUsVUFBUSxJQUFJLEtBQUs7QUFDbEI7OztBQ0pPLElBQU0sU0FBTixNQUFhO0FBQUEsRUFHbkIsWUFBWSxTQUFrQixNQUFjLFNBQW9DLE1BQWU7QUFDOUYsU0FBSyxNQUFNLFFBQVEsU0FBUyxVQUFVLEVBQUUsTUFBTSxHQUFHLEtBQUssQ0FBQztBQUN2RCxTQUFLLElBQUksVUFBVSxNQUFNO0FBQ3hCLGNBQVEsSUFBSTtBQUFBLElBQ2I7QUFDQSxXQUFPO0FBQUEsRUFDUjtBQUNEOzs7QUNQTyxJQUFNLFdBQU4sTUFBZTtBQUFBLEVBS3JCLFlBQVksU0FBYyxTQUFrQixNQUFjO0FBQ3pELFNBQUssVUFB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
