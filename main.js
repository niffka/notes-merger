/*
THIS IS A GENERATED/BUNDLED FILE BY ESBUILD
if you want to view the source, please visit the github repository of this plugin
*/

var __defProp = Object.defineProperty;
var __getOwnPropDesc = Object.getOwnPropertyDescriptor;
var __getOwnPropNames = Object.getOwnPropertyNames;
var __hasOwnProp = Object.prototype.hasOwnProperty;
var __export = (target, all) => {
  for (var name in all)
    __defProp(target, name, { get: all[name], enumerable: true });
};
var __copyProps = (to, from, except, desc) => {
  if (from && typeof from === "object" || typeof from === "function") {
    for (let key of __getOwnPropNames(from))
      if (!__hasOwnProp.call(to, key) && key !== except)
        __defProp(to, key, { get: () => from[key], enumerable: !(desc = __getOwnPropDesc(from, key)) || desc.enumerable });
  }
  return to;
};
var __toCommonJS = (mod) => __copyProps(__defProp({}, "__esModule", { value: true }), mod);

// main.ts
var main_exports = {};
__export(main_exports, {
  default: () => GenerateMarkdownPlugin
});
module.exports = __toCommonJS(main_exports);
var import_obsidian4 = require("obsidian");

// src/views/generate-markdown.ts
var import_obsidian3 = require("obsidian");

// src/utils.ts
var import_obsidian = require("obsidian");
var fixSpaceInName = (name) => {
  return name.replace(/[\u00A0\u1680\u180E\u2000-\u200B\u202F\u205F\u3000\uFEFF]/, " ").trim();
};
var getNoteByName = async (app2, path) => {
  const file = app2.vault.getAbstractFileByPath(path);
  if (!(file instanceof import_obsidian.TFile))
    return "";
  return await app2.vault.cachedRead(file);
};

// src/components/Button.ts
var Button = class {
  constructor(element, text, onClick, args) {
    this.btn = element.createEl("button", { text, ...args });
    this.btn.onclick = () => {
      onClick(this);
    };
    return this;
  }
};

// src/components/Link.ts
var BaseLink = class {
  constructor(context, element, name) {
    this.context = context;
    this.element = element;
    this.name = name;
    this.render();
  }
  render() {
    const hrefTitle = this.element.createEl("a", { text: this.name, cls: "cont__title" });
    hrefTitle.onclick = () => {
      this.context.workspace.openLinkText(this.name, "");
    };
  }
};
var Link = class {
  constructor(context, element, link, renderNow = true) {
    this.toggledState = false;
    this.link = link;
    this.context = context;
    this.element = element;
    if (renderNow)
      this.render(false);
    return this;
  }
  render(state) {
    this.a = this.element.createEl("a", { text: this.link.name, cls: "link" });
    !this.link.exists && this.a.addClass("cont__link-not-exist");
    this.link.inline && this.a.addClass("inline");
    this.a.onclick = () => {
      this.context.workspace.openLinkText(this.link.name, "");
      !this.link.exists && this.a.removeClass("cont__link-not-exist");
    };
    this.toggle(state);
  }
  toggle(state) {
    if (state)
      this.a.removeClass("strikethrough");
    else
      this.a.addClass("strikethrough");
  }
};

// src/components/SaveModal.ts
var import_obsidian2 = require("obsidian");
var SaveModal = class extends import_obsidian2.Modal {
  constructor(app2, onSubmit) {
    super(app2);
    this.onSubmit = onSubmit;
  }
  onOpen() {
    const { contentEl } = this;
    contentEl.createEl("h1", { text: "Save as" });
    new import_obsidian2.Setting(contentEl).setName("File name: ").addText((text) => text.onChange((value) => {
      this.result = value;
    }));
    new import_obsidian2.Setting(contentEl).addButton((btn) => btn.setButtonText("Generate markdown note").setCta().onClick(() => {
      this.close();
      this.onSubmit(this.result);
    }));
  }
  onClose() {
    let { contentEl } = this;
    contentEl.empty();
  }
};

// src/components/TreeMenu.ts
function flattenChildren(link, children) {
  if ("children" in link) {
    const childrenLinkNames = link.children.map((l) => l.name);
    children.push(...childrenLinkNames);
    link.children.forEach((l) => {
      flattenChildren(l, children);
    });
  }
  return children;
}
var TreeMenu = class {
  constructor(app2, structure, linksTree, event) {
    this.ignoredLinks = [];
    this.linksTree = [];
    this.app = app2;
    let menu = structure.createEl("div", { cls: "tree-menu" });
    this.UL = menu.createEl("ul");
    this.linksTree = linksTree;
    this.render(this.linksTree, this.UL, [], event);
  }
  render(links, menuEl, childrenLinks, event) {
    if (!childrenLinks)
      childrenLinks = [];
    links.forEach((link) => {
      const li = menuEl.createEl("li");
      const linkEl = new Link(this.app, li, link, false);
      let state = !childrenLinks.includes(linkEl.link.name);
      if (!link.exists)
        state = false;
      new Checkbox(li, state, link.exists, () => {
        const ignoredChildren = [linkEl.link.name, ...flattenChildren(linkEl.link, [])];
        if (state == false) {
          childrenLinks = childrenLinks.filter((cl) => !ignoredChildren.includes(cl));
        } else {
          childrenLinks.push(...ignoredChildren);
          childrenLinks = [...new Set(childrenLinks)];
        }
        this.ignoredLinks = childrenLinks;
        this.UL.empty();
        this.render(this.linksTree, this.UL, childrenLinks, event);
      });
      linkEl.render(state);
      if ("children" in link) {
        const ul = li.createEl("ul");
        this.render(link.children, ul, childrenLinks, event);
      }
    });
    return event(this.ignoredLinks);
  }
};

// src/components/Checkbox.ts
var Checkbox = class {
  constructor(element, state, exists, onClick) {
    this.cb = element.createEl("input", {
      type: "checkbox",
      cls: "checkbox-btn"
    });
    this.cb.checked = state;
    if (!exists) {
      this.cb.disabled = true;
      this.cb.checked = false;
      this.cb.addClass("checkbox-btn-disabled");
    }
    this.cb.onclick = () => {
      onClick(this);
    };
    return this;
  }
};

// src/views/generate-markdown.ts
var VIEW_CONTENT_COMPOSE_NOTES = "view-generate-markdown";
var _GenerateMarkdown = class extends import_obsidian3.ItemView {
  constructor(leaf, settings) {
    super(leaf);
    this.linksTree = [];
    this.loadedFiles = [];
    this.maxLevel = 0;
    this.processed = [];
    this.mainNameLinks = [];
    this.markdown = "";
    this.ignoredLinks = [];
    this.images = [];
    this.promises = [];
    this.settings = settings;
  }
  async onOpen() {
    const container = this.containerEl.children[1];
    this.container = container;
    container.empty();
    this.toolbar = container.createEl("div");
    this.generatePreviewParent = this.toolbar.createEl("span");
    this.generateMarkdownParent = this.toolbar.createEl("span");
    this.structure = this.container.createEl("div");
    new Button(this.generatePreviewParent, "Generate preview", () => {
      this.linksTree = [];
      this.maxLevel = 0;
      this.processed = [];
      this.mainNameLinks = [];
      this.ignoredLinks = [];
      this.markdown = "";
      this.structure.empty();
      this.generateMarkdownParent.empty();
      this.readSelectedNote();
    });
  }
  parseLinks(text, index = false) {
    const links = text.matchAll(/\[\[(.*?)\]\]/g);
    let cleanLinks = [...links].map((l) => l[1]);
    cleanLinks = [...new Set(cleanLinks)];
    cleanLinks = cleanLinks.filter((cl) => !cl.startsWith("#"));
    cleanLinks = cleanLinks.filter((cl) => !cl.startsWith(`${this.settings.literatureNote}#`));
    const existingNotes = cleanLinks.map((cl) => {
      cl = fixSpaceInName(cl);
      if (!!_GenerateMarkdown.imageTypes.filter((it) => cl.includes(it.toLowerCase())).length) {
        this.images.push(cl);
        return false;
      }
      let isInline = true;
      if (text.includes(this.settings.listOfLinksKeyword)) {
        let [inlineText, linksText] = text.split(this.settings.listOfLinksKeyword);
        if (!inlineText.includes(cl))
          isInline = false;
      }
      let isIndex = false;
      if (index) {
        isInline = false;
        isIndex = true;
      }
      const note = this.loadedFiles.find((f) => f["basename"] === cl);
      return {
        name: cl,
        exists: !!note,
        inline: isInline,
        index: isIndex,
        path: note == null ? void 0 : note.path
      };
    }).filter(Boolean);
    return existingNotes;
  }
  async readSelectedNote() {
    this.loadedFiles = app.vault.getMarkdownFiles();
    const activeNote = this.app.workspace.getActiveFile();
    if (!activeNote) {
      new import_obsidian3.Notice(`Selected note is invalid.`);
      throw new Error("Selected note is invalid.");
    }
    const activeNoteText = await getNoteByName(this.app, activeNote.path);
    const mainContentLinks = this.parseLinks(activeNoteText, true);
    this.mainNameLinks = mainContentLinks.map((l) => l.name);
    this.linksTree = await this.generateNotesHierarchy(mainContentLinks);
    const title = activeNote.basename;
    new BaseLink(this.app, this.structure, title);
    new TreeMenu(this.app, this.structure, this.linksTree, (ignoredLinks) => {
      this.ignoredLinks = ignoredLinks;
    });
    new Button(this.generateMarkdownParent, "Generate markdown", () => {
      this.markdown = "";
      this.generateMarkdownFile(this.linksTree, activeNoteText);
    }, { cls: "generate-markdown-btn" });
  }
  generateMarkdownFile(links, mainNote) {
    this.composeMarkdown(links);
    this.mainNameLinks.forEach((mnl) => {
      mnl = fixSpaceInName(mnl);
      mainNote = mainNote.replaceAll(`[[${mnl}]]`, `[[#${mnl}]]`);
    });
    this.markdown = mainNote + this.markdown;
    new SaveModal(this.app, async (fileName) => {
      await this.app.vault.adapter.write(`${fileName}.md`, this.markdown);
      new import_obsidian3.Notice(`Note ${fileName} created successfully`);
      this.app.workspace.openLinkText(`${fileName}.md`, "");
    }).open();
  }
  composeMarkdown(links) {
    links.forEach(async (link) => {
      let note = await getNoteByName(this.app, link.path);
      const localLinks = this.parseLinks(note);
      if (this.ignoredLinks.includes(link.name))
        return;
      note = note.trim();
      if (note.length == 0)
        return;
      localLinks.forEach((localLink) => {
        if (localLink.inline && this.ignoredLinks.includes(localLink.name))
          note = note.replaceAll(`[[${localLink.name}]]`, localLink.name);
        else
          note = note.replaceAll(`[[${localLink.name}]]`, `[[#${localLink.name}]]`);
      });
      let noteRows = note.split("\n");
      let firstRow = fixSpaceInName(noteRows[0]);
      if (firstRow.includes(`# ${link.name}`)) {
        noteRows.shift();
        note = noteRows.join("\n").trim();
      }
      if (note.includes(this.settings.listOfLinksKeyword)) {
        let [importantPart, endPart] = note.split(this.settings.listOfLinksKeyword);
        note = importantPart.trim();
      }
      let title = "";
      if (link.inline) {
        title = `##### ${link.name}`;
      } else {
        const nestedLevel = Array(link.level).fill("#").join("");
        title = `${nestedLevel} ${link.name}`;
      }
      note = `

${title}
${note}`;
      this.markdown += note;
      if ("children" in link)
        this.composeMarkdown(link.children);
    });
  }
  async generateNotesHierarchy(links) {
    const linksObj = await this.dfs(links, 0, []);
    let linksArr = [];
    Object.keys(linksObj).forEach((key) => {
      var _a, _b;
      const { parentRef, ...rest } = linksObj[key];
      linksArr.push({ ...rest, parent: (_b = (_a = linksObj[key]) == null ? void 0 : _a.parentRef) == null ? void 0 : _b.name });
    });
    const getNestedChildren = (arr, parent) => {
      let children = [];
      for (let i = 0; i < arr.length; i++) {
        if (arr[i].parent == parent) {
          const grandChildren = getNestedChildren(arr, arr[i].name);
          if (grandChildren.length) {
            arr[i].children = grandChildren;
          }
          children.push(arr[i]);
        }
      }
      return children;
    };
    return getNestedChildren(linksArr, void 0);
  }
  async dfs(links, level, processed, parentRef, titleMapping) {
    titleMapping = titleMapping != null ? titleMapping : {};
    for await (const [order, link] of links.entries()) {
      if (this.mainNameLinks.includes(link.name) && level != 0)
        continue;
      if (processed.includes(link.name)) {
        continue;
      }
      processed.push(link.name);
      const note = await getNoteByName(this.app, link.path);
      const subLinks = this.parseLinks(note);
      this.maxLevel = level + 1;
      titleMapping[link.name] = { ...link, parentRef, level: this.maxLevel, order };
      if (links.length > 0)
        await this.dfs(subLinks, this.maxLevel, processed, titleMapping[link.name], titleMapping);
    }
    return titleMapping;
  }
  async onClose() {
  }
  getViewType() {
    return VIEW_CONTENT_COMPOSE_NOTES;
  }
  getDisplayText() {
    return "Notes Merger";
  }
};
var GenerateMarkdown = _GenerateMarkdown;
GenerateMarkdown.imageTypes = ["jpg", "jpeg", "png", "gif", "webp", "tiff", "bmp"].map((it) => `.${it}`);

// main.ts
var DEFAULT_SETTINGS = {
  listOfLinksKeyword: "Kam d\xE1l",
  literatureNote: "Literature"
};
var GenerateMarkdownPlugin = class extends import_obsidian4.Plugin {
  async onload() {
    await this.loadSettings();
    this.addSettingTab(new GenerateMarkdownPluginSettingTab(this.app, this));
    this.registerView(VIEW_CONTENT_COMPOSE_NOTES, (leaf) => new GenerateMarkdown(leaf, this.settings));
    this.addRibbonIcon("scroll", "NotesMerger", () => {
      this.activateGenerateMarkdownView();
    });
  }
  async activateGenerateMarkdownView() {
    if (!this.app.workspace.getLeavesOfType(VIEW_CONTENT_COMPOSE_NOTES).length) {
      await this.app.workspace.getRightLeaf(false).setViewState({
        type: VIEW_CONTENT_COMPOSE_NOTES,
        active: true
      });
    }
    this.app.workspace.revealLeaf(this.app.workspace.getLeavesOfType(VIEW_CONTENT_COMPOSE_NOTES)[0]);
  }
  onunload() {
  }
  async loadSettings() {
    this.settings = Object.assign({}, DEFAULT_SETTINGS, await this.loadData());
  }
  async saveSettings() {
    await this.saveData(this.settings);
  }
};
var GenerateMarkdownPluginSettingTab = class extends import_obsidian4.PluginSettingTab {
  constructor(app2, plugin) {
    super(app2, plugin);
    this.plugin = plugin;
  }
  display() {
    const { containerEl } = this;
    containerEl.empty();
    new import_obsidian4.Setting(containerEl).setName("List of links keyword").setDesc("Keyword to detect list of links at the end of note").addText((text) => text.setPlaceholder('Defaults to "Kam d\xE1l"').setValue(this.plugin.settings.listOfLinksKeyword).onChange(async (value) => {
      this.plugin.settings.listOfLinksKeyword = value;
      await this.plugin.saveSettings();
    }));
    new import_obsidian4.Setting(containerEl).setName("Literature note").setDesc("Name of note with citations").addText((text) => text.setPlaceholder('Defaults to "Literature"').setValue(this.plugin.settings.literatureNote).onChange(async (value) => {
      this.plugin.settings.literatureNote = value;
      await this.plugin.saveSettings();
    }));
  }
};
//# sourceMappingURL=data:application/json;base64,ewogICJ2ZXJzaW9uIjogMywKICAic291cmNlcyI6IFsibWFpbi50cyIsICJzcmMvdmlld3MvZ2VuZXJhdGUtbWFya2Rvd24udHMiLCAic3JjL3V0aWxzLnRzIiwgInNyYy9jb21wb25lbnRzL0J1dHRvbi50cyIsICJzcmMvY29tcG9uZW50cy9MaW5rLnRzIiwgInNyYy9jb21wb25lbnRzL1NhdmVNb2RhbC50cyIsICJzcmMvY29tcG9uZW50cy9UcmVlTWVudS50cyIsICJzcmMvY29tcG9uZW50cy9DaGVja2JveC50cyJdLAogICJzb3VyY2VzQ29udGVudCI6IFsiaW1wb3J0IHsgQXBwLCBQbHVnaW4sIFBsdWdpblNldHRpbmdUYWIsIFNldHRpbmcgfSBmcm9tICdvYnNpZGlhbic7XHJcbmltcG9ydCB7IEdlbmVyYXRlTWFya2Rvd24sIFZJRVdfQ09OVEVOVF9DT01QT1NFX05PVEVTIH0gZnJvbSAnLi9zcmMvdmlld3MvZ2VuZXJhdGUtbWFya2Rvd24nO1xyXG5cclxuZXhwb3J0IGludGVyZmFjZSBHZW5lcmF0ZU1hcmtkb3duUGx1Z2luU2V0dGluZ3NUeXBlIHtcclxuXHRsaXN0T2ZMaW5rc0tleXdvcmQ6IHN0cmluZztcclxuXHRsaXRlcmF0dXJlTm90ZTogc3RyaW5nO1xyXG59XHJcblxyXG5jb25zdCBERUZBVUxUX1NFVFRJTkdTOiBHZW5lcmF0ZU1hcmtkb3duUGx1Z2luU2V0dGluZ3NUeXBlID0ge1xyXG5cdGxpc3RPZkxpbmtzS2V5d29yZDogJ0thbSBkXHUwMEUxbCcsXHJcblx0bGl0ZXJhdHVyZU5vdGU6ICdMaXRlcmF0dXJlJ1xyXG59XHJcblxyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBHZW5lcmF0ZU1hcmtkb3duUGx1Z2luIGV4dGVuZHMgUGx1Z2luIHtcclxuXHRzZXR0aW5nczogR2VuZXJhdGVNYXJrZG93blBsdWdpblNldHRpbmdzVHlwZTtcclxuXHJcblx0YXN5bmMgb25sb2FkKCkge1xyXG5cdFx0YXdhaXQgdGhpcy5sb2FkU2V0dGluZ3MoKTtcclxuXHJcblx0XHR0aGlzLmFkZFNldHRpbmdUYWIobmV3IEdlbmVyYXRlTWFya2Rvd25QbHVnaW5TZXR0aW5nVGFiKHRoaXMuYXBwLCB0aGlzKSk7XHRcclxuXHJcblx0XHR0aGlzLnJlZ2lzdGVyVmlldyhcclxuXHRcdFx0VklFV19DT05URU5UX0NPTVBPU0VfTk9URVMsXHJcblx0XHRcdChsZWFmKSA9PiBuZXcgR2VuZXJhdGVNYXJrZG93bihsZWFmLCB0aGlzLnNldHRpbmdzKVxyXG5cdFx0KTtcclxuXHRcdFxyXG5cdFx0dGhpcy5hZGRSaWJib25JY29uKFwic2Nyb2xsXCIsIFwiTm90ZXNNZXJnZXJcIiwgKCkgPT4ge1xyXG5cdFx0XHR0aGlzLmFjdGl2YXRlR2VuZXJhdGVNYXJrZG93blZpZXcoKTtcclxuXHRcdH0pO1xyXG5cdH1cclxuXHJcblx0YXN5bmMgYWN0aXZhdGVHZW5lcmF0ZU1hcmtkb3duVmlldygpIHtcclxuXHRcdGlmICghdGhpcy5hcHAud29ya3NwYWNlLmdldExlYXZlc09mVHlwZShWSUVXX0NPTlRFTlRfQ09NUE9TRV9OT1RFUykubGVuZ3RoKSB7XHJcblx0XHRcdGF3YWl0IHRoaXMuYXBwLndvcmtzcGFjZS5nZXRSaWdodExlYWYoZmFsc2UpLnNldFZpZXdTdGF0ZSh7XHJcblx0XHRcdFx0dHlwZTogVklFV19DT05URU5UX0NPTVBPU0VfTk9URVMsXHJcblx0XHRcdFx0YWN0aXZlOiB0cnVlLFxyXG5cdFx0XHQgIH0pO1xyXG5cdFx0fVxyXG5cdFxyXG5cdFx0dGhpcy5hcHAud29ya3NwYWNlLnJldmVhbExlYWYoXHJcblx0XHQgIHRoaXMuYXBwLndvcmtzcGFjZS5nZXRMZWF2ZXNPZlR5cGUoVklFV19DT05URU5UX0NPTVBPU0VfTk9URVMpWzBdXHJcblx0XHQpO1xyXG5cdH1cclxuXHJcblx0b251bmxvYWQoKSB7XHJcblx0fVxyXG5cclxuXHRhc3luYyBsb2FkU2V0dGluZ3MoKSB7XHJcblx0XHR0aGlzLnNldHRpbmdzID0gT2JqZWN0LmFzc2lnbih7fSwgREVGQVVMVF9TRVRUSU5HUywgYXdhaXQgdGhpcy5sb2FkRGF0YSgpKTtcclxuXHR9XHJcblxyXG5cdGFzeW5jIHNhdmVTZXR0aW5ncygpIHtcclxuXHRcdGF3YWl0IHRoaXMuc2F2ZURhdGEodGhpcy5zZXR0aW5ncyk7XHJcblx0fVxyXG59XHJcblxyXG5jbGFzcyBHZW5lcmF0ZU1hcmtkb3duUGx1Z2luU2V0dGluZ1RhYiBleHRlbmRzIFBsdWdpblNldHRpbmdUYWIge1xyXG5cdHBsdWdpbjogR2VuZXJhdGVNYXJrZG93blBsdWdpbjtcclxuXHJcblx0Y29uc3RydWN0b3IoYXBwOiBBcHAsIHBsdWdpbjogR2VuZXJhdGVNYXJrZG93blBsdWdpbikge1xyXG5cdFx0c3VwZXIoYXBwLCBwbHVnaW4pO1xyXG5cdFx0dGhpcy5wbHVnaW4gPSBwbHVnaW47XHJcblx0fVxyXG5cclxuXHRkaXNwbGF5KCk6IHZvaWQge1xyXG5cclxuXHRcdGNvbnN0IHsgY29udGFpbmVyRWwgfSA9IHRoaXM7XHJcblxyXG5cdFx0Y29udGFpbmVyRWwuZW1wdHkoKTtcclxuXHRcdFxyXG5cdFx0bmV3IFNldHRpbmcoY29udGFpbmVyRWwpXHJcblx0XHRcdC5zZXROYW1lKCdMaXN0IG9mIGxpbmtzIGtleXdvcmQnKVxyXG5cdFx0XHQuc2V0RGVzYygnS2V5d29yZCB0byBkZXRlY3QgbGlzdCBvZiBsaW5rcyBhdCB0aGUgZW5kIG9mIG5vdGUnKVxyXG5cdFx0XHQuYWRkVGV4dCh0ZXh0ID0+IHRleHRcclxuXHRcdFx0XHQuc2V0UGxhY2Vob2xkZXIoJ0RlZmF1bHRzIHRvIFwiS2FtIGRcdTAwRTFsXCInKVxyXG5cdFx0XHRcdC5zZXRWYWx1ZSh0aGlzLnBsdWdpbi5zZXR0aW5ncy5saXN0T2ZMaW5rc0tleXdvcmQpXHJcblx0XHRcdFx0Lm9uQ2hhbmdlKGFzeW5jICh2YWx1ZSkgPT4ge1xyXG5cdFx0XHRcdFx0dGhpcy5wbHVnaW4uc2V0dGluZ3MubGlzdE9mTGlua3NLZXl3b3JkID0gdmFsdWU7XHJcblx0XHRcdFx0XHRhd2FpdCB0aGlzLnBsdWdpbi5zYXZlU2V0dGluZ3MoKTtcclxuXHRcdFx0XHR9KSk7XHJcblxyXG5cdFx0bmV3IFNldHRpbmcoY29udGFpbmVyRWwpXHJcblx0XHQuc2V0TmFtZSgnTGl0ZXJhdHVyZSBub3RlJylcclxuXHRcdC5zZXREZXNjKCdOYW1lIG9mIG5vdGUgd2l0aCBjaXRhdGlvbnMnKVxyXG5cdFx0LmFkZFRleHQodGV4dCA9PiB0ZXh0XHJcblx0XHRcdC5zZXRQbGFjZWhvbGRlcignRGVmYXVsdHMgdG8gXCJMaXRlcmF0dXJlXCInKVxyXG5cdFx0XHQuc2V0VmFsdWUodGhpcy5wbHVnaW4uc2V0dGluZ3MubGl0ZXJhdHVyZU5vdGUpXHJcblx0XHRcdC5vbkNoYW5nZShhc3luYyAodmFsdWUpID0+IHtcclxuXHRcdFx0XHR0aGlzLnBsdWdpbi5zZXR0aW5ncy5saXRlcmF0dXJlTm90ZSA9IHZhbHVlO1xyXG5cdFx0XHRcdGF3YWl0IHRoaXMucGx1Z2luLnNhdmVTZXR0aW5ncygpO1xyXG5cdFx0XHR9KSk7XHJcblx0fVxyXG59XHJcbiIsICJpbXBvcnQgeyBJdGVtVmlldywgV29ya3NwYWNlTGVhZiwgTm90aWNlLCBUQWJzdHJhY3RGaWxlLCBURmlsZSwgQXBwIH0gZnJvbSBcIm9ic2lkaWFuXCI7XHJcbmltcG9ydCB7IGZpeFNwYWNlSW5OYW1lLCBnZXROb3RlQnlOYW1lIH0gZnJvbSAnLi4vdXRpbHMnO1xyXG5cclxuaW1wb3J0IHsgR2VuZXJhdGVNYXJrZG93blBsdWdpblNldHRpbmdzVHlwZSB9IGZyb20gJy4uLy4uL21haW4nO1xyXG5cclxuaW1wb3J0IHtcclxuXHRCdXR0b24sIFxyXG5cdEJhc2VMaW5rLFxyXG5cdFNhdmVNb2RhbCwgXHJcblx0VHJlZU1lbnUsXHJcbn0gZnJvbSAnLi4vY29tcG9uZW50cy9pbmRleCc7XHJcblxyXG5cclxuZXhwb3J0IGNvbnN0IFZJRVdfQ09OVEVOVF9DT01QT1NFX05PVEVTID0gXCJ2aWV3LWdlbmVyYXRlLW1hcmtkb3duXCI7XHJcblxyXG5cclxuZXhwb3J0IGludGVyZmFjZSBMaW5rVHJlZVR5cGUge1xyXG5cdG5hbWU6IHN0cmluZztcclxuXHRwYXJlbnQ/OiBzdHJpbmcgfCB1bmRlZmluZWQ7XHJcblx0Y2hpbGRyZW46IExpbmtUcmVlVHlwZVtdO1xyXG5cdGluZGV4OiBib29sZWFuO1xyXG5cdGV4aXN0czogYm9vbGVhbjtcclxuXHRpbmxpbmU6IGJvb2xlYW47XHJcblx0bGV2ZWw/OiBudW1iZXI7XHJcblx0b3JkZXI/OiBudW1iZXI7XHJcblx0cGF0aDogc3RyaW5nO1xyXG59XHJcblxyXG5pbnRlcmZhY2UgQnVpbGRMaW5rVHJlZVR5cGUgZXh0ZW5kcyBMaW5rVHJlZVR5cGV7XHJcblx0cGFyZW50UmVmPzogQnVpbGRMaW5rVHJlZVR5cGU7XHJcbn1cclxuXHJcbmV4cG9ydCBjbGFzcyBHZW5lcmF0ZU1hcmtkb3duIGV4dGVuZHMgSXRlbVZpZXcge1xyXG5cdFxyXG5cdHNldHRpbmdzOiBHZW5lcmF0ZU1hcmtkb3duUGx1Z2luU2V0dGluZ3NUeXBlO1xyXG5cclxuXHRjb250YWluZXI6IEVsZW1lbnQ7XHJcblx0dG9vbGJhcjogRWxlbWVudDtcclxuXHRzdHJ1Y3R1cmU6IEVsZW1lbnQ7XHJcblx0Z2VuZXJhdGVQcmV2aWV3UGFyZW50OiBFbGVtZW50O1xyXG5cdGdlbmVyYXRlTWFya2Rvd25QYXJlbnQ6IEVsZW1lbnQ7XHJcblxyXG5cdGxpbmtzVHJlZTogTGlua1RyZWVUeXBlW10gPSBbXTtcclxuXHRsb2FkZWRGaWxlczogVEFic3RyYWN0RmlsZVtdID0gW107XHJcblx0bWF4TGV2ZWw6IG51bWJlciA9IDA7XHJcblx0cHJvY2Vzc2VkOiBzdHJpbmdbXSA9IFtdO1xyXG5cdG1haW5OYW1lTGlua3M6IHN0cmluZ1tdID0gW107XHJcblxyXG5cdG1hcmtkb3duOiBzdHJpbmcgPSBcIlwiO1xyXG5cdGlnbm9yZWRMaW5rczogc3RyaW5nW10gPSBbXTtcclxuXHRpbWFnZXM6IHN0cmluZ1tdID0gW107XHJcblxyXG5cdHByb21pc2VzOiBhbnkgPSBbXTtcclxuXHJcblx0c3RhdGljIGltYWdlVHlwZXMgPSBbJ2pwZycsICdqcGVnJywgJ3BuZycsICdnaWYnLCAnd2VicCcsICd0aWZmJywgJ2JtcCddLm1hcCgoaXQ6IHN0cmluZykgPT4gYC4ke2l0fWApO1xyXG5cclxuXHRjb25zdHJ1Y3RvcihsZWFmOiBXb3Jrc3BhY2VMZWFmLCBzZXR0aW5nczogR2VuZXJhdGVNYXJrZG93blBsdWdpblNldHRpbmdzVHlwZSkge1xyXG5cdFx0c3VwZXIobGVhZik7XHJcblx0XHR0aGlzLnNldHRpbmdzID0gc2V0dGluZ3M7XHJcblx0fVxyXG5cclxuXHRhc3luYyBvbk9wZW4oKSB7XHJcblx0XHRjb25zdCBjb250YWluZXIgPSB0aGlzLmNvbnRhaW5lckVsLmNoaWxkcmVuWzFdO1xyXG5cclxuXHRcdHRoaXMuY29udGFpbmVyID0gY29udGFpbmVyO1xyXG5cdFx0Y29udGFpbmVyLmVtcHR5KCk7XHJcblxyXG5cdFx0dGhpcy50b29sYmFyID0gY29udGFpbmVyLmNyZWF0ZUVsKFwiZGl2XCIpO1xyXG5cdFx0dGhpcy5nZW5lcmF0ZVByZXZpZXdQYXJlbnQgPSB0aGlzLnRvb2xiYXIuY3JlYXRlRWwoJ3NwYW4nKTtcclxuXHRcdHRoaXMuZ2VuZXJhdGVNYXJrZG93blBhcmVudCA9IHRoaXMudG9vbGJhci5jcmVhdGVFbCgnc3BhbicpO1xyXG5cdFx0dGhpcy5zdHJ1Y3R1cmUgPSB0aGlzLmNvbnRhaW5lci5jcmVhdGVFbChcImRpdlwiKTtcclxuXHJcblx0XHRuZXcgQnV0dG9uKHRoaXMuZ2VuZXJhdGVQcmV2aWV3UGFyZW50LCAnR2VuZXJhdGUgcHJldmlldycsICgpID0+IHtcclxuXHRcdFx0Ly8gZW1wdHkgc3RhdGVcclxuXHRcdFx0dGhpcy5saW5rc1RyZWUgPSBbXTtcclxuXHRcdFx0dGhpcy5tYXhMZXZlbCA9IDA7XHJcblx0XHRcdHRoaXMucHJvY2Vzc2VkID0gW107XHJcblx0XHRcdHRoaXMubWFpbk5hbWVMaW5rcyA9IFtdO1xyXG5cdFx0XHR0aGlzLmlnbm9yZWRMaW5rcyA9IFtdO1xyXG5cdFx0XHR0aGlzLm1hcmtkb3duID0gXCJcIjtcclxuXHRcdFx0XHJcblx0XHRcdHRoaXMuc3RydWN0dXJlLmVtcHR5KCk7XHJcblx0XHRcdHRoaXMuZ2VuZXJhdGVNYXJrZG93blBhcmVudC5lbXB0eSgpO1xyXG5cdFx0XHR0aGlzLnJlYWRTZWxlY3RlZE5vdGUoKTtcclxuXHRcdH0pO1xyXG5cdH1cclxuXHJcblx0cGFyc2VMaW5rcyh0ZXh0OiBzdHJpbmcsIGluZGV4OiBib29sZWFuID0gZmFsc2UpIHtcclxuXHRcdGNvbnN0IGxpbmtzID0gdGV4dC5tYXRjaEFsbCgvXFxbXFxbKC4qPylcXF1cXF0vZyk7XHJcblx0XHRsZXQgY2xlYW5MaW5rcyA9IFsuLi5saW5rc10ubWFwKGwgPT4gbFsxXSk7XHJcblxyXG5cdFx0Y2xlYW5MaW5rcyA9IFsuLi5uZXcgU2V0KGNsZWFuTGlua3MpXTtcclxuXHJcblx0XHQvLyBmaWx0ZXIgb3V0IGFuY2hvciBsaW5rcyAoW1sjZm9vYmFyXV0pXHJcblx0XHRjbGVhbkxpbmtzID0gY2xlYW5MaW5rcy5maWx0ZXIoY2wgPT4gIWNsLnN0YXJ0c1dpdGgoJyMnKSk7XHJcblx0XHRcclxuXHRcdGNsZWFuTGlua3MgPSBjbGVhbkxpbmtzLmZpbHRlcihjbCA9PiAhY2wuc3RhcnRzV2l0aChgJHt0aGlzLnNldHRpbmdzLmxpdGVyYXR1cmVOb3RlfSNgKSk7XHJcblxyXG5cdFx0Y29uc3QgZXhpc3RpbmdOb3RlcyA9IGNsZWFuTGlua3MubWFwKChjbDogc3RyaW5nKSA9PiB7XHJcblx0XHRcdGNsID0gZml4U3BhY2VJbk5hbWUoY2wpO1xyXG5cclxuXHRcdFx0aWYgKCEhR2VuZXJhdGVNYXJrZG93bi5pbWFnZVR5cGVzLmZpbHRlcigoaXQ6IHN0cmluZykgPT4gY2wuaW5jbHVkZXMoaXQudG9Mb3dlckNhc2UoKSkpLmxlbmd0aCkge1xyXG5cdFx0XHRcdHRoaXMuaW1hZ2VzLnB1c2goY2wpXHJcblx0XHRcdFx0cmV0dXJuIGZhbHNlO1xyXG5cdFx0XHR9XHJcblxyXG5cdFx0XHRsZXQgaXNJbmxpbmUgPSB0cnVlO1x0XHRcdFxyXG5cdFx0XHRpZiAodGV4dC5pbmNsdWRlcyh0aGlzLnNldHRpbmdzLmxpc3RPZkxpbmtzS2V5d29yZCkpIHtcclxuXHRcdFx0XHRsZXQgW2lubGluZVRleHQsIGxpbmtzVGV4dF0gPSB0ZXh0LnNwbGl0KHRoaXMuc2V0dGluZ3MubGlzdE9mTGlua3NLZXl3b3JkKTtcclxuXHRcdFx0XHRpZiAoIWlubGluZVRleHQuaW5jbHVkZXMoY2wpKVxyXG5cdFx0XHRcdFx0aXNJbmxpbmUgPSBmYWxzZTtcclxuXHRcdFx0fVxyXG5cclxuXHRcdFx0bGV0IGlzSW5kZXggPSBmYWxzZTtcclxuXHRcdFx0aWYgKGluZGV4KSB7XHJcblx0XHRcdFx0aXNJbmxpbmUgPSBmYWxzZTtcclxuXHRcdFx0XHRpc0luZGV4ID0gdHJ1ZTtcclxuXHRcdFx0fVxyXG5cclxuXHRcdFx0Y29uc3Qgbm90ZSA9IHRoaXMubG9hZGVkRmlsZXMuZmluZCgoZjogVEZpbGUpID0+IGZbJ2Jhc2VuYW1lJ10gPT09IGNsKTtcclxuXHJcblx0XHRcdHJldHVybiB7XHJcblx0XHRcdFx0bmFtZTogY2wsXHJcblx0XHRcdFx0ZXhpc3RzOiAhIW5vdGUsXHRcclxuXHRcdFx0XHRpbmxpbmU6IGlzSW5saW5lLFxyXG5cdFx0XHRcdGluZGV4OiBpc0luZGV4LFxyXG5cdFx0XHRcdHBhdGg6IG5vdGU/LnBhdGhcclxuXHRcdFx0fTtcclxuXHRcdH0pLmZpbHRlcihCb29sZWFuKTtcclxuXHJcblx0XHRyZXR1cm4gZXhpc3RpbmdOb3RlcyBhcyBMaW5rVHJlZVR5cGVbXTtcclxuXHR9XHJcblxyXG5cdGFzeW5jIHJlYWRTZWxlY3RlZE5vdGUoKSB7XHJcblx0XHR0aGlzLmxvYWRlZEZpbGVzID0gYXBwLnZhdWx0LmdldE1hcmtkb3duRmlsZXMoKTtcclxuXHJcblx0XHRjb25zdCBhY3RpdmVOb3RlID0gdGhpcy5hcHAud29ya3NwYWNlLmdldEFjdGl2ZUZpbGUoKTtcclxuXHJcblx0XHRpZiAoIWFjdGl2ZU5vdGUpIHtcclxuXHRcdFx0bmV3IE5vdGljZShgU2VsZWN0ZWQgbm90ZSBpcyBpbnZhbGlkLmApO1xyXG5cdFx0XHR0aHJvdyBuZXcgRXJyb3IoXCJTZWxlY3RlZCBub3RlIGlzIGludmFsaWQuXCIpO1xyXG5cdFx0fVxyXG5cdFx0Y29uc3QgYWN0aXZlTm90ZVRleHQgPSBhd2FpdCBnZXROb3RlQnlOYW1lKHRoaXMuYXBwLCBhY3RpdmVOb3RlLnBhdGgpO1xyXG5cclxuXHRcdGNvbnN0IG1haW5Db250ZW50TGlua3MgPSB0aGlzLnBhcnNlTGlua3MoYWN0aXZlTm90ZVRleHQsIHRydWUpO1xyXG5cdFx0XHJcblx0XHR0aGlzLm1haW5OYW1lTGlua3MgPSBtYWluQ29udGVudExpbmtzLm1hcCgobDogTGlua1RyZWVUeXBlKSA9PiBsLm5hbWUpO1xyXG5cclxuXHRcdHRoaXMubGlua3NUcmVlID0gYXdhaXQgdGhpcy5nZW5lcmF0ZU5vdGVzSGllcmFyY2h5KG1haW5Db250ZW50TGlua3MpO1xyXG5cclxuXHRcdGNvbnN0IHRpdGxlID0gYWN0aXZlTm90ZS5iYXNlbmFtZTtcclxuXHRcdG5ldyBCYXNlTGluayh0aGlzLmFwcCwgdGhpcy5zdHJ1Y3R1cmUsIHRpdGxlKTtcclxuXHJcblx0XHRuZXcgVHJlZU1lbnUodGhpcy5hcHAsIHRoaXMuc3RydWN0dXJlLCB0aGlzLmxpbmtzVHJlZSwgKGlnbm9yZWRMaW5rczogc3RyaW5nW10pID0+IHtcclxuXHRcdFx0dGhpcy5pZ25vcmVkTGlua3MgPSBpZ25vcmVkTGlua3M7XHJcblx0XHR9KTtcclxuXHJcblx0XHRuZXcgQnV0dG9uKHRoaXMuZ2VuZXJhdGVNYXJrZG93blBhcmVudCwgJ0dlbmVyYXRlIG1hcmtkb3duJywgKCkgPT4ge1xyXG5cdFx0XHRcclxuXHRcdFx0Ly8gY2xlYW51cFxyXG5cdFx0XHR0aGlzLm1hcmtkb3duID0gXCJcIjtcclxuXHJcblx0XHRcdHRoaXMuZ2VuZXJhdGVNYXJrZG93bkZpbGUodGhpcy5saW5rc1RyZWUsIGFjdGl2ZU5vdGVUZXh0KTtcclxuXHRcdH0sIHsgY2xzOiAnZ2VuZXJhdGUtbWFya2Rvd24tYnRuJyB9KTtcclxuXHR9XHJcblxyXG5cdGdlbmVyYXRlTWFya2Rvd25GaWxlKGxpbmtzOiBMaW5rVHJlZVR5cGVbXSwgbWFpbk5vdGU6IHN0cmluZykge1xyXG5cdFx0dGhpcy5jb21wb3NlTWFya2Rvd24obGlua3MpO1xyXG5cclxuXHRcdC8vIHRyYW5zZm9ybSBsaW5rcyB0byBhbmNob3IgaW4gaW5kZXggbm90ZSBcclxuXHRcdHRoaXMubWFpbk5hbWVMaW5rcy5mb3JFYWNoKChtbmw6IHN0cmluZykgPT4ge1xyXG5cclxuXHRcdFx0bW5sID0gZml4U3BhY2VJbk5hbWUobW5sKTtcclxuXHRcdFx0bWFpbk5vdGUgPSBtYWluTm90ZS5yZXBsYWNlQWxsKGBbWyR7bW5sfV1dYCwgYFtbIyR7bW5sfV1dYClcclxuXHRcdH0pO1xyXG5cclxuXHRcdHRoaXMubWFya2Rvd24gPSBtYWluTm90ZSArIHRoaXMubWFya2Rvd247XHJcblxyXG5cdFx0bmV3IFNhdmVNb2RhbCh0aGlzLmFwcCwgYXN5bmMgKGZpbGVOYW1lKSA9PiB7XHJcblx0XHRcdGF3YWl0IHRoaXMuYXBwLnZhdWx0LmFkYXB0ZXIud3JpdGUoYCR7ZmlsZU5hbWV9Lm1kYCwgdGhpcy5tYXJrZG93bilcclxuXHRcdFx0bmV3IE5vdGljZShgTm90ZSAke2ZpbGVOYW1lfSBjcmVhdGVkIHN1Y2Nlc3NmdWxseWApO1xyXG5cdFx0XHR0aGlzLmFwcC53b3Jrc3BhY2Uub3BlbkxpbmtUZXh0KGAke2ZpbGVOYW1lfS5tZGAsIFwiXCIpXHJcblx0XHRcdFxyXG5cdFx0fSkub3BlbigpO1xyXG5cdFx0XHJcblx0fVxyXG5cclxuXHRjb21wb3NlTWFya2Rvd24obGlua3M6IExpbmtUcmVlVHlwZVtdKSB7XHJcblx0XHRsaW5rcy5mb3JFYWNoKGFzeW5jIChsaW5rOiBMaW5rVHJlZVR5cGUpID0+IHtcclxuXHRcdFx0bGV0IG5vdGUgPSBhd2FpdCBnZXROb3RlQnlOYW1lKHRoaXMuYXBwLCBsaW5rLnBhdGgpO1xyXG5cdFx0XHRjb25zdCBsb2NhbExpbmtzID0gdGhpcy5wYXJzZUxpbmtzKG5vdGUpO1xyXG5cclxuXHRcdFx0aWYgKHRoaXMuaWdub3JlZExpbmtzLmluY2x1ZGVzKGxpbmsubmFtZSkpXHJcblx0XHRcdFx0cmV0dXJuO1xyXG5cclxuXHRcdFx0Ly8gdHJpbSBlbnRlcnMgYW5kIHNwYWNlc1xyXG5cdFx0XHRub3RlID0gbm90ZS50cmltKCk7XHJcblxyXG5cdFx0XHRpZiAobm90ZS5sZW5ndGggPT0gMClcclxuXHRcdFx0XHRyZXR1cm47XHJcblxyXG5cdFx0XHQvLyB0cmFuc2Zvcm0gbGlua3MgdG8gYW5jaG9yc1xyXG5cdFx0XHRsb2NhbExpbmtzLmZvckVhY2goKGxvY2FsTGluazogTGlua1RyZWVUeXBlKSA9PiB7XHJcblx0XHRcdFx0aWYgKGxvY2FsTGluay5pbmxpbmUgJiYgdGhpcy5pZ25vcmVkTGlua3MuaW5jbHVkZXMobG9jYWxMaW5rLm5hbWUpKVxyXG5cdFx0XHRcdFx0bm90ZSA9IG5vdGUucmVwbGFjZUFsbChgW1ske2xvY2FsTGluay5uYW1lfV1dYCwgbG9jYWxMaW5rLm5hbWUpO1xyXG5cdFx0XHRcdGVsc2VcclxuXHRcdFx0XHRcdG5vdGUgPSBub3RlLnJlcGxhY2VBbGwoYFtbJHtsb2NhbExpbmsubmFtZX1dXWAsIGBbWyMke2xvY2FsTGluay5uYW1lfV1dYClcclxuXHRcdFx0fSlcclxuXHJcblx0XHRcdC8vIHJlbW92ZSB0aXRsZSBvbiBhIGZpcnN0IGxpbmVcclxuXHRcdFx0bGV0IG5vdGVSb3dzID0gbm90ZS5zcGxpdCgnXFxuJyk7XHJcblx0XHRcdGxldCBmaXJzdFJvdyA9IGZpeFNwYWNlSW5OYW1lKG5vdGVSb3dzWzBdKTtcclxuXHRcdFx0aWYgKGZpcnN0Um93LmluY2x1ZGVzKGAjICR7bGluay5uYW1lfWApKSB7XHJcblx0XHRcdFx0bm90ZVJvd3Muc2hpZnQoKTtcclxuXHRcdFx0XHRub3RlID0gbm90ZVJvd3Muam9pbihcIlxcblwiKS50cmltKCk7XHJcblx0XHRcdH1cclxuXHRcdFx0XHJcblx0XHRcdC8vIHJlbW92ZSAnS2FtIGRcdTAwRTFsJyBwYXJ0XHJcblx0XHRcdGlmIChub3RlLmluY2x1ZGVzKHRoaXMuc2V0dGluZ3MubGlzdE9mTGlua3NLZXl3b3JkKSkge1xyXG5cdFx0XHRcdGxldCBbaW1wb3J0YW50UGFydCwgZW5kUGFydF0gPSBub3RlLnNwbGl0KHRoaXMuc2V0dGluZ3MubGlzdE9mTGlua3NLZXl3b3JkKTtcclxuXHRcdFx0XHRub3RlID0gaW1wb3J0YW50UGFydC50cmltKCk7XHJcblx0XHRcdH1cclxuXHRcdFx0XHJcblx0XHRcdC8vIGdlbmVyYXRlIG5lc3RlZCB0aXRsZSBlLmcuIGgzIC0+ICMjIyB0aXRsZTNcclxuXHRcdFx0bGV0IHRpdGxlID0gXCJcIjtcclxuXHRcdFx0aWYgKGxpbmsuaW5saW5lKSB7XHJcblx0XHRcdFx0Ly8gaDVcclxuXHRcdFx0XHR0aXRsZSA9IGAjIyMjIyAke2xpbmsubmFtZX1gO1xyXG5cdFx0XHR9IGVsc2Uge1xyXG5cdFx0XHRcdGNvbnN0IG5lc3RlZExldmVsID0gQXJyYXkobGluay5sZXZlbCkuZmlsbCgnIycpLmpvaW4oJycpO1xyXG5cdFx0XHRcdHRpdGxlID0gYCR7bmVzdGVkTGV2ZWx9ICR7bGluay5uYW1lfWA7XHJcblx0XHRcdH1cclxuXHJcblx0XHRcdG5vdGUgPSBgXFxuXFxuJHt0aXRsZX1cXG4ke25vdGV9YDtcclxuXHJcblx0XHRcdC8vIHNob3VsZCBiZSBsYXN0XHJcblx0XHRcdHRoaXMubWFya2Rvd24gKz0gbm90ZTtcclxuXHJcblx0XHRcdGlmICgnY2hpbGRyZW4nIGluIGxpbmspXHJcblx0XHRcdFx0dGhpcy5jb21wb3NlTWFya2Rvd24obGluay5jaGlsZHJlbik7XHJcblx0XHR9KTtcclxuXHR9XHJcblxyXG5cdGFzeW5jIGdlbmVyYXRlTm90ZXNIaWVyYXJjaHkobGlua3M6IExpbmtUcmVlVHlwZVtdKSB7XHJcblx0XHRjb25zdCBsaW5rc09iajogQnVpbGRMaW5rVHJlZVR5cGUgPSBhd2FpdCB0aGlzLmRmcyhsaW5rcywgMCwgW10pO1xyXG5cclxuXHRcdGxldCBsaW5rc0FycjogTGlua1RyZWVUeXBlW10gPSBbXTtcclxuXHRcdFxyXG5cdFx0T2JqZWN0LmtleXMobGlua3NPYmopLmZvckVhY2goa2V5ID0+IHtcclxuXHRcdFx0Y29uc3Qge3BhcmVudFJlZiwgLi4ucmVzdH0gPSBsaW5rc09ialtrZXkgYXMga2V5b2YgQnVpbGRMaW5rVHJlZVR5cGVdIGFzIEJ1aWxkTGlua1RyZWVUeXBlOyBcclxuXHRcdFx0bGlua3NBcnIucHVzaCh7Li4ucmVzdCwgcGFyZW50OiAobGlua3NPYmpba2V5IGFzIGtleW9mIEJ1aWxkTGlua1RyZWVUeXBlXSBhcyBCdWlsZExpbmtUcmVlVHlwZSk/LnBhcmVudFJlZj8ubmFtZX0pO1xyXG5cdFx0fSk7XHJcblxyXG5cdFx0Y29uc3QgZ2V0TmVzdGVkQ2hpbGRyZW4gPSAoYXJyOiBMaW5rVHJlZVR5cGVbXSwgcGFyZW50OiBzdHJpbmcgfCB1bmRlZmluZWQpID0+IHtcclxuXHRcdFx0bGV0IGNoaWxkcmVuID0gW107XHJcblx0XHRcdGZvcihsZXQgaSA9IDA7IGkgPCBhcnIubGVuZ3RoOyBpKyspIHtcclxuXHRcdFx0XHRpZihhcnJbaV0ucGFyZW50ID09IHBhcmVudCkge1xyXG5cdFx0XHRcdFx0Y29uc3QgZ3JhbmRDaGlsZHJlbiA9IGdldE5lc3RlZENoaWxkcmVuKGFyciwgYXJyW2ldLm5hbWUpO1xyXG5cdFx0XHRcdFx0aWYoZ3JhbmRDaGlsZHJlbi5sZW5ndGgpIHtcclxuXHRcdFx0XHRcdFx0YXJyW2ldLmNoaWxkcmVuID0gZ3JhbmRDaGlsZHJlbjtcclxuXHRcdFx0XHRcdH1cclxuXHRcdFx0XHRcdGNoaWxkcmVuLnB1c2goYXJyW2ldKTtcclxuXHRcdFx0XHR9XHJcblx0XHRcdH1cclxuXHRcdFx0cmV0dXJuIGNoaWxkcmVuO1xyXG5cdFx0fVxyXG5cdFx0cmV0dXJuIGdldE5lc3RlZENoaWxkcmVuKGxpbmtzQXJyLCB1bmRlZmluZWQpO1xyXG5cdH1cclxuXHJcblx0YXN5bmMgZGZzKGxpbmtzOiBCdWlsZExpbmtUcmVlVHlwZVtdLCBsZXZlbDogbnVtYmVyLCBwcm9jZXNzZWQ6IHN0cmluZ1tdLCBwYXJlbnRSZWY/OiBvYmplY3QsIHRpdGxlTWFwcGluZz86IG9iamVjdCkge1xyXG5cdFx0dGl0bGVNYXBwaW5nID0gKHRpdGxlTWFwcGluZyBhcyBCdWlsZExpbmtUcmVlVHlwZSkgPz8ge307IFxyXG5cclxuXHRcdGZvciBhd2FpdCAoY29uc3QgW29yZGVyLCBsaW5rXSBvZiBsaW5rcy5lbnRyaWVzKCkpIHtcclxuXHJcblx0XHRcdC8vIHNraXAgbGluayBmcm9tIG1haW5Db250ZW50XHJcblx0XHRcdGlmICh0aGlzLm1haW5OYW1lTGlua3MuaW5jbHVkZXMobGluay5uYW1lKSAmJiBsZXZlbCAhPSAwKVxyXG5cdFx0XHRcdGNvbnRpbnVlO1xyXG5cclxuXHRcdFx0Ly8gc2tpcCBpZiBsaW5rIGlzIGFscmVhZHkgcHJvY2Vzc2VkXHJcblx0XHRcdGlmIChwcm9jZXNzZWQuaW5jbHVkZXMobGluay5uYW1lKSkge1xyXG5cdFx0XHRcdGNvbnRpbnVlO1xyXG5cdFx0XHR9XHJcblx0XHRcdHByb2Nlc3NlZC5wdXNoKGxpbmsubmFtZSk7XHJcblxyXG5cdFx0XHRjb25zdCBub3RlID0gYXdhaXQgZ2V0Tm90ZUJ5TmFtZSh0aGlzLmFwcCwgbGluay5wYXRoKVxyXG5cdFx0XHRjb25zdCBzdWJMaW5rcyA9IHRoaXMucGFyc2VMaW5rcyhub3RlKTtcclxuXHRcdFxyXG5cdFx0XHR0aGlzLm1heExldmVsID0gbGV2ZWwgKyAxO1xyXG5cclxuXHRcdFx0KHRpdGxlTWFwcGluZyBhcyBhbnkpW2xpbmsubmFtZV0gPSB7IC4uLmxpbmssIHBhcmVudFJlZiwgbGV2ZWw6IHRoaXMubWF4TGV2ZWwsIG9yZGVyfTtcclxuXHJcblx0XHRcdGlmIChsaW5rcy5sZW5ndGggPiAwKVxyXG5cdFx0XHRcdGF3YWl0IHRoaXMuZGZzKHN1YkxpbmtzLCB0aGlzLm1heExldmVsLCBwcm9jZXNzZWQsICh0aXRsZU1hcHBpbmcgYXMgYW55KVtsaW5rLm5hbWVdLCB0aXRsZU1hcHBpbmcpO1xyXG5cdFx0fVxyXG5cclxuXHRcdHJldHVybiB0aXRsZU1hcHBpbmcgYXMgQnVpbGRMaW5rVHJlZVR5cGU7XHJcblx0fVxyXG5cclxuXHRhc3luYyBvbkNsb3NlKCkge1xyXG5cdFx0Ly8gTm90aGluZyB0byBjbGVhbiB1cC5cclxuXHR9XHJcblxyXG5cdGdldFZpZXdUeXBlKCkge1xyXG5cdFx0cmV0dXJuIFZJRVdfQ09OVEVOVF9DT01QT1NFX05PVEVTO1xyXG5cdH1cclxuXHJcblx0Z2V0RGlzcGxheVRleHQoKSB7XHJcblx0XHRyZXR1cm4gXCJOb3RlcyBNZXJnZXJcIjtcclxuXHR9XHJcbn1cclxuIiwgImltcG9ydCB7IFRGaWxlLCBBcHAgfSBmcm9tICdvYnNpZGlhbic7XG5cbmV4cG9ydCBjb25zdCBmaXhTcGFjZUluTmFtZSA9IChuYW1lOiBzdHJpbmcpID0+IHtcblx0cmV0dXJuIG5hbWUucmVwbGFjZSgvW1xcdTAwQTBcXHUxNjgwXFx1MTgwRVxcdTIwMDAtXFx1MjAwQlxcdTIwMkZcXHUyMDVGXFx1MzAwMFxcdUZFRkZdLywgXCIgXCIpLnRyaW0oKTtcbn1cblxuZXhwb3J0IGNvbnN0IGdldE5vdGVCeU5hbWUgPSBhc3luYyAoYXBwOiBBcHAsIHBhdGg6IHN0cmluZykgPT4ge1xuXHRjb25zdCBmaWxlID0gYXBwLnZhdWx0LmdldEFic3RyYWN0RmlsZUJ5UGF0aChwYXRoKTtcblxuXHRpZiAoIShmaWxlIGluc3RhbmNlb2YgVEZpbGUpKVxuXHRcdHJldHVybiBcIlwiO1x0XG5cblx0cmV0dXJuIGF3YWl0IGFwcC52YXVsdC5jYWNoZWRSZWFkKGZpbGUpO1xufVxuIiwgImV4cG9ydCBjbGFzcyBCdXR0b24ge1xyXG5cdGJ0bjogSFRNTEJ1dHRvbkVsZW1lbnQ7XHJcblxyXG5cdGNvbnN0cnVjdG9yKGVsZW1lbnQ6IEVsZW1lbnQsIHRleHQ6IHN0cmluZywgb25DbGljazogKGNvbnRleHQ6IEJ1dHRvbikgPT4gdm9pZCwgYXJncz86IG9iamVjdCkge1xyXG5cdFx0dGhpcy5idG4gPSBlbGVtZW50LmNyZWF0ZUVsKCdidXR0b24nLCB7IHRleHQsIC4uLmFyZ3MgfSk7XHJcblx0XHR0aGlzLmJ0bi5vbmNsaWNrID0gKCkgPT4ge1xyXG5cdFx0XHRvbkNsaWNrKHRoaXMpO1xyXG5cdFx0fTtcdFxyXG5cdFx0cmV0dXJuIHRoaXM7XHJcblx0fVxyXG59XHJcbiIsICJpbXBvcnQgeyBBcHAgfSBmcm9tIFwib2JzaWRpYW5cIjtcclxuaW1wb3J0IHsgTGlua1RyZWVUeXBlIH0gZnJvbSBcInNyYy92aWV3cy9nZW5lcmF0ZS1tYXJrZG93blwiO1xyXG5cclxuZXhwb3J0IGNsYXNzIEJhc2VMaW5rIHtcclxuXHRjb250ZXh0OiBBcHA7XHJcblx0ZWxlbWVudDogRWxlbWVudDtcclxuXHRuYW1lOiBzdHJpbmc7XHJcblxyXG5cdGNvbnN0cnVjdG9yKGNvbnRleHQ6IEFwcCwgZWxlbWVudDogRWxlbWVudCwgbmFtZTogc3RyaW5nKSB7XHJcblx0XHR0aGlzLmNvbnRleHQgPSBjb250ZXh0O1xyXG5cdFx0dGhpcy5lbGVtZW50ID0gZWxlbWVudDtcclxuXHRcdHRoaXMubmFtZSA9IG5hbWU7XHJcblxyXG5cdFx0dGhpcy5yZW5kZXIoKTtcclxuXHR9XHJcblxyXG5cdHJlbmRlcigpIHtcclxuXHRcdGNvbnN0IGhyZWZUaXRsZSA9IHRoaXMuZWxlbWVudC5jcmVhdGVFbCgnYScsIHsgdGV4dDogdGhpcy5uYW1lLCBjbHM6ICdjb250X190aXRsZScgfSk7XHJcblx0XHRocmVmVGl0bGUub25jbGljayA9ICgpID0+IHtcclxuXHRcdFx0dGhpcy5jb250ZXh0LndvcmtzcGFjZS5vcGVuTGlua1RleHQodGhpcy5uYW1lLCBcIlwiKTtcclxuXHRcdH1cclxuXHR9XHJcblxyXG59XHJcblxyXG4vLyBMaW5rIHdpdGggaW5uZXIgc3RhdGUgYW5kIGhlbHBlciBmbmNzXHJcbmV4cG9ydCBjbGFzcyBMaW5rIHtcclxuXHJcblx0Y29udGV4dDogQXBwO1xyXG5cdGE6IEhUTUxFbGVtZW50O1xyXG5cdGxpbms6IExpbmtUcmVlVHlwZTtcclxuXHRlbGVtZW50OiBFbGVtZW50O1xyXG5cdHRvZ2dsZWRTdGF0ZTogYm9vbGVhbiA9IGZhbHNlO1xyXG5cclxuXHRjb25zdHJ1Y3Rvcihjb250ZXh0OiBBcHAsIGVsZW1lbnQ6IEVsZW1lbnQsIGxpbms6IExpbmtUcmVlVHlwZSwgcmVuZGVyTm93OiBib29sZWFuID0gdHJ1ZSkge1xyXG5cdFx0dGhpcy5saW5rID0gbGluaztcclxuXHRcdHRoaXMuY29udGV4dCA9IGNvbnRleHQ7XHJcblx0XHR0aGlzLmVsZW1lbnQgPSBlbGVtZW50O1xyXG5cclxuXHRcdGlmIChyZW5kZXJOb3cpXHJcblx0XHRcdHRoaXMucmVuZGVyKGZhbHNlKTtcclxuXHJcblx0XHRyZXR1cm4gdGhpcztcclxuXHR9XHJcblxyXG5cdHJlbmRlcihzdGF0ZTogYm9vbGVhbikge1xyXG5cdFx0dGhpcy5hID0gdGhpcy5lbGVtZW50LmNyZWF0ZUVsKCdhJywgeyB0ZXh0OiB0aGlzLmxpbmsubmFtZSwgY2xzOiBcImxpbmtcIiB9KTtcclxuXHRcdCF0aGlzLmxpbmsuZXhpc3RzICYmIHRoaXMuYS5hZGRDbGFzcyhcImNvbnRfX2xpbmstbm90LWV4aXN0XCIpO1xyXG5cdFx0dGhpcy5saW5rLmlubGluZSAmJiB0aGlzLmEuYWRkQ2xhc3MoXCJpbmxpbmVcIik7XHJcblx0XHR0aGlzLmEub25jbGljayA9ICgpID0+IHtcclxuXHRcdFx0dGhpcy5jb250ZXh0LndvcmtzcGFjZS5vcGVuTGlua1RleHQodGhpcy5saW5rLm5hbWUsIFwiXCIpO1xyXG5cdFx0XHQhdGhpcy5saW5rLmV4aXN0cyAmJiB0aGlzLmEucmVtb3ZlQ2xhc3MoXCJjb250X19saW5rLW5vdC1leGlzdFwiKTtcclxuXHRcdH07XHJcblxyXG5cdFx0dGhpcy50b2dnbGUoc3RhdGUpO1xyXG5cdH1cclxuXHJcblx0dG9nZ2xlKHN0YXRlOiBib29sZWFuKSB7XHJcblx0XHRpZiAoc3RhdGUpXHJcblx0XHRcdHRoaXMuYS5yZW1vdmVDbGFzcygnc3RyaWtldGhyb3VnaCcpO1xyXG5cdFx0ZWxzZVxyXG5cdFx0XHR0aGlzLmEuYWRkQ2xhc3MoJ3N0cmlrZXRocm91Z2gnKTtcclxuXHR9XHJcbn1cclxuIiwgImltcG9ydCB7IEFwcCwgTW9kYWwsIFNldHRpbmcgfSBmcm9tIFwib2JzaWRpYW5cIjtcclxuXHJcbmV4cG9ydCBjbGFzcyBTYXZlTW9kYWwgZXh0ZW5kcyBNb2RhbCB7XHJcbiAgcmVzdWx0OiBzdHJpbmc7XHJcbiAgb25TdWJtaXQ6IChyZXN1bHQ6IHN0cmluZykgPT4gdm9pZDtcclxuXHJcbiAgY29uc3RydWN0b3IoYXBwOiBBcHAsIG9uU3VibWl0OiAocmVzdWx0OiBzdHJpbmcpID0+IHZvaWQpIHtcclxuICAgIHN1cGVyKGFwcCk7XHJcbiAgICB0aGlzLm9uU3VibWl0ID0gb25TdWJtaXQ7XHJcbiAgfVxyXG5cclxuICBvbk9wZW4oKSB7XHJcbiAgICBjb25zdCB7IGNvbnRlbnRFbCB9ID0gdGhpcztcclxuXHJcbiAgICBjb250ZW50RWwuY3JlYXRlRWwoXCJoMVwiLCB7IHRleHQ6IFwiU2F2ZSBhc1wiIH0pO1xyXG5cclxuICAgIG5ldyBTZXR0aW5nKGNvbnRlbnRFbClcclxuICAgICAgLnNldE5hbWUoXCJGaWxlIG5hbWU6IFwiKVxyXG4gICAgICAuYWRkVGV4dCgodGV4dCkgPT5cclxuICAgICAgICB0ZXh0Lm9uQ2hhbmdlKCh2YWx1ZSkgPT4ge1xyXG4gICAgICAgICAgdGhpcy5yZXN1bHQgPSB2YWx1ZVxyXG4gICAgICAgIH0pKTtcclxuXHJcbiAgICBuZXcgU2V0dGluZyhjb250ZW50RWwpXHJcbiAgICAgIC5hZGRCdXR0b24oKGJ0bikgPT5cclxuICAgICAgICBidG5cclxuICAgICAgICAgIC5zZXRCdXR0b25UZXh0KFwiR2VuZXJhdGUgbWFya2Rvd24gbm90ZVwiKVxyXG4gICAgICAgICAgLnNldEN0YSgpXHJcbiAgICAgICAgICAub25DbGljaygoKSA9PiB7XHJcbiAgICAgICAgICAgIHRoaXMuY2xvc2UoKTtcclxuICAgICAgICAgICAgdGhpcy5vblN1Ym1pdCh0aGlzLnJlc3VsdCk7XHJcbiAgICAgICAgICB9KSk7XHJcbiAgfVxyXG5cclxuICBvbkNsb3NlKCkge1xyXG4gICAgbGV0IHsgY29udGVudEVsIH0gPSB0aGlzO1xyXG4gICAgY29udGVudEVsLmVtcHR5KCk7XHJcbiAgfVxyXG59XHJcbiIsICJpbXBvcnQgeyBBcHAgfSBmcm9tICdvYnNpZGlhbic7XHJcbmltcG9ydCB7IExpbmtUcmVlVHlwZSB9IGZyb20gJy4uL3ZpZXdzL2dlbmVyYXRlLW1hcmtkb3duJztcclxuaW1wb3J0IHtcclxuXHRMaW5rLCBDaGVja2JveFxyXG59IGZyb20gJy4vaW5kZXgnO1xyXG5cclxuXHJcbmZ1bmN0aW9uIGZsYXR0ZW5DaGlsZHJlbihsaW5rOiBMaW5rVHJlZVR5cGUsIGNoaWxkcmVuOiBzdHJpbmdbXSkge1xyXG5cdGlmICgnY2hpbGRyZW4nIGluIGxpbmspIHtcclxuXHRcdGNvbnN0IGNoaWxkcmVuTGlua05hbWVzID0gbGluay5jaGlsZHJlbi5tYXAoKGw6IExpbmtUcmVlVHlwZSkgPT4gbC5uYW1lKTsgXHJcblx0XHRjaGlsZHJlbi5wdXNoKC4uLmNoaWxkcmVuTGlua05hbWVzKTtcclxuXHRcdGxpbmsuY2hpbGRyZW4uZm9yRWFjaCgobDogTGlua1RyZWVUeXBlKSA9PiB7XHJcblx0XHRcdGZsYXR0ZW5DaGlsZHJlbihsLCBjaGlsZHJlbik7XHJcblx0XHR9KVxyXG5cdH1cclxuXHRyZXR1cm4gY2hpbGRyZW47XHJcbn1cclxuXHJcbmV4cG9ydCBjbGFzcyBUcmVlTWVudSB7XHJcblx0YXBwOiBBcHA7XHJcblx0VUw6IEVsZW1lbnQ7XHJcblxyXG5cdGlnbm9yZWRMaW5rczogc3RyaW5nW10gPSBbXTtcclxuXHRsaW5rc1RyZWU6IExpbmtUcmVlVHlwZVtdID0gW107XHJcblxyXG5cdGNvbnN0cnVjdG9yKGFwcDogQXBwLCBzdHJ1Y3R1cmU6IEVsZW1lbnQsIGxpbmtzVHJlZTogTGlua1RyZWVUeXBlW10sIGV2ZW50OiAoaWdub3JlZExpbmtzOiBzdHJpbmdbXSkgPT4gdm9pZCkge1xyXG5cdFx0dGhpcy5hcHAgPSBhcHA7XHJcblx0XHRsZXQgbWVudSA9IHN0cnVjdHVyZS5jcmVhdGVFbCgnZGl2JywgeyBjbHM6ICd0cmVlLW1lbnUnfSk7XHJcblx0XHR0aGlzLlVMID0gbWVudS5jcmVhdGVFbCgndWwnKTtcclxuXHRcdHRoaXMubGlua3NUcmVlID0gbGlua3NUcmVlO1xyXG5cclxuXHRcdHRoaXMucmVuZGVyKHRoaXMubGlua3NUcmVlLCB0aGlzLlVMLCBbXSwgZXZlbnQpO1xyXG5cdH1cclxuXHJcblx0cmVuZGVyKGxpbmtzOiBMaW5rVHJlZVR5cGVbXSwgbWVudUVsOiBFbGVtZW50LCBjaGlsZHJlbkxpbmtzOiBzdHJpbmdbXSwgZXZlbnQ6IChsaW5rczogc3RyaW5nW10pID0+IHZvaWQpIHtcclxuXHRcdGlmICghY2hpbGRyZW5MaW5rcykgXHJcblx0XHRcdGNoaWxkcmVuTGlua3MgPSBbXTtcclxuXHJcblx0XHRsaW5rcy5mb3JFYWNoKChsaW5rOiBMaW5rVHJlZVR5cGUpID0+IHtcclxuXHRcdFx0Y29uc3QgbGkgPSBtZW51RWwuY3JlYXRlRWwoJ2xpJyk7XHJcblx0XHRcdGNvbnN0IGxpbmtFbCA9IG5ldyBMaW5rKHRoaXMuYXBwLCBsaSwgbGluaywgZmFsc2UpO1xyXG5cclxuXHRcdFx0bGV0IHN0YXRlOiBib29sZWFuID0gIWNoaWxkcmVuTGlua3MuaW5jbHVkZXMobGlua0VsLmxpbmsubmFtZSk7XHJcblxyXG5cdFx0XHRpZiAoIWxpbmsuZXhpc3RzKVxyXG5cdFx0XHRcdHN0YXRlID0gZmFsc2U7IFxyXG5cclxuXHRcdFx0bmV3IENoZWNrYm94KGxpLCBzdGF0ZSwgbGluay5leGlzdHMsICgpID0+IHtcclxuXHRcdFx0XHRjb25zdCBpZ25vcmVkQ2hpbGRyZW4gPSBbbGlua0VsLmxpbmsubmFtZSwgLi4uZmxhdHRlbkNoaWxkcmVuKGxpbmtFbC5saW5rLCBbXSldO1xyXG5cclxuXHRcdFx0XHRpZiAoc3RhdGUgPT0gZmFsc2UpIHsgXHJcblx0XHRcdFx0XHQvLyByZW1vdmUgY2hpbGRyZW4gZnJvbSBjaGlsZHJlbkxpbmtzXHJcblx0XHRcdFx0XHRjaGlsZHJlbkxpbmtzID0gY2hpbGRyZW5MaW5rcy5maWx0ZXIoKGNsOiBzdHJpbmcpID0+ICFpZ25vcmVkQ2hpbGRyZW4uaW5jbHVkZXMoY2wpKTtcclxuXHRcdFx0XHR9IGVsc2Uge1xyXG5cdFx0XHRcdFx0Y2hpbGRyZW5MaW5rcy5wdXNoKC4uLmlnbm9yZWRDaGlsZHJlbik7XHJcblx0XHRcdFx0XHRcclxuXHRcdFx0XHRcdC8vIHJlbW92ZSBkdXBlc1xyXG5cdFx0XHRcdFx0Y2hpbGRyZW5MaW5rcyA9IFsuLi5uZXcgU2V0KGNoaWxkcmVuTGlua3MpXVxyXG5cdFx0XHRcdH1cclxuXHJcblx0XHRcdFx0dGhpcy5pZ25vcmVkTGlua3MgPSBjaGlsZHJlbkxpbmtzO1xyXG5cdFx0XHRcdFxyXG5cdFx0XHRcdC8vIGNsZWFudXAgYW5kIHJlcmVuZGVyXHJcblx0XHRcdFx0dGhpcy5VTC5lbXB0eSgpXHJcblx0XHRcdFx0dGhpcy5yZW5kZXIodGhpcy5saW5rc1RyZWUsIHRoaXMuVUwsIGNoaWxkcmVuTGlua3MsIGV2ZW50KTtcclxuXHRcdFx0fSk7XHJcblxyXG5cdFx0XHRsaW5rRWwucmVuZGVyKHN0YXRlKTtcclxuXHJcblx0XHRcdGlmICgnY2hpbGRyZW4nIGluIGxpbmspIHtcclxuXHRcdFx0XHRjb25zdCB1bCA9IGxpLmNyZWF0ZUVsKCd1bCcpO1xyXG5cdFx0XHRcdHRoaXMucmVuZGVyKGxpbmsuY2hpbGRyZW4sIHVsLCBjaGlsZHJlbkxpbmtzLCBldmVudCk7XHJcblx0XHRcdH1cclxuXHRcdH0pO1xyXG5cclxuXHRcdHJldHVybiBldmVudCh0aGlzLmlnbm9yZWRMaW5rcyk7XHJcblx0fVxyXG59XHJcbiIsICJleHBvcnQgY2xhc3MgQ2hlY2tib3gge1xyXG5cclxuXHRjYjogSFRNTElucHV0RWxlbWVudDtcclxuXHRjb25zdHJ1Y3RvcihlbGVtZW50OiBFbGVtZW50LCBzdGF0ZTogYm9vbGVhbiwgZXhpc3RzOiBib29sZWFuLCBvbkNsaWNrOiAoY29udGV4dDogQ2hlY2tib3gpID0+IHZvaWQpIHtcclxuXHRcdHRoaXMuY2IgPSBlbGVtZW50LmNyZWF0ZUVsKFwiaW5wdXRcIiwge1xyXG5cdFx0XHR0eXBlOiAnY2hlY2tib3gnLFxyXG5cdFx0XHRjbHM6ICdjaGVja2JveC1idG4nXHJcblx0XHR9KTtcclxuXHJcblx0XHR0aGlzLmNiLmNoZWNrZWQgPSBzdGF0ZTtcclxuXHJcblx0XHRpZiAoIWV4aXN0cykge1xyXG5cdFx0XHR0aGlzLmNiLmRpc2FibGVkID0gdHJ1ZTtcclxuXHRcdFx0dGhpcy5jYi5jaGVja2VkID0gZmFsc2U7XHJcblx0XHRcdHRoaXMuY2IuYWRkQ2xhc3MoJ2NoZWNrYm94LWJ0bi1kaXNhYmxlZCcpO1xyXG5cdFx0fVxyXG5cdFx0dGhpcy5jYi5vbmNsaWNrID0gKCkgPT4ge1xyXG5cdFx0XHRvbkNsaWNrKHRoaXMpO1xyXG5cdFx0fTtcdFxyXG5cdFx0cmV0dXJuIHRoaXM7XHJcblx0fVxyXG59XHJcbiJdLAogICJtYXBwaW5ncyI6ICI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQSx1QkFBdUQ7OztBQ0F2RCx1QkFBMkU7OztBQ0EzRSxzQkFBMkI7QUFFcEIsSUFBTSxpQkFBaUIsQ0FBQyxTQUFpQjtBQUMvQyxTQUFPLEtBQUssUUFBUSw2REFBNkQsR0FBRyxFQUFFLEtBQUs7QUFDNUY7QUFFTyxJQUFNLGdCQUFnQixPQUFPLE1BQVUsU0FBaUI7QUFDOUQsUUFBTSxPQUFPLEtBQUksTUFBTSxzQkFBc0IsSUFBSTtBQUVqRCxNQUFJLENBQUUsaUJBQWdCO0FBQ3JCLFdBQU87QUFFUixTQUFPLE1BQU0sS0FB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
