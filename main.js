/*
THIS IS A GENERATED/BUNDLED FILE BY ESBUILD
if you want to view the source, please visit the github repository of this plugin
*/

var __defProp = Object.defineProperty;
var __getOwnPropDesc = Object.getOwnPropertyDescriptor;
var __getOwnPropNames = Object.getOwnPropertyNames;
var __hasOwnProp = Object.prototype.hasOwnProperty;
var __export = (target, all) => {
  for (var name in all)
    __defProp(target, name, { get: all[name], enumerable: true });
};
var __copyProps = (to, from, except, desc) => {
  if (from && typeof from === "object" || typeof from === "function") {
    for (let key of __getOwnPropNames(from))
      if (!__hasOwnProp.call(to, key) && key !== except)
        __defProp(to, key, { get: () => from[key], enumerable: !(desc = __getOwnPropDesc(from, key)) || desc.enumerable });
  }
  return to;
};
var __toCommonJS = (mod) => __copyProps(__defProp({}, "__esModule", { value: true }), mod);

// main.ts
var main_exports = {};
__export(main_exports, {
  default: () => GenerateMarkdownPlugin
});
module.exports = __toCommonJS(main_exports);
var import_obsidian4 = require("obsidian");

// src/views/generate-markdown.ts
var import_obsidian3 = require("obsidian");

// src/utils.ts
var import_obsidian = require("obsidian");
var fixSpaceInName = (name) => {
  return name.replace(/[\u00A0\u1680\u180E\u2000-\u200B\u202F\u205F\u3000\uFEFF]/, " ").trim();
};
var getNoteByName = async (app2, path) => {
  const file = app2.vault.getAbstractFileByPath(path);
  if (!(file instanceof import_obsidian.TFile))
    return "";
  return await app2.vault.cachedRead(file);
};

// src/components/Button.ts
var Button = class {
  constructor(element, text, onClick, args) {
    this.btn = element.createEl("button", { text, ...args });
    this.btn.onclick = () => {
      onClick(this);
    };
    return this;
  }
};

// src/components/Link.ts
var BaseLink = class {
  constructor(context, element, name) {
    this.context = context;
    this.element = element;
    this.name = name;
    this.render();
  }
  render() {
    const hrefTitle = this.element.createEl("a", { text: this.name, cls: "cont__title" });
    hrefTitle.onclick = () => {
      this.context.workspace.openLinkText(this.name, "");
    };
  }
};
var Link = class {
  constructor(context, element, link, renderNow = true) {
    this.toggledState = false;
    this.link = link;
    this.context = context;
    this.element = element;
    if (renderNow)
      this.render(false);
    return this;
  }
  render(state) {
    this.a = this.element.createEl("a", { text: this.link.name, cls: "link" });
    !this.link.exists && this.a.addClass("cont__link-not-exist");
    this.link.inline && this.a.addClass("inline");
    this.a.onclick = () => {
      this.context.workspace.openLinkText(this.link.name, "");
      !this.link.exists && this.a.removeClass("cont__link-not-exist");
    };
    this.toggle(state);
  }
  toggle(state) {
    if (state)
      this.a.removeClass("strikethrough");
    else
      this.a.addClass("strikethrough");
  }
};

// src/components/SaveModal.ts
var import_obsidian2 = require("obsidian");
var SaveModal = class extends import_obsidian2.Modal {
  constructor(app2, onSubmit) {
    super(app2);
    this.onSubmit = onSubmit;
  }
  onOpen() {
    const { contentEl } = this;
    contentEl.createEl("h1", { text: "Save as" });
    new import_obsidian2.Setting(contentEl).setName("File name: ").addText((text) => text.onChange((value) => {
      this.result = value;
    }));
    new import_obsidian2.Setting(contentEl).addButton((btn) => btn.setButtonText("Generate markdown note").setCta().onClick(() => {
      this.close();
      this.onSubmit(this.result);
    }));
  }
  onClose() {
    let { contentEl } = this;
    contentEl.empty();
  }
};

// src/components/TreeMenu.ts
function flattenChildren(link, children) {
  if ("children" in link) {
    const childrenLinkNames = link.children.map((l) => l.name);
    children.push(...childrenLinkNames);
    link.children.forEach((l) => {
      flattenChildren(l, children);
    });
  }
  return children;
}
var TreeMenu = class {
  constructor(app2, structure, linksTree, event) {
    this.ignoredLinks = [];
    this.linksTree = [];
    this.app = app2;
    let menu = structure.createEl("div", { cls: "tree-menu" });
    this.UL = menu.createEl("ul");
    this.linksTree = linksTree;
    this.render(this.linksTree, this.UL, [], event);
  }
  render(links, menuEl, childrenLinks, event) {
    if (!childrenLinks)
      childrenLinks = [];
    links.forEach((link) => {
      const li = menuEl.createEl("li");
      const linkEl = new Link(this.app, li, link, false);
      let state = !childrenLinks.includes(linkEl.link.name);
      if (!link.exists)
        state = false;
      new Checkbox(li, state, link.exists, () => {
        const ignoredChildren = [linkEl.link.name, ...flattenChildren(linkEl.link, [])];
        if (state == false) {
          childrenLinks = childrenLinks.filter((cl) => !ignoredChildren.includes(cl));
        } else {
          childrenLinks.push(...ignoredChildren);
          childrenLinks = [...new Set(childrenLinks)];
        }
        this.ignoredLinks = childrenLinks;
        this.UL.empty();
        this.render(this.linksTree, this.UL, childrenLinks, event);
      });
      linkEl.render(state);
      if ("children" in link) {
        const ul = li.createEl("ul");
        this.render(link.children, ul, childrenLinks, event);
      }
    });
    return event(this.ignoredLinks);
  }
};

// src/components/Checkbox.ts
var Checkbox = class {
  constructor(element, state, exists, onClick) {
    this.cb = element.createEl("input", {
      type: "checkbox",
      cls: "checkbox-btn"
    });
    this.cb.checked = state;
    if (!exists) {
      this.cb.disabled = true;
      this.cb.checked = false;
      this.cb.addClass("checkbox-btn-disabled");
    }
    this.cb.onclick = () => {
      onClick(this);
    };
    return this;
  }
};

// src/views/generate-markdown.ts
var VIEW_CONTENT_COMPOSE_NOTES = "view-generate-markdown";
var _GenerateMarkdown = class extends import_obsidian3.ItemView {
  constructor(leaf, settings) {
    super(leaf);
    this.linksTree = [];
    this.loadedFiles = [];
    this.maxLevel = 0;
    this.processed = [];
    this.mainNameLinks = [];
    this.markdown = "";
    this.ignoredLinks = [];
    this.images = [];
    this.promises = [];
    this.settings = settings;
  }
  async onOpen() {
    const container = this.containerEl.children[1];
    this.container = container;
    container.empty();
    this.toolbar = container.createEl("div");
    this.generatePreviewParent = this.toolbar.createEl("span");
    this.generateMarkdownParent = this.toolbar.createEl("span");
    this.structure = this.container.createEl("div");
    new Button(this.generatePreviewParent, "Generate preview", () => {
      this.linksTree = [];
      this.maxLevel = 0;
      this.processed = [];
      this.mainNameLinks = [];
      this.ignoredLinks = [];
      this.markdown = "";
      this.structure.empty();
      this.generateMarkdownParent.empty();
      this.readSelectedNote();
    });
  }
  parseLinks(text, index = false) {
    const links = text.matchAll(/\[\[(.*?)\]\]/g);
    let cleanLinks = [...links].map((l) => l[1]);
    cleanLinks = [...new Set(cleanLinks)];
    cleanLinks = cleanLinks.filter((cl) => !cl.startsWith("#"));
    cleanLinks = cleanLinks.filter((cl) => !cl.startsWith(`${this.settings.literatureNote}#`));
    const existingNotes = cleanLinks.map((cl) => {
      cl = fixSpaceInName(cl);
      if (!!_GenerateMarkdown.imageTypes.filter((it) => cl.includes(it.toLowerCase())).length) {
        this.images.push(cl);
        return false;
      }
      let isInline = true;
      if (text.includes(this.settings.listOfLinksKeyword)) {
        let [inlineText, linksText] = text.split(this.settings.listOfLinksKeyword);
        if (!inlineText.includes(cl))
          isInline = false;
      }
      let isIndex = false;
      if (index) {
        isInline = false;
        isIndex = true;
      }
      const note = this.loadedFiles.find((f) => f["basename"] === cl);
      return {
        name: cl,
        exists: !!note,
        inline: isInline,
        index: isIndex,
        path: note == null ? void 0 : note.path
      };
    }).filter(Boolean);
    return existingNotes;
  }
  async readSelectedNote() {
    this.loadedFiles = app.vault.getMarkdownFiles();
    const activeNote = this.app.workspace.getActiveFile();
    if (!activeNote) {
      new import_obsidian3.Notice(`Selected note is invalid.`);
      throw new Error("Selected note is invalid.");
    }
    const activeNoteText = await getNoteByName(this.app, activeNote.path);
    const mainContentLinks = this.parseLinks(activeNoteText, true);
    this.mainNameLinks = mainContentLinks.map((l) => l.name);
    this.linksTree = await this.generateNotesHierarchy(mainContentLinks);
    const title = activeNote.basename;
    new BaseLink(this.app, this.structure, title);
    new TreeMenu(this.app, this.structure, this.linksTree, (ignoredLinks) => {
      this.ignoredLinks = ignoredLinks;
    });
    new Button(this.generateMarkdownParent, "Generate markdown", () => {
      this.markdown = "";
      this.generateMarkdownFile(this.linksTree, activeNoteText);
    }, { cls: "generate-markdown-btn" });
  }
  generateMarkdownFile(links, mainNote) {
    this.composeMarkdown(links);
    this.mainNameLinks.forEach((mnl) => {
      mnl = fixSpaceInName(mnl);
      mainNote = mainNote.replaceAll(`[[${mnl}]]`, `[[#${mnl}]]`);
    });
    this.markdown = mainNote + this.markdown;
    new SaveModal(this.app, async (fileName) => {
      await this.app.vault.adapter.write(`${fileName}.md`, this.markdown);
      new import_obsidian3.Notice(`Note ${fileName} created successfully`);
      this.app.workspace.openLinkText(`${fileName}.md`, "");
    }).open();
  }
  composeMarkdown(links) {
    links.forEach(async (link) => {
      let note = await getNoteByName(this.app, link.path);
      const localLinks = this.parseLinks(note);
      console.log(localLinks);
      if (this.ignoredLinks.includes(link.name))
        return;
      note = note.trim();
      if (note.length == 0)
        return;
      localLinks.forEach((localLink) => {
        if (localLink.inline && this.ignoredLinks.includes(localLink.name))
          note = note.replaceAll(`[[${localLink.name}]]`, localLink.name);
        else
          note = note.replaceAll(`[[${localLink.name}]]`, `[[#${localLink.name}]]`);
      });
      let noteRows = note.split("\n");
      let firstRow = fixSpaceInName(noteRows[0]);
      if (firstRow.includes(`# ${link.name}`)) {
        noteRows.shift();
        note = noteRows.join("\n").trim();
      }
      if (note.includes(this.settings.listOfLinksKeyword)) {
        let [importantPart, endPart] = note.split(this.settings.listOfLinksKeyword);
        note = importantPart.trim();
      }
      let title = "";
      if (link.inline) {
        title = `##### ${link.name}`;
      } else {
        const nestedLevel = Array(link.level).fill("#").join("");
        title = `${nestedLevel} ${link.name}`;
      }
      note = `

${title}
${note}`;
      this.markdown += note;
      if ("children" in link)
        this.composeMarkdown(link.children);
    });
  }
  async generateNotesHierarchy(links) {
    const linksObj = await this.dfs(links, 0, []);
    console.log(linksObj);
    let linksArr = [];
    Object.keys(linksObj).forEach((key) => {
      var _a, _b;
      const { parentRef, ...rest } = linksObj[key];
      linksArr.push({ ...rest, parent: (_b = (_a = linksObj[key]) == null ? void 0 : _a.parentRef) == null ? void 0 : _b.name });
    });
    const getNestedChildren = (arr, parent) => {
      let children = [];
      for (let i = 0; i < arr.length; i++) {
        if (arr[i].parent == parent) {
          const grandChildren = getNestedChildren(arr, arr[i].name);
          if (grandChildren.length) {
            arr[i].children = grandChildren;
          }
          children.push(arr[i]);
        }
      }
      return children;
    };
    return getNestedChildren(linksArr, void 0);
  }
  async dfs(links, level, processed, parentRef, titleMapping) {
    titleMapping = titleMapping != null ? titleMapping : {};
    for await (const [order, link] of links.entries()) {
      if (this.mainNameLinks.includes(link.name) && level != 0)
        continue;
      if (processed.includes(link.name)) {
        continue;
      }
      processed.push(link.name);
      const note = await getNoteByName(this.app, link.path);
      const subLinks = this.parseLinks(note);
      this.maxLevel = level + 1;
      titleMapping[link.name] = { ...link, parentRef, level: this.maxLevel, order };
      if (links.length > 0)
        await this.dfs(subLinks, this.maxLevel, processed, titleMapping[link.name], titleMapping);
    }
    return titleMapping;
  }
  async onClose() {
  }
  getViewType() {
    return VIEW_CONTENT_COMPOSE_NOTES;
  }
  getDisplayText() {
    return "Notes Merger";
  }
};
var GenerateMarkdown = _GenerateMarkdown;
GenerateMarkdown.imageTypes = ["jpg", "jpeg", "png", "gif", "webp", "tiff", "bmp"].map((it) => `.${it}`);

// main.ts
var DEFAULT_SETTINGS = {
  listOfLinksKeyword: "Kam d\xE1l",
  literatureNote: "Literature"
};
var GenerateMarkdownPlugin = class extends import_obsidian4.Plugin {
  async onload() {
    await this.loadSettings();
    this.addSettingTab(new GenerateMarkdownPluginSettingTab(this.app, this));
    this.registerView(VIEW_CONTENT_COMPOSE_NOTES, (leaf) => new GenerateMarkdown(leaf, this.settings));
    this.addRibbonIcon("scroll", "NotesMerger", () => {
      this.activateGenerateMarkdownView();
    });
  }
  async activateGenerateMarkdownView() {
    await this.app.workspace.getRightLeaf(false).setViewState({
      type: VIEW_CONTENT_COMPOSE_NOTES,
      active: true
    });
    this.app.workspace.revealLeaf(this.app.workspace.getLeavesOfType(VIEW_CONTENT_COMPOSE_NOTES)[0]);
  }
  onunload() {
  }
  async loadSettings() {
    this.settings = Object.assign({}, DEFAULT_SETTINGS, await this.loadData());
  }
  async saveSettings() {
    await this.saveData(this.settings);
  }
};
var GenerateMarkdownPluginSettingTab = class extends import_obsidian4.PluginSettingTab {
  constructor(app2, plugin) {
    super(app2, plugin);
    this.plugin = plugin;
  }
  display() {
    const { containerEl } = this;
    containerEl.empty();
    new import_obsidian4.Setting(containerEl).setName("List of links keyword").setDesc("Keyword to detect list of links at the end of note").addText((text) => text.setPlaceholder('Defaults to "Kam d\xE1l"').setValue(this.plugin.settings.listOfLinksKeyword).onChange(async (value) => {
      this.plugin.settings.listOfLinksKeyword = value;
      await this.plugin.saveSettings();
    }));
    new import_obsidian4.Setting(containerEl).setName("Literature note").setDesc("Name of note with citations").addText((text) => text.setPlaceholder('Defaults to "Literature"').setValue(this.plugin.settings.literatureNote).onChange(async (value) => {
      this.plugin.settings.literatureNote = value;
      await this.plugin.saveSettings();
    }));
  }
};
//# sourceMappingURL=data:application/json;base64,ewogICJ2ZXJzaW9uIjogMywKICAic291cmNlcyI6IFsibWFpbi50cyIsICJzcmMvdmlld3MvZ2VuZXJhdGUtbWFya2Rvd24udHMiLCAic3JjL3V0aWxzLnRzIiwgInNyYy9jb21wb25lbnRzL0J1dHRvbi50cyIsICJzcmMvY29tcG9uZW50cy9MaW5rLnRzIiwgInNyYy9jb21wb25lbnRzL1NhdmVNb2RhbC50cyIsICJzcmMvY29tcG9uZW50cy9UcmVlTWVudS50cyIsICJzcmMvY29tcG9uZW50cy9DaGVja2JveC50cyJdLAogICJzb3VyY2VzQ29udGVudCI6IFsiaW1wb3J0IHsgQXBwLCBQbHVnaW4sIFBsdWdpblNldHRpbmdUYWIsIFNldHRpbmcgfSBmcm9tICdvYnNpZGlhbic7XG5pbXBvcnQgeyBHZW5lcmF0ZU1hcmtkb3duLCBWSUVXX0NPTlRFTlRfQ09NUE9TRV9OT1RFUyB9IGZyb20gJy4vc3JjL3ZpZXdzL2dlbmVyYXRlLW1hcmtkb3duJztcblxuZXhwb3J0IGludGVyZmFjZSBHZW5lcmF0ZU1hcmtkb3duUGx1Z2luU2V0dGluZ3NUeXBlIHtcblx0bGlzdE9mTGlua3NLZXl3b3JkOiBzdHJpbmc7XG5cdGxpdGVyYXR1cmVOb3RlOiBzdHJpbmc7XG59XG5cbmNvbnN0IERFRkFVTFRfU0VUVElOR1M6IEdlbmVyYXRlTWFya2Rvd25QbHVnaW5TZXR0aW5nc1R5cGUgPSB7XG5cdGxpc3RPZkxpbmtzS2V5d29yZDogJ0thbSBkXHUwMEUxbCcsXG5cdGxpdGVyYXR1cmVOb3RlOiAnTGl0ZXJhdHVyZSdcbn1cblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgR2VuZXJhdGVNYXJrZG93blBsdWdpbiBleHRlbmRzIFBsdWdpbiB7XG5cdHNldHRpbmdzOiBHZW5lcmF0ZU1hcmtkb3duUGx1Z2luU2V0dGluZ3NUeXBlO1xuXG5cdGFzeW5jIG9ubG9hZCgpIHtcblx0XHRhd2FpdCB0aGlzLmxvYWRTZXR0aW5ncygpO1xuXG5cdFx0dGhpcy5hZGRTZXR0aW5nVGFiKG5ldyBHZW5lcmF0ZU1hcmtkb3duUGx1Z2luU2V0dGluZ1RhYih0aGlzLmFwcCwgdGhpcykpO1x0XG5cblx0XHR0aGlzLnJlZ2lzdGVyVmlldyhcblx0XHRcdFZJRVdfQ09OVEVOVF9DT01QT1NFX05PVEVTLFxuXHRcdFx0KGxlYWYpID0+IG5ldyBHZW5lcmF0ZU1hcmtkb3duKGxlYWYsIHRoaXMuc2V0dGluZ3MpXG5cdFx0KTtcblx0XHRcblx0XHR0aGlzLmFkZFJpYmJvbkljb24oXCJzY3JvbGxcIiwgXCJOb3Rlc01lcmdlclwiLCAoKSA9PiB7XG5cdFx0XHR0aGlzLmFjdGl2YXRlR2VuZXJhdGVNYXJrZG93blZpZXcoKTtcblx0XHR9KTtcblx0fVxuXG5cdGFzeW5jIGFjdGl2YXRlR2VuZXJhdGVNYXJrZG93blZpZXcoKSB7XG5cdFx0YXdhaXQgdGhpcy5hcHAud29ya3NwYWNlLmdldFJpZ2h0TGVhZihmYWxzZSkuc2V0Vmlld1N0YXRlKHtcblx0XHQgIHR5cGU6IFZJRVdfQ09OVEVOVF9DT01QT1NFX05PVEVTLFxuXHRcdCAgYWN0aXZlOiB0cnVlLFxuXHRcdH0pO1xuXHRcblx0XHR0aGlzLmFwcC53b3Jrc3BhY2UucmV2ZWFsTGVhZihcblx0XHQgIHRoaXMuYXBwLndvcmtzcGFjZS5nZXRMZWF2ZXNPZlR5cGUoVklFV19DT05URU5UX0NPTVBPU0VfTk9URVMpWzBdXG5cdFx0KTtcblx0fVxuXG5cdG9udW5sb2FkKCkge1xuXHR9XG5cblx0YXN5bmMgbG9hZFNldHRpbmdzKCkge1xuXHRcdHRoaXMuc2V0dGluZ3MgPSBPYmplY3QuYXNzaWduKHt9LCBERUZBVUxUX1NFVFRJTkdTLCBhd2FpdCB0aGlzLmxvYWREYXRhKCkpO1xuXHR9XG5cblx0YXN5bmMgc2F2ZVNldHRpbmdzKCkge1xuXHRcdGF3YWl0IHRoaXMuc2F2ZURhdGEodGhpcy5zZXR0aW5ncyk7XG5cdH1cbn1cblxuY2xhc3MgR2VuZXJhdGVNYXJrZG93blBsdWdpblNldHRpbmdUYWIgZXh0ZW5kcyBQbHVnaW5TZXR0aW5nVGFiIHtcblx0cGx1Z2luOiBHZW5lcmF0ZU1hcmtkb3duUGx1Z2luO1xuXG5cdGNvbnN0cnVjdG9yKGFwcDogQXBwLCBwbHVnaW46IEdlbmVyYXRlTWFya2Rvd25QbHVnaW4pIHtcblx0XHRzdXBlcihhcHAsIHBsdWdpbik7XG5cdFx0dGhpcy5wbHVnaW4gPSBwbHVnaW47XG5cdH1cblxuXHRkaXNwbGF5KCk6IHZvaWQge1xuXG5cdFx0Y29uc3QgeyBjb250YWluZXJFbCB9ID0gdGhpcztcblxuXHRcdGNvbnRhaW5lckVsLmVtcHR5KCk7XG5cdFx0XG5cdFx0bmV3IFNldHRpbmcoY29udGFpbmVyRWwpXG5cdFx0XHQuc2V0TmFtZSgnTGlzdCBvZiBsaW5rcyBrZXl3b3JkJylcblx0XHRcdC5zZXREZXNjKCdLZXl3b3JkIHRvIGRldGVjdCBsaXN0IG9mIGxpbmtzIGF0IHRoZSBlbmQgb2Ygbm90ZScpXG5cdFx0XHQuYWRkVGV4dCh0ZXh0ID0+IHRleHRcblx0XHRcdFx0LnNldFBsYWNlaG9sZGVyKCdEZWZhdWx0cyB0byBcIkthbSBkXHUwMEUxbFwiJylcblx0XHRcdFx0LnNldFZhbHVlKHRoaXMucGx1Z2luLnNldHRpbmdzLmxpc3RPZkxpbmtzS2V5d29yZClcblx0XHRcdFx0Lm9uQ2hhbmdlKGFzeW5jICh2YWx1ZSkgPT4ge1xuXHRcdFx0XHRcdHRoaXMucGx1Z2luLnNldHRpbmdzLmxpc3RPZkxpbmtzS2V5d29yZCA9IHZhbHVlO1xuXHRcdFx0XHRcdGF3YWl0IHRoaXMucGx1Z2luLnNhdmVTZXR0aW5ncygpO1xuXHRcdFx0XHR9KSk7XG5cblx0XHRuZXcgU2V0dGluZyhjb250YWluZXJFbClcblx0XHQuc2V0TmFtZSgnTGl0ZXJhdHVyZSBub3RlJylcblx0XHQuc2V0RGVzYygnTmFtZSBvZiBub3RlIHdpdGggY2l0YXRpb25zJylcblx0XHQuYWRkVGV4dCh0ZXh0ID0+IHRleHRcblx0XHRcdC5zZXRQbGFjZWhvbGRlcignRGVmYXVsdHMgdG8gXCJMaXRlcmF0dXJlXCInKVxuXHRcdFx0LnNldFZhbHVlKHRoaXMucGx1Z2luLnNldHRpbmdzLmxpdGVyYXR1cmVOb3RlKVxuXHRcdFx0Lm9uQ2hhbmdlKGFzeW5jICh2YWx1ZSkgPT4ge1xuXHRcdFx0XHR0aGlzLnBsdWdpbi5zZXR0aW5ncy5saXRlcmF0dXJlTm90ZSA9IHZhbHVlO1xuXHRcdFx0XHRhd2FpdCB0aGlzLnBsdWdpbi5zYXZlU2V0dGluZ3MoKTtcblx0XHRcdH0pKTtcblx0fVxufVxuIiwgImltcG9ydCB7IEl0ZW1WaWV3LCBXb3Jrc3BhY2VMZWFmLCBOb3RpY2UsIFRBYnN0cmFjdEZpbGUsIFRGaWxlLCBBcHAgfSBmcm9tIFwib2JzaWRpYW5cIjtcbmltcG9ydCB7IGZpeFNwYWNlSW5OYW1lLCBnZXROb3RlQnlOYW1lIH0gZnJvbSAnLi4vdXRpbHMnO1xuXG5pbXBvcnQgeyBHZW5lcmF0ZU1hcmtkb3duUGx1Z2luU2V0dGluZ3NUeXBlIH0gZnJvbSAnLi4vLi4vbWFpbic7XG5cbmltcG9ydCB7XG5cdEJ1dHRvbiwgXG5cdEJhc2VMaW5rLFxuXHRTYXZlTW9kYWwsIFxuXHRUcmVlTWVudSxcbn0gZnJvbSAnLi4vY29tcG9uZW50cy9pbmRleCc7XG5cblxuZXhwb3J0IGNvbnN0IFZJRVdfQ09OVEVOVF9DT01QT1NFX05PVEVTID0gXCJ2aWV3LWdlbmVyYXRlLW1hcmtkb3duXCI7XG5cblxuZXhwb3J0IGludGVyZmFjZSBMaW5rVHJlZVR5cGUge1xuXHRuYW1lOiBzdHJpbmc7XG5cdHBhcmVudD86IHN0cmluZyB8IHVuZGVmaW5lZDtcblx0Y2hpbGRyZW46IExpbmtUcmVlVHlwZVtdO1xuXHRpbmRleDogYm9vbGVhbjtcblx0ZXhpc3RzOiBib29sZWFuO1xuXHRpbmxpbmU6IGJvb2xlYW47XG5cdGxldmVsPzogbnVtYmVyO1xuXHRvcmRlcj86IG51bWJlcjtcblx0cGF0aDogc3RyaW5nO1xufVxuXG5pbnRlcmZhY2UgQnVpbGRMaW5rVHJlZVR5cGUgZXh0ZW5kcyBMaW5rVHJlZVR5cGV7XG5cdHBhcmVudFJlZj86IEJ1aWxkTGlua1RyZWVUeXBlO1xufVxuXG5leHBvcnQgY2xhc3MgR2VuZXJhdGVNYXJrZG93biBleHRlbmRzIEl0ZW1WaWV3IHtcblx0XG5cdHNldHRpbmdzOiBHZW5lcmF0ZU1hcmtkb3duUGx1Z2luU2V0dGluZ3NUeXBlO1xuXG5cdGNvbnRhaW5lcjogRWxlbWVudDtcblx0dG9vbGJhcjogRWxlbWVudDtcblx0c3RydWN0dXJlOiBFbGVtZW50O1xuXHRnZW5lcmF0ZVByZXZpZXdQYXJlbnQ6IEVsZW1lbnQ7XG5cdGdlbmVyYXRlTWFya2Rvd25QYXJlbnQ6IEVsZW1lbnQ7XG5cblx0bGlua3NUcmVlOiBMaW5rVHJlZVR5cGVbXSA9IFtdO1xuXHRsb2FkZWRGaWxlczogVEFic3RyYWN0RmlsZVtdID0gW107XG5cdG1heExldmVsOiBudW1iZXIgPSAwO1xuXHRwcm9jZXNzZWQ6IHN0cmluZ1tdID0gW107XG5cdG1haW5OYW1lTGlua3M6IHN0cmluZ1tdID0gW107XG5cblx0bWFya2Rvd246IHN0cmluZyA9IFwiXCI7XG5cdGlnbm9yZWRMaW5rczogc3RyaW5nW10gPSBbXTtcblx0aW1hZ2VzOiBzdHJpbmdbXSA9IFtdO1xuXG5cdHByb21pc2VzOiBhbnkgPSBbXTtcblxuXHRzdGF0aWMgaW1hZ2VUeXBlcyA9IFsnanBnJywgJ2pwZWcnLCAncG5nJywgJ2dpZicsICd3ZWJwJywgJ3RpZmYnLCAnYm1wJ10ubWFwKChpdDogc3RyaW5nKSA9PiBgLiR7aXR9YCk7XG5cblx0Y29uc3RydWN0b3IobGVhZjogV29ya3NwYWNlTGVhZiwgc2V0dGluZ3M6IEdlbmVyYXRlTWFya2Rvd25QbHVnaW5TZXR0aW5nc1R5cGUpIHtcblx0XHRzdXBlcihsZWFmKTtcblx0XHR0aGlzLnNldHRpbmdzID0gc2V0dGluZ3M7XG5cdH1cblxuXHRhc3luYyBvbk9wZW4oKSB7XG5cdFx0Y29uc3QgY29udGFpbmVyID0gdGhpcy5jb250YWluZXJFbC5jaGlsZHJlblsxXTtcblxuXHRcdHRoaXMuY29udGFpbmVyID0gY29udGFpbmVyO1xuXHRcdGNvbnRhaW5lci5lbXB0eSgpO1xuXG5cdFx0dGhpcy50b29sYmFyID0gY29udGFpbmVyLmNyZWF0ZUVsKFwiZGl2XCIpO1xuXHRcdHRoaXMuZ2VuZXJhdGVQcmV2aWV3UGFyZW50ID0gdGhpcy50b29sYmFyLmNyZWF0ZUVsKCdzcGFuJyk7XG5cdFx0dGhpcy5nZW5lcmF0ZU1hcmtkb3duUGFyZW50ID0gdGhpcy50b29sYmFyLmNyZWF0ZUVsKCdzcGFuJyk7XG5cdFx0dGhpcy5zdHJ1Y3R1cmUgPSB0aGlzLmNvbnRhaW5lci5jcmVhdGVFbChcImRpdlwiKTtcblxuXHRcdG5ldyBCdXR0b24odGhpcy5nZW5lcmF0ZVByZXZpZXdQYXJlbnQsICdHZW5lcmF0ZSBwcmV2aWV3JywgKCkgPT4ge1xuXHRcdFx0Ly8gZW1wdHkgc3RhdGVcblx0XHRcdHRoaXMubGlua3NUcmVlID0gW107XG5cdFx0XHR0aGlzLm1heExldmVsID0gMDtcblx0XHRcdHRoaXMucHJvY2Vzc2VkID0gW107XG5cdFx0XHR0aGlzLm1haW5OYW1lTGlua3MgPSBbXTtcblx0XHRcdHRoaXMuaWdub3JlZExpbmtzID0gW107XG5cdFx0XHR0aGlzLm1hcmtkb3duID0gXCJcIjtcblx0XHRcdFxuXHRcdFx0dGhpcy5zdHJ1Y3R1cmUuZW1wdHkoKTtcblx0XHRcdHRoaXMuZ2VuZXJhdGVNYXJrZG93blBhcmVudC5lbXB0eSgpO1xuXHRcdFx0dGhpcy5yZWFkU2VsZWN0ZWROb3RlKCk7XG5cdFx0fSk7XG5cdH1cblxuXHRwYXJzZUxpbmtzKHRleHQ6IHN0cmluZywgaW5kZXg6IGJvb2xlYW4gPSBmYWxzZSkge1xuXHRcdGNvbnN0IGxpbmtzID0gdGV4dC5tYXRjaEFsbCgvXFxbXFxbKC4qPylcXF1cXF0vZyk7XG5cdFx0bGV0IGNsZWFuTGlua3MgPSBbLi4ubGlua3NdLm1hcChsID0+IGxbMV0pO1xuXG5cdFx0Y2xlYW5MaW5rcyA9IFsuLi5uZXcgU2V0KGNsZWFuTGlua3MpXTtcblxuXHRcdC8vIGZpbHRlciBvdXQgYW5jaG9yIGxpbmtzIChbWyNmb29iYXJdXSlcblx0XHRjbGVhbkxpbmtzID0gY2xlYW5MaW5rcy5maWx0ZXIoY2wgPT4gIWNsLnN0YXJ0c1dpdGgoJyMnKSk7XG5cdFx0XG5cdFx0Y2xlYW5MaW5rcyA9IGNsZWFuTGlua3MuZmlsdGVyKGNsID0+ICFjbC5zdGFydHNXaXRoKGAke3RoaXMuc2V0dGluZ3MubGl0ZXJhdHVyZU5vdGV9I2ApKTtcblxuXHRcdGNvbnN0IGV4aXN0aW5nTm90ZXMgPSBjbGVhbkxpbmtzLm1hcCgoY2w6IHN0cmluZykgPT4ge1xuXHRcdFx0Y2wgPSBmaXhTcGFjZUluTmFtZShjbCk7XG5cblx0XHRcdGlmICghIUdlbmVyYXRlTWFya2Rvd24uaW1hZ2VUeXBlcy5maWx0ZXIoKGl0OiBzdHJpbmcpID0+IGNsLmluY2x1ZGVzKGl0LnRvTG93ZXJDYXNlKCkpKS5sZW5ndGgpIHtcblx0XHRcdFx0dGhpcy5pbWFnZXMucHVzaChjbClcblx0XHRcdFx0cmV0dXJuIGZhbHNlO1xuXHRcdFx0fVxuXG5cdFx0XHRsZXQgaXNJbmxpbmUgPSB0cnVlO1x0XHRcdFxuXHRcdFx0aWYgKHRleHQuaW5jbHVkZXModGhpcy5zZXR0aW5ncy5saXN0T2ZMaW5rc0tleXdvcmQpKSB7XG5cdFx0XHRcdGxldCBbaW5saW5lVGV4dCwgbGlua3NUZXh0XSA9IHRleHQuc3BsaXQodGhpcy5zZXR0aW5ncy5saXN0T2ZMaW5rc0tleXdvcmQpO1xuXHRcdFx0XHRpZiAoIWlubGluZVRleHQuaW5jbHVkZXMoY2wpKVxuXHRcdFx0XHRcdGlzSW5saW5lID0gZmFsc2U7XG5cdFx0XHR9XG5cblx0XHRcdGxldCBpc0luZGV4ID0gZmFsc2U7XG5cdFx0XHRpZiAoaW5kZXgpIHtcblx0XHRcdFx0aXNJbmxpbmUgPSBmYWxzZTtcblx0XHRcdFx0aXNJbmRleCA9IHRydWU7XG5cdFx0XHR9XG5cblx0XHRcdGNvbnN0IG5vdGUgPSB0aGlzLmxvYWRlZEZpbGVzLmZpbmQoKGY6IFRGaWxlKSA9PiBmWydiYXNlbmFtZSddID09PSBjbCk7XG5cblx0XHRcdHJldHVybiB7XG5cdFx0XHRcdG5hbWU6IGNsLFxuXHRcdFx0XHRleGlzdHM6ICEhbm90ZSxcdFxuXHRcdFx0XHRpbmxpbmU6IGlzSW5saW5lLFxuXHRcdFx0XHRpbmRleDogaXNJbmRleCxcblx0XHRcdFx0cGF0aDogbm90ZT8ucGF0aFxuXHRcdFx0fTtcblx0XHR9KS5maWx0ZXIoQm9vbGVhbik7XG5cblx0XHRyZXR1cm4gZXhpc3RpbmdOb3RlcyBhcyBMaW5rVHJlZVR5cGVbXTtcblx0fVxuXG5cdGFzeW5jIHJlYWRTZWxlY3RlZE5vdGUoKSB7XG5cdFx0dGhpcy5sb2FkZWRGaWxlcyA9IGFwcC52YXVsdC5nZXRNYXJrZG93bkZpbGVzKCk7XG5cblx0XHRjb25zdCBhY3RpdmVOb3RlID0gdGhpcy5hcHAud29ya3NwYWNlLmdldEFjdGl2ZUZpbGUoKTtcblxuXHRcdGlmICghYWN0aXZlTm90ZSkge1xuXHRcdFx0bmV3IE5vdGljZShgU2VsZWN0ZWQgbm90ZSBpcyBpbnZhbGlkLmApO1xuXHRcdFx0dGhyb3cgbmV3IEVycm9yKFwiU2VsZWN0ZWQgbm90ZSBpcyBpbnZhbGlkLlwiKTtcblx0XHR9XG5cdFx0Y29uc3QgYWN0aXZlTm90ZVRleHQgPSBhd2FpdCBnZXROb3RlQnlOYW1lKHRoaXMuYXBwLCBhY3RpdmVOb3RlLnBhdGgpO1xuXG5cdFx0Y29uc3QgbWFpbkNvbnRlbnRMaW5rcyA9IHRoaXMucGFyc2VMaW5rcyhhY3RpdmVOb3RlVGV4dCwgdHJ1ZSk7XG5cdFx0XG5cdFx0dGhpcy5tYWluTmFtZUxpbmtzID0gbWFpbkNvbnRlbnRMaW5rcy5tYXAoKGw6IExpbmtUcmVlVHlwZSkgPT4gbC5uYW1lKTtcblxuXHRcdHRoaXMubGlua3NUcmVlID0gYXdhaXQgdGhpcy5nZW5lcmF0ZU5vdGVzSGllcmFyY2h5KG1haW5Db250ZW50TGlua3MpO1xuXG5cdFx0Y29uc3QgdGl0bGUgPSBhY3RpdmVOb3RlLmJhc2VuYW1lO1xuXHRcdG5ldyBCYXNlTGluayh0aGlzLmFwcCwgdGhpcy5zdHJ1Y3R1cmUsIHRpdGxlKTtcblxuXHRcdG5ldyBUcmVlTWVudSh0aGlzLmFwcCwgdGhpcy5zdHJ1Y3R1cmUsIHRoaXMubGlua3NUcmVlLCAoaWdub3JlZExpbmtzOiBzdHJpbmdbXSkgPT4ge1xuXHRcdFx0dGhpcy5pZ25vcmVkTGlua3MgPSBpZ25vcmVkTGlua3M7XG5cdFx0fSk7XG5cblx0XHRuZXcgQnV0dG9uKHRoaXMuZ2VuZXJhdGVNYXJrZG93blBhcmVudCwgJ0dlbmVyYXRlIG1hcmtkb3duJywgKCkgPT4ge1xuXHRcdFx0XG5cdFx0XHQvLyBjbGVhbnVwXG5cdFx0XHR0aGlzLm1hcmtkb3duID0gXCJcIjtcblxuXHRcdFx0dGhpcy5nZW5lcmF0ZU1hcmtkb3duRmlsZSh0aGlzLmxpbmtzVHJlZSwgYWN0aXZlTm90ZVRleHQpO1xuXHRcdH0sIHsgY2xzOiAnZ2VuZXJhdGUtbWFya2Rvd24tYnRuJyB9KTtcblx0fVxuXG5cdGdlbmVyYXRlTWFya2Rvd25GaWxlKGxpbmtzOiBMaW5rVHJlZVR5cGVbXSwgbWFpbk5vdGU6IHN0cmluZykge1xuXHRcdHRoaXMuY29tcG9zZU1hcmtkb3duKGxpbmtzKTtcblxuXHRcdC8vIHRyYW5zZm9ybSBsaW5rcyB0byBhbmNob3IgaW4gaW5kZXggbm90ZSBcblx0XHR0aGlzLm1haW5OYW1lTGlua3MuZm9yRWFjaCgobW5sOiBzdHJpbmcpID0+IHtcblxuXHRcdFx0bW5sID0gZml4U3BhY2VJbk5hbWUobW5sKTtcblx0XHRcdG1haW5Ob3RlID0gbWFpbk5vdGUucmVwbGFjZUFsbChgW1ske21ubH1dXWAsIGBbWyMke21ubH1dXWApXG5cdFx0fSk7XG5cblx0XHR0aGlzLm1hcmtkb3duID0gbWFpbk5vdGUgKyB0aGlzLm1hcmtkb3duO1xuXG5cdFx0bmV3IFNhdmVNb2RhbCh0aGlzLmFwcCwgYXN5bmMgKGZpbGVOYW1lKSA9PiB7XG5cdFx0XHRhd2FpdCB0aGlzLmFwcC52YXVsdC5hZGFwdGVyLndyaXRlKGAke2ZpbGVOYW1lfS5tZGAsIHRoaXMubWFya2Rvd24pXG5cdFx0XHRuZXcgTm90aWNlKGBOb3RlICR7ZmlsZU5hbWV9IGNyZWF0ZWQgc3VjY2Vzc2Z1bGx5YCk7XG5cdFx0XHR0aGlzLmFwcC53b3Jrc3BhY2Uub3BlbkxpbmtUZXh0KGAke2ZpbGVOYW1lfS5tZGAsIFwiXCIpXG5cdFx0XHRcblx0XHR9KS5vcGVuKCk7XG5cdFx0XG5cdH1cblxuXHRjb21wb3NlTWFya2Rvd24obGlua3M6IExpbmtUcmVlVHlwZVtdKSB7XG5cdFx0bGlua3MuZm9yRWFjaChhc3luYyAobGluazogTGlua1RyZWVUeXBlKSA9PiB7XG5cdFx0XHRsZXQgbm90ZSA9IGF3YWl0IGdldE5vdGVCeU5hbWUodGhpcy5hcHAsIGxpbmsucGF0aCk7XG5cdFx0XHRjb25zdCBsb2NhbExpbmtzID0gdGhpcy5wYXJzZUxpbmtzKG5vdGUpO1xuXG5cdFx0XHRjb25zb2xlLmxvZyhsb2NhbExpbmtzKTtcblxuXHRcdFx0aWYgKHRoaXMuaWdub3JlZExpbmtzLmluY2x1ZGVzKGxpbmsubmFtZSkpXG5cdFx0XHRcdHJldHVybjtcblxuXHRcdFx0Ly8gdHJpbSBlbnRlcnMgYW5kIHNwYWNlc1xuXHRcdFx0bm90ZSA9IG5vdGUudHJpbSgpO1xuXG5cdFx0XHRpZiAobm90ZS5sZW5ndGggPT0gMClcblx0XHRcdFx0cmV0dXJuO1xuXG5cdFx0XHQvLyB0cmFuc2Zvcm0gbGlua3MgdG8gYW5jaG9yc1xuXHRcdFx0bG9jYWxMaW5rcy5mb3JFYWNoKChsb2NhbExpbms6IExpbmtUcmVlVHlwZSkgPT4ge1xuXHRcdFx0XHRpZiAobG9jYWxMaW5rLmlubGluZSAmJiB0aGlzLmlnbm9yZWRMaW5rcy5pbmNsdWRlcyhsb2NhbExpbmsubmFtZSkpXG5cdFx0XHRcdFx0bm90ZSA9IG5vdGUucmVwbGFjZUFsbChgW1ske2xvY2FsTGluay5uYW1lfV1dYCwgbG9jYWxMaW5rLm5hbWUpO1xuXHRcdFx0XHRlbHNlXG5cdFx0XHRcdFx0bm90ZSA9IG5vdGUucmVwbGFjZUFsbChgW1ske2xvY2FsTGluay5uYW1lfV1dYCwgYFtbIyR7bG9jYWxMaW5rLm5hbWV9XV1gKVxuXHRcdFx0fSlcblxuXHRcdFx0Ly8gcmVtb3ZlIHRpdGxlIG9uIGEgZmlyc3QgbGluZVxuXHRcdFx0bGV0IG5vdGVSb3dzID0gbm90ZS5zcGxpdCgnXFxuJyk7XG5cdFx0XHRsZXQgZmlyc3RSb3cgPSBmaXhTcGFjZUluTmFtZShub3RlUm93c1swXSk7XG5cdFx0XHRpZiAoZmlyc3RSb3cuaW5jbHVkZXMoYCMgJHtsaW5rLm5hbWV9YCkpIHtcblx0XHRcdFx0bm90ZVJvd3Muc2hpZnQoKTtcblx0XHRcdFx0bm90ZSA9IG5vdGVSb3dzLmpvaW4oXCJcXG5cIikudHJpbSgpO1xuXHRcdFx0fVxuXHRcdFx0XG5cdFx0XHQvLyByZW1vdmUgJ0thbSBkXHUwMEUxbCcgcGFydFxuXHRcdFx0aWYgKG5vdGUuaW5jbHVkZXModGhpcy5zZXR0aW5ncy5saXN0T2ZMaW5rc0tleXdvcmQpKSB7XG5cdFx0XHRcdGxldCBbaW1wb3J0YW50UGFydCwgZW5kUGFydF0gPSBub3RlLnNwbGl0KHRoaXMuc2V0dGluZ3MubGlzdE9mTGlua3NLZXl3b3JkKTtcblx0XHRcdFx0bm90ZSA9IGltcG9ydGFudFBhcnQudHJpbSgpO1xuXHRcdFx0fVxuXHRcdFx0XG5cdFx0XHQvLyBnZW5lcmF0ZSBuZXN0ZWQgdGl0bGUgZS5nLiBoMyAtPiAjIyMgdGl0bGUzXG5cdFx0XHRsZXQgdGl0bGUgPSBcIlwiO1xuXHRcdFx0aWYgKGxpbmsuaW5saW5lKSB7XG5cdFx0XHRcdC8vIGg1XG5cdFx0XHRcdHRpdGxlID0gYCMjIyMjICR7bGluay5uYW1lfWA7XG5cdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRjb25zdCBuZXN0ZWRMZXZlbCA9IEFycmF5KGxpbmsubGV2ZWwpLmZpbGwoJyMnKS5qb2luKCcnKTtcblx0XHRcdFx0dGl0bGUgPSBgJHtuZXN0ZWRMZXZlbH0gJHtsaW5rLm5hbWV9YDtcblx0XHRcdH1cblxuXHRcdFx0bm90ZSA9IGBcXG5cXG4ke3RpdGxlfVxcbiR7bm90ZX1gO1xuXG5cdFx0XHQvLyBzaG91bGQgYmUgbGFzdFxuXHRcdFx0dGhpcy5tYXJrZG93biArPSBub3RlO1xuXG5cdFx0XHRpZiAoJ2NoaWxkcmVuJyBpbiBsaW5rKVxuXHRcdFx0XHR0aGlzLmNvbXBvc2VNYXJrZG93bihsaW5rLmNoaWxkcmVuKTtcblx0XHR9KTtcblx0fVxuXG5cdGFzeW5jIGdlbmVyYXRlTm90ZXNIaWVyYXJjaHkobGlua3M6IExpbmtUcmVlVHlwZVtdKSB7XG5cdFx0Y29uc3QgbGlua3NPYmo6IEJ1aWxkTGlua1RyZWVUeXBlID0gYXdhaXQgdGhpcy5kZnMobGlua3MsIDAsIFtdKTtcblx0XHRjb25zb2xlLmxvZyhsaW5rc09iaik7XG5cdFx0bGV0IGxpbmtzQXJyOiBMaW5rVHJlZVR5cGVbXSA9IFtdO1xuXHRcdFxuXHRcdE9iamVjdC5rZXlzKGxpbmtzT2JqKS5mb3JFYWNoKGtleSA9PiB7XG5cdFx0XHRjb25zdCB7cGFyZW50UmVmLCAuLi5yZXN0fSA9IGxpbmtzT2JqW2tleSBhcyBrZXlvZiBCdWlsZExpbmtUcmVlVHlwZV0gYXMgQnVpbGRMaW5rVHJlZVR5cGU7IFxuXHRcdFx0bGlua3NBcnIucHVzaCh7Li4ucmVzdCwgcGFyZW50OiAobGlua3NPYmpba2V5IGFzIGtleW9mIEJ1aWxkTGlua1RyZWVUeXBlXSBhcyBCdWlsZExpbmtUcmVlVHlwZSk/LnBhcmVudFJlZj8ubmFtZX0pO1xuXHRcdH0pO1xuXG5cdFx0Y29uc3QgZ2V0TmVzdGVkQ2hpbGRyZW4gPSAoYXJyOiBMaW5rVHJlZVR5cGVbXSwgcGFyZW50OiBzdHJpbmcgfCB1bmRlZmluZWQpID0+IHtcblx0XHRcdGxldCBjaGlsZHJlbiA9IFtdO1xuXHRcdFx0Zm9yKGxldCBpID0gMDsgaSA8IGFyci5sZW5ndGg7IGkrKykge1xuXHRcdFx0XHRpZihhcnJbaV0ucGFyZW50ID09IHBhcmVudCkge1xuXHRcdFx0XHRcdGNvbnN0IGdyYW5kQ2hpbGRyZW4gPSBnZXROZXN0ZWRDaGlsZHJlbihhcnIsIGFycltpXS5uYW1lKTtcblx0XHRcdFx0XHRpZihncmFuZENoaWxkcmVuLmxlbmd0aCkge1xuXHRcdFx0XHRcdFx0YXJyW2ldLmNoaWxkcmVuID0gZ3JhbmRDaGlsZHJlbjtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0Y2hpbGRyZW4ucHVzaChhcnJbaV0pO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0XHRyZXR1cm4gY2hpbGRyZW47XG5cdFx0fVxuXHRcdHJldHVybiBnZXROZXN0ZWRDaGlsZHJlbihsaW5rc0FyciwgdW5kZWZpbmVkKTtcblx0fVxuXG5cdGFzeW5jIGRmcyhsaW5rczogQnVpbGRMaW5rVHJlZVR5cGVbXSwgbGV2ZWw6IG51bWJlciwgcHJvY2Vzc2VkOiBzdHJpbmdbXSwgcGFyZW50UmVmPzogb2JqZWN0LCB0aXRsZU1hcHBpbmc/OiBvYmplY3QpIHtcblx0XHR0aXRsZU1hcHBpbmcgPSAodGl0bGVNYXBwaW5nIGFzIEJ1aWxkTGlua1RyZWVUeXBlKSA/PyB7fTsgXG5cblx0XHRmb3IgYXdhaXQgKGNvbnN0IFtvcmRlciwgbGlua10gb2YgbGlua3MuZW50cmllcygpKSB7XG5cblx0XHRcdC8vIHNraXAgbGluayBmcm9tIG1haW5Db250ZW50XG5cdFx0XHRpZiAodGhpcy5tYWluTmFtZUxpbmtzLmluY2x1ZGVzKGxpbmsubmFtZSkgJiYgbGV2ZWwgIT0gMClcblx0XHRcdFx0Y29udGludWU7XG5cblx0XHRcdC8vIHNraXAgaWYgbGluayBpcyBhbHJlYWR5IHByb2Nlc3NlZFxuXHRcdFx0aWYgKHByb2Nlc3NlZC5pbmNsdWRlcyhsaW5rLm5hbWUpKSB7XG5cdFx0XHRcdGNvbnRpbnVlO1xuXHRcdFx0fVxuXHRcdFx0cHJvY2Vzc2VkLnB1c2gobGluay5uYW1lKTtcblxuXHRcdFx0Y29uc3Qgbm90ZSA9IGF3YWl0IGdldE5vdGVCeU5hbWUodGhpcy5hcHAsIGxpbmsucGF0aClcblx0XHRcdGNvbnN0IHN1YkxpbmtzID0gdGhpcy5wYXJzZUxpbmtzKG5vdGUpO1xuXHRcdFxuXHRcdFx0dGhpcy5tYXhMZXZlbCA9IGxldmVsICsgMTtcblxuXHRcdFx0KHRpdGxlTWFwcGluZyBhcyBhbnkpW2xpbmsubmFtZV0gPSB7IC4uLmxpbmssIHBhcmVudFJlZiwgbGV2ZWw6IHRoaXMubWF4TGV2ZWwsIG9yZGVyfTtcblxuXHRcdFx0aWYgKGxpbmtzLmxlbmd0aCA+IDApXG5cdFx0XHRcdGF3YWl0IHRoaXMuZGZzKHN1YkxpbmtzLCB0aGlzLm1heExldmVsLCBwcm9jZXNzZWQsICh0aXRsZU1hcHBpbmcgYXMgYW55KVtsaW5rLm5hbWVdLCB0aXRsZU1hcHBpbmcpO1xuXHRcdH1cblxuXHRcdHJldHVybiB0aXRsZU1hcHBpbmcgYXMgQnVpbGRMaW5rVHJlZVR5cGU7XG5cdH1cblxuXHRhc3luYyBvbkNsb3NlKCkge1xuXHRcdC8vIE5vdGhpbmcgdG8gY2xlYW4gdXAuXG5cdH1cblxuXHRnZXRWaWV3VHlwZSgpIHtcblx0XHRyZXR1cm4gVklFV19DT05URU5UX0NPTVBPU0VfTk9URVM7XG5cdH1cblxuXHRnZXREaXNwbGF5VGV4dCgpIHtcblx0XHRyZXR1cm4gXCJOb3RlcyBNZXJnZXJcIjtcblx0fVxufVxuIiwgImltcG9ydCB7IFRGaWxlLCBBcHAgfSBmcm9tICdvYnNpZGlhbic7XG5cbmV4cG9ydCBjb25zdCBmaXhTcGFjZUluTmFtZSA9IChuYW1lOiBzdHJpbmcpID0+IHtcblx0cmV0dXJuIG5hbWUucmVwbGFjZSgvW1xcdTAwQTBcXHUxNjgwXFx1MTgwRVxcdTIwMDAtXFx1MjAwQlxcdTIwMkZcXHUyMDVGXFx1MzAwMFxcdUZFRkZdLywgXCIgXCIpLnRyaW0oKTtcbn1cblxuZXhwb3J0IGNvbnN0IGdldE5vdGVCeU5hbWUgPSBhc3luYyAoYXBwOiBBcHAsIHBhdGg6IHN0cmluZykgPT4ge1xuXHRjb25zdCBmaWxlID0gYXBwLnZhdWx0LmdldEFic3RyYWN0RmlsZUJ5UGF0aChwYXRoKTtcblxuXHRpZiAoIShmaWxlIGluc3RhbmNlb2YgVEZpbGUpKVxuXHRcdHJldHVybiBcIlwiO1x0XG5cblx0cmV0dXJuIGF3YWl0IGFwcC52YXVsdC5jYWNoZWRSZWFkKGZpbGUpO1xufVxuIiwgImV4cG9ydCBjbGFzcyBCdXR0b24ge1xyXG5cdGJ0bjogSFRNTEJ1dHRvbkVsZW1lbnQ7XHJcblxyXG5cdGNvbnN0cnVjdG9yKGVsZW1lbnQ6IEVsZW1lbnQsIHRleHQ6IHN0cmluZywgb25DbGljazogKGNvbnRleHQ6IEJ1dHRvbikgPT4gdm9pZCwgYXJncz86IG9iamVjdCkge1xyXG5cdFx0dGhpcy5idG4gPSBlbGVtZW50LmNyZWF0ZUVsKCdidXR0b24nLCB7IHRleHQsIC4uLmFyZ3MgfSk7XHJcblx0XHR0aGlzLmJ0bi5vbmNsaWNrID0gKCkgPT4ge1xyXG5cdFx0XHRvbkNsaWNrKHRoaXMpO1xyXG5cdFx0fTtcdFxyXG5cdFx0cmV0dXJuIHRoaXM7XHJcblx0fVxyXG59XHJcbiIsICJpbXBvcnQgeyBBcHAgfSBmcm9tIFwib2JzaWRpYW5cIjtcclxuaW1wb3J0IHsgTGlua1RyZWVUeXBlIH0gZnJvbSBcInNyYy92aWV3cy9nZW5lcmF0ZS1tYXJrZG93blwiO1xyXG5cclxuZXhwb3J0IGNsYXNzIEJhc2VMaW5rIHtcclxuXHRjb250ZXh0OiBBcHA7XHJcblx0ZWxlbWVudDogRWxlbWVudDtcclxuXHRuYW1lOiBzdHJpbmc7XHJcblxyXG5cdGNvbnN0cnVjdG9yKGNvbnRleHQ6IEFwcCwgZWxlbWVudDogRWxlbWVudCwgbmFtZTogc3RyaW5nKSB7XHJcblx0XHR0aGlzLmNvbnRleHQgPSBjb250ZXh0O1xyXG5cdFx0dGhpcy5lbGVtZW50ID0gZWxlbWVudDtcclxuXHRcdHRoaXMubmFtZSA9IG5hbWU7XHJcblxyXG5cdFx0dGhpcy5yZW5kZXIoKTtcclxuXHR9XHJcblxyXG5cdHJlbmRlcigpIHtcclxuXHRcdGNvbnN0IGhyZWZUaXRsZSA9IHRoaXMuZWxlbWVudC5jcmVhdGVFbCgnYScsIHsgdGV4dDogdGhpcy5uYW1lLCBjbHM6ICdjb250X190aXRsZScgfSk7XHJcblx0XHRocmVmVGl0bGUub25jbGljayA9ICgpID0+IHtcclxuXHRcdFx0dGhpcy5jb250ZXh0LndvcmtzcGFjZS5vcGVuTGlua1RleHQodGhpcy5uYW1lLCBcIlwiKTtcclxuXHRcdH1cclxuXHR9XHJcblxyXG59XHJcblxyXG4vLyBMaW5rIHdpdGggaW5uZXIgc3RhdGUgYW5kIGhlbHBlciBmbmNzXHJcbmV4cG9ydCBjbGFzcyBMaW5rIHtcclxuXHJcblx0Y29udGV4dDogQXBwO1xyXG5cdGE6IEhUTUxFbGVtZW50O1xyXG5cdGxpbms6IExpbmtUcmVlVHlwZTtcclxuXHRlbGVtZW50OiBFbGVtZW50O1xyXG5cdHRvZ2dsZWRTdGF0ZTogYm9vbGVhbiA9IGZhbHNlO1xyXG5cclxuXHRjb25zdHJ1Y3Rvcihjb250ZXh0OiBBcHAsIGVsZW1lbnQ6IEVsZW1lbnQsIGxpbms6IExpbmtUcmVlVHlwZSwgcmVuZGVyTm93OiBib29sZWFuID0gdHJ1ZSkge1xyXG5cdFx0dGhpcy5saW5rID0gbGluaztcclxuXHRcdHRoaXMuY29udGV4dCA9IGNvbnRleHQ7XHJcblx0XHR0aGlzLmVsZW1lbnQgPSBlbGVtZW50O1xyXG5cclxuXHRcdGlmIChyZW5kZXJOb3cpXHJcblx0XHRcdHRoaXMucmVuZGVyKGZhbHNlKTtcclxuXHJcblx0XHRyZXR1cm4gdGhpcztcclxuXHR9XHJcblxyXG5cdHJlbmRlcihzdGF0ZTogYm9vbGVhbikge1xyXG5cdFx0dGhpcy5hID0gdGhpcy5lbGVtZW50LmNyZWF0ZUVsKCdhJywgeyB0ZXh0OiB0aGlzLmxpbmsubmFtZSwgY2xzOiBcImxpbmtcIiB9KTtcclxuXHRcdCF0aGlzLmxpbmsuZXhpc3RzICYmIHRoaXMuYS5hZGRDbGFzcyhcImNvbnRfX2xpbmstbm90LWV4aXN0XCIpO1xyXG5cdFx0dGhpcy5saW5rLmlubGluZSAmJiB0aGlzLmEuYWRkQ2xhc3MoXCJpbmxpbmVcIik7XHJcblx0XHR0aGlzLmEub25jbGljayA9ICgpID0+IHtcclxuXHRcdFx0dGhpcy5jb250ZXh0LndvcmtzcGFjZS5vcGVuTGlua1RleHQodGhpcy5saW5rLm5hbWUsIFwiXCIpO1xyXG5cdFx0XHQhdGhpcy5saW5rLmV4aXN0cyAmJiB0aGlzLmEucmVtb3ZlQ2xhc3MoXCJjb250X19saW5rLW5vdC1leGlzdFwiKTtcclxuXHRcdH07XHJcblxyXG5cdFx0dGhpcy50b2dnbGUoc3RhdGUpO1xyXG5cdH1cclxuXHJcblx0dG9nZ2xlKHN0YXRlOiBib29sZWFuKSB7XHJcblx0XHRpZiAoc3RhdGUpXHJcblx0XHRcdHRoaXMuYS5yZW1vdmVDbGFzcygnc3RyaWtldGhyb3VnaCcpO1xyXG5cdFx0ZWxzZVxyXG5cdFx0XHR0aGlzLmEuYWRkQ2xhc3MoJ3N0cmlrZXRocm91Z2gnKTtcclxuXHR9XHJcbn1cclxuIiwgImltcG9ydCB7IEFwcCwgTW9kYWwsIFNldHRpbmcgfSBmcm9tIFwib2JzaWRpYW5cIjtcclxuXHJcbmV4cG9ydCBjbGFzcyBTYXZlTW9kYWwgZXh0ZW5kcyBNb2RhbCB7XHJcbiAgcmVzdWx0OiBzdHJpbmc7XHJcbiAgb25TdWJtaXQ6IChyZXN1bHQ6IHN0cmluZykgPT4gdm9pZDtcclxuXHJcbiAgY29uc3RydWN0b3IoYXBwOiBBcHAsIG9uU3VibWl0OiAocmVzdWx0OiBzdHJpbmcpID0+IHZvaWQpIHtcclxuICAgIHN1cGVyKGFwcCk7XHJcbiAgICB0aGlzLm9uU3VibWl0ID0gb25TdWJtaXQ7XHJcbiAgfVxyXG5cclxuICBvbk9wZW4oKSB7XHJcbiAgICBjb25zdCB7IGNvbnRlbnRFbCB9ID0gdGhpcztcclxuXHJcbiAgICBjb250ZW50RWwuY3JlYXRlRWwoXCJoMVwiLCB7IHRleHQ6IFwiU2F2ZSBhc1wiIH0pO1xyXG5cclxuICAgIG5ldyBTZXR0aW5nKGNvbnRlbnRFbClcclxuICAgICAgLnNldE5hbWUoXCJGaWxlIG5hbWU6IFwiKVxyXG4gICAgICAuYWRkVGV4dCgodGV4dCkgPT5cclxuICAgICAgICB0ZXh0Lm9uQ2hhbmdlKCh2YWx1ZSkgPT4ge1xyXG4gICAgICAgICAgdGhpcy5yZXN1bHQgPSB2YWx1ZVxyXG4gICAgICAgIH0pKTtcclxuXHJcbiAgICBuZXcgU2V0dGluZyhjb250ZW50RWwpXHJcbiAgICAgIC5hZGRCdXR0b24oKGJ0bikgPT5cclxuICAgICAgICBidG5cclxuICAgICAgICAgIC5zZXRCdXR0b25UZXh0KFwiR2VuZXJhdGUgbWFya2Rvd24gbm90ZVwiKVxyXG4gICAgICAgICAgLnNldEN0YSgpXHJcbiAgICAgICAgICAub25DbGljaygoKSA9PiB7XHJcbiAgICAgICAgICAgIHRoaXMuY2xvc2UoKTtcclxuICAgICAgICAgICAgdGhpcy5vblN1Ym1pdCh0aGlzLnJlc3VsdCk7XHJcbiAgICAgICAgICB9KSk7XHJcbiAgfVxyXG5cclxuICBvbkNsb3NlKCkge1xyXG4gICAgbGV0IHsgY29udGVudEVsIH0gPSB0aGlzO1xyXG4gICAgY29udGVudEVsLmVtcHR5KCk7XHJcbiAgfVxyXG59XHJcbiIsICJpbXBvcnQgeyBBcHAgfSBmcm9tICdvYnNpZGlhbic7XG5pbXBvcnQgeyBMaW5rVHJlZVR5cGUgfSBmcm9tICcuLi92aWV3cy9nZW5lcmF0ZS1tYXJrZG93bic7XG5pbXBvcnQge1xuXHRMaW5rLCBDaGVja2JveFxufSBmcm9tICcuL2luZGV4JztcblxuXG5mdW5jdGlvbiBmbGF0dGVuQ2hpbGRyZW4obGluazogTGlua1RyZWVUeXBlLCBjaGlsZHJlbjogc3RyaW5nW10pIHtcblx0aWYgKCdjaGlsZHJlbicgaW4gbGluaykge1xuXHRcdGNvbnN0IGNoaWxkcmVuTGlua05hbWVzID0gbGluay5jaGlsZHJlbi5tYXAoKGw6IExpbmtUcmVlVHlwZSkgPT4gbC5uYW1lKTsgXG5cdFx0Y2hpbGRyZW4ucHVzaCguLi5jaGlsZHJlbkxpbmtOYW1lcyk7XG5cdFx0bGluay5jaGlsZHJlbi5mb3JFYWNoKChsOiBMaW5rVHJlZVR5cGUpID0+IHtcblx0XHRcdGZsYXR0ZW5DaGlsZHJlbihsLCBjaGlsZHJlbik7XG5cdFx0fSlcblx0fVxuXHRyZXR1cm4gY2hpbGRyZW47XG59XG5cbmV4cG9ydCBjbGFzcyBUcmVlTWVudSB7XG5cdGFwcDogQXBwO1xuXHRVTDogRWxlbWVudDtcblxuXHRpZ25vcmVkTGlua3M6IHN0cmluZ1tdID0gW107XG5cdGxpbmtzVHJlZTogTGlua1RyZWVUeXBlW10gPSBbXTtcblxuXHRjb25zdHJ1Y3RvcihhcHA6IEFwcCwgc3RydWN0dXJlOiBFbGVtZW50LCBsaW5rc1RyZWU6IExpbmtUcmVlVHlwZVtdLCBldmVudDogKGlnbm9yZWRMaW5rczogc3RyaW5nW10pID0+IHZvaWQpIHtcblx0XHR0aGlzLmFwcCA9IGFwcDtcblx0XHRsZXQgbWVudSA9IHN0cnVjdHVyZS5jcmVhdGVFbCgnZGl2JywgeyBjbHM6ICd0cmVlLW1lbnUnfSk7XG5cdFx0dGhpcy5VTCA9IG1lbnUuY3JlYXRlRWwoJ3VsJyk7XG5cdFx0dGhpcy5saW5rc1RyZWUgPSBsaW5rc1RyZWU7XG5cblx0XHR0aGlzLnJlbmRlcih0aGlzLmxpbmtzVHJlZSwgdGhpcy5VTCwgW10sIGV2ZW50KTtcblx0fVxuXG5cdHJlbmRlcihsaW5rczogTGlua1RyZWVUeXBlW10sIG1lbnVFbDogRWxlbWVudCwgY2hpbGRyZW5MaW5rczogc3RyaW5nW10sIGV2ZW50OiAobGlua3M6IHN0cmluZ1tdKSA9PiB2b2lkKSB7XG5cdFx0aWYgKCFjaGlsZHJlbkxpbmtzKSBcblx0XHRcdGNoaWxkcmVuTGlua3MgPSBbXTtcblxuXHRcdGxpbmtzLmZvckVhY2goKGxpbms6IExpbmtUcmVlVHlwZSkgPT4ge1xuXHRcdFx0Y29uc3QgbGkgPSBtZW51RWwuY3JlYXRlRWwoJ2xpJyk7XG5cdFx0XHRjb25zdCBsaW5rRWwgPSBuZXcgTGluayh0aGlzLmFwcCwgbGksIGxpbmssIGZhbHNlKTtcblxuXHRcdFx0bGV0IHN0YXRlOiBib29sZWFuID0gIWNoaWxkcmVuTGlua3MuaW5jbHVkZXMobGlua0VsLmxpbmsubmFtZSk7XG5cblx0XHRcdGlmICghbGluay5leGlzdHMpXG5cdFx0XHRcdHN0YXRlID0gZmFsc2U7IFxuXG5cdFx0XHRuZXcgQ2hlY2tib3gobGksIHN0YXRlLCBsaW5rLmV4aXN0cywgKCkgPT4ge1xuXHRcdFx0XHRjb25zdCBpZ25vcmVkQ2hpbGRyZW4gPSBbbGlua0VsLmxpbmsubmFtZSwgLi4uZmxhdHRlbkNoaWxkcmVuKGxpbmtFbC5saW5rLCBbXSldO1xuXG5cdFx0XHRcdGlmIChzdGF0ZSA9PSBmYWxzZSkgeyBcblx0XHRcdFx0XHQvLyByZW1vdmUgY2hpbGRyZW4gZnJvbSBjaGlsZHJlbkxpbmtzXG5cdFx0XHRcdFx0Y2hpbGRyZW5MaW5rcyA9IGNoaWxkcmVuTGlua3MuZmlsdGVyKChjbDogc3RyaW5nKSA9PiAhaWdub3JlZENoaWxkcmVuLmluY2x1ZGVzKGNsKSk7XG5cdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0Y2hpbGRyZW5MaW5rcy5wdXNoKC4uLmlnbm9yZWRDaGlsZHJlbik7XG5cdFx0XHRcdFx0XG5cdFx0XHRcdFx0Ly8gcmVtb3ZlIGR1cGVzXG5cdFx0XHRcdFx0Y2hpbGRyZW5MaW5rcyA9IFsuLi5uZXcgU2V0KGNoaWxkcmVuTGlua3MpXVxuXHRcdFx0XHR9XG5cblx0XHRcdFx0dGhpcy5pZ25vcmVkTGlua3MgPSBjaGlsZHJlbkxpbmtzO1xuXHRcdFx0XHRcblx0XHRcdFx0Ly8gY2xlYW51cCBhbmQgcmVyZW5kZXJcblx0XHRcdFx0dGhpcy5VTC5lbXB0eSgpXG5cdFx0XHRcdHRoaXMucmVuZGVyKHRoaXMubGlua3NUcmVlLCB0aGlzLlVMLCBjaGlsZHJlbkxpbmtzLCBldmVudCk7XG5cdFx0XHR9KTtcblxuXHRcdFx0bGlua0VsLnJlbmRlcihzdGF0ZSk7XG5cblx0XHRcdGlmICgnY2hpbGRyZW4nIGluIGxpbmspIHtcblx0XHRcdFx0Y29uc3QgdWwgPSBsaS5jcmVhdGVFbCgndWwnKTtcblx0XHRcdFx0dGhpcy5yZW5kZXIobGluay5jaGlsZHJlbiwgdWwsIGNoaWxkcmVuTGlua3MsIGV2ZW50KTtcblx0XHRcdH1cblx0XHR9KTtcblxuXHRcdHJldHVybiBldmVudCh0aGlzLmlnbm9yZWRMaW5rcyk7XG5cdH1cbn1cbiIsICJleHBvcnQgY2xhc3MgQ2hlY2tib3gge1xyXG5cclxuXHRjYjogSFRNTElucHV0RWxlbWVudDtcclxuXHRjb25zdHJ1Y3RvcihlbGVtZW50OiBFbGVtZW50LCBzdGF0ZTogYm9vbGVhbiwgZXhpc3RzOiBib29sZWFuLCBvbkNsaWNrOiAoY29udGV4dDogQ2hlY2tib3gpID0+IHZvaWQpIHtcclxuXHRcdHRoaXMuY2IgPSBlbGVtZW50LmNyZWF0ZUVsKFwiaW5wdXRcIiwge1xyXG5cdFx0XHR0eXBlOiAnY2hlY2tib3gnLFxyXG5cdFx0XHRjbHM6ICdjaGVja2JveC1idG4nXHJcblx0XHR9KTtcclxuXHJcblx0XHR0aGlzLmNiLmNoZWNrZWQgPSBzdGF0ZTtcclxuXHJcblx0XHRpZiAoIWV4aXN0cykge1xyXG5cdFx0XHR0aGlzLmNiLmRpc2FibGVkID0gdHJ1ZTtcclxuXHRcdFx0dGhpcy5jYi5jaGVja2VkID0gZmFsc2U7XHJcblx0XHRcdHRoaXMuY2IuYWRkQ2xhc3MoJ2NoZWNrYm94LWJ0bi1kaXNhYmxlZCcpO1xyXG5cdFx0fVxyXG5cdFx0dGhpcy5jYi5vbmNsaWNrID0gKCkgPT4ge1xyXG5cdFx0XHRvbkNsaWNrKHRoaXMpO1xyXG5cdFx0fTtcdFxyXG5cdFx0cmV0dXJuIHRoaXM7XHJcblx0fVxyXG59XHJcbiJdLAogICJtYXBwaW5ncyI6ICI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQSx1QkFBdUQ7OztBQ0F2RCx1QkFBMkU7OztBQ0EzRSxzQkFBMkI7QUFFcEIsSUFBTSxpQkFBaUIsQ0FBQyxTQUFpQjtBQUMvQyxTQUFPLEtBQUssUUFBUSw2REFBNkQsR0FBRyxFQUFFLEtBQUs7QUFDNUY7QUFFTyxJQUFNLGdCQUFnQixPQUFPLE1BQVUsU0FBaUI7QUFDOUQsUUFBTSxPQUFPLEtBQUksTUFBTSxzQkFBc0IsSUFBSTtBQUVqRCxNQUFJLENBQUUsaUJBQWdCO0FBQ3JCLFdBQU87QUFFUixTQUFPLE1BQU0sS0FBSSxNQUFNLFdBQVcsSUFBSTtBQUN2Qzs7O0FDYk8sSUFBTSxTQUFOLE1BQWE7QUFBQSxFQUduQixZQUFZLFNBQWtCLE1BQWMsU0FBb0MsTUFBZTtBQUM5RixTQUFLLE1BQU0sUUFB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
